(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1074:function(e,t,n){"use strict";n.r(t);n(547),n(548),n(721),n(722),n(724);var r=n(522),a=n(523),o=n(1),i=n.n(o),s=n(34),c=n.n(s),l=n(3),u={en:n(493),fr:n(494)},d=(n(732),n(163)),p=n(23),f=n(1105),m=n(1100),g=n(1103),h=n(159),v=n(1079),b=n(1080),A=n(1081),E=n(1082),y=n(1083),w=n(498),k=n.n(w),O=function(e){return i.a.createElement("div",{className:"centered-container"},i.a.createElement("div",{className:"middle"},i.a.createElement("div",{className:"inner"},i.a.createElement("img",{className:"logo",src:k.a,alt:"loading"}),i.a.createElement(v.a,{body:!0},i.a.createElement(b.a,{className:"login-box"},i.a.createElement("div",null,i.a.createElement(A.a,null,i.a.createElement("strong",null,e.title||"Botpress")),i.a.createElement(E.a,null,e.subtitle||""),e.error&&i.a.createElement(y.a,{color:"danger"},e.error),e.children))),e.poweredBy&&i.a.createElement("div",{className:"homepage"},i.a.createElement("p",null,l.lang.tr("admin.poweredBy")," ",i.a.createElement("a",{href:"https://botpress.com"},"Botpress"))))))},C=function(e){var t=e.location.state&&e.location.state.error;return t?i.a.createElement(O,{title:l.lang.tr("authenticationFailed")},i.a.createElement("p",null,t)):(setTimeout(function(){window.close()},1e3),i.a.createElement(O,{title:"Authentication"},i.a.createElement("p",null,l.lang.tr("successfullyAuthenticated"))))},x=n(112),R=n(7),S=n.n(R),I=n(9),T=n(19),j=n(48),N=n(49),D=n(53),L=n(52),B=n(54),P=n(106),_=n(499),M=n(303),F=n.n(M),U=n(71),z=n(1085),q=n(1086),H=n(1087),W=n(1088),V=n(1102),Y=n(1089),Z=n(1090),Q=n(1091),G=n(15),K=n.n(G),X=n(185),J=n.n(X),$=n(230),ee=n.n($),te=n(40),ne=n(124),re=function(e){return d.yb.create({className:"recipe-toaster",position:te.a.TOP_RIGHT}).show({message:e,intent:ne.a.SUCCESS,timeout:1e3})},ae=function(e){return d.yb.create({className:"recipe-toaster",position:te.a.TOP_RIGHT}).show({message:e,intent:ne.a.DANGER,timeout:3e3})},oe=function(e){return d.yb.create({className:"recipe-toaster",position:te.a.TOP_RIGHT}).show({message:e,intent:ne.a.PRIMARY,timeout:1e3})},ie=n(8),se=n(24),ce=n.n(se),le=n(113),ue=n.n(le),de=n(164),pe=n(225),fe=n.n(pe),me=function(e){e.location=Object.assign(e.location,{query:fe.a.parse(e.location.search)})},ge=Object(de.a)({basename:"".concat(window.ROOT_PATH,"/admin")});me(ge),ge.listen(function(){return me(ge)});var he=ge,ve="bp/token",be="bp/workspace",Ae="bp/chat_user_auth",Ee="/home",ye=ue()("5m"),we=ue()("10m"),ke=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=localStorage.getItem(ve),n=t&&JSON.parse(t);return e?n&&n.token:n},Oe=function(e){var t=e.split("."),n=Object(ie.a)(t,2)[1],r=JSON.parse(atob(n)),a={token:e,expiresAt:r.exp,issuedAt:r.iat};localStorage.setItem(ve,JSON.stringify(a))},Ce=function(){var e=ke(!1);return ce.a.duration(ce.a.unix(e.expiresAt).diff(ce()())).asMilliseconds()<we};function xe(e){e?localStorage.setItem(be,e):localStorage.removeItem(be)}function Re(){return localStorage.getItem(be)}function Se(e){e?localStorage.setItem(Ae,JSON.stringify(e)):localStorage.removeItem(Ae)}function Ie(){try{return JSON.parse(localStorage.getItem(Ae)||"")}catch(e){return}}function Te(){localStorage.removeItem(ve),window.location.href=window.location.origin+window.ROOT_PATH}var je=function(){function e(){var t=this;Object(j.a)(this,e),this.login=function(){var e=Object(I.a)(S.a.mark(function e(n,r,a){var o,i;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isAuthenticated()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Le.getAnonymous({toastErrors:!1}).post("/auth"+r,n,{timeout:15e3});case 4:return o=e.sent,i=o.data,Oe(i.payload.token),e.next=9,t.afterLoginRedirect(a);case 9:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),this.afterLoginRedirect=function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r,a,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Ie())){e.next=17;break}return e.prev=2,e.next=5,Le.getSecured().post("/auth/me/chatAuth",n);case 5:return r=e.sent,xe(r.data),e.abrupt("return",he.replace("/chatAuthResult"));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",he.replace({pathname:"/chatAuthResult",state:{error:e.t0.message}}));case 14:return e.prev=14,Se(void 0),e.finish(14);case 17:return e.next=19,Le.getSecured().get("/auth/me/workspaces");case 19:if(a=e.sent,(o=a.data)&&o.length){e.next=23;break}return e.abrupt("return",he.replace("/noAccess"));case 23:xe(Re()||o[0].workspace),he.replace(t||Ee);case 25:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),this.register=function(){var e=Object(I.a)(S.a.mark(function e(n,r){var a,o,i,s;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.email,o=n.password,!t.isAuthenticated()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Le.getAnonymous({toastErrors:!1}).post("/auth"+r,{email:a,password:o});case 5:return i=e.sent,s=i.data,Oe(s.payload.token),e.next=10,t.afterLoginRedirect();case 10:he.replace(Ee);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.logout=function(){Te()}}return Object(N.a)(e,[{key:"isAuthenticated",value:function(){return function(){var e=ke(!1);if(e){var t=e.token,n=e.expiresAt;return!!t&&ce()().unix()<n}return!1}()}}]),e}(),Ne=function(e,t){var n=J.a.create(Object(T.a)({timeout:6e3},e));return n.interceptors.response.use(function(e){return e},function(e){var t=K.a.get(e,"response.data"),n=K.a.get(t,"errorCode");return n?["BP_0041"].includes(n)?Te():ee.a.reject(t):ee.a.reject(e)}),t.toastErrors&&n.interceptors.response.use(function(e){return e},function(e){return function(e){var t=K.a.get(e,"response.data.errorCode")||K.a.get(e,"errorCode"),n=K.a.get(e,"response.data.message")||K.a.get(e,"message"),r=K.a.get(e,"response.data.docs")||K.a.get(e,"docs"),a=i.a.createElement("span",null,t&&i.a.createElement("span",null,"[",t,"]")," ",n," ",r&&i.a.createElement("a",{href:r,target:"_blank"},"More information"));t||a||(a=i.a.createElement("span",null,"Something wrong happened. Please try again later.")),ae(a)}(e),ee.a.reject(e)}),n},De=Object({NODE_ENV:"production",PUBLIC_URL:"admin"}).REACT_APP_API_URL?{baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"admin"}).REACT_APP_API_URL,"/api/v1")}:{baseURL:"".concat(window.ROOT_PATH,"/api/v1")},Le={getApiPath:function(){return De.baseURL},getSecured:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,n=void 0===t?void 0:t,r=e.toastErrors,a=void 0===r||r,o=e.timeout,i=void 0===o?1e4:o;return n||(n=ke()),Ne(Object(T.a)({timeout:i,headers:{Authorization:"Bearer ".concat(n),"X-BP-Workspace":Re()}},De),{toastErrors:a})},getAnonymous:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toastErrors;return Ne(De,{toastErrors:void 0===e||e})}},Be={bots:void 0,health:void 0,loadingBots:!1,botTemplates:[],botTemplatesFetched:!1,botCategories:[],botCategoriesFetched:!1},Pe=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/bots/categories");case 2:n=e.sent,r=n.data,t({type:"bots/RECEIVED_BOT_CATEGORIES",categories:r.payload.categories});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_e=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"bots/FETCH_BOTS_REQUESTED"}),e.next=3,Le.getSecured().get("/admin/bots");case 3:if(n=e.sent,(r=n.data)&&r.payload){e.next=7;break}return e.abrupt("return");case 7:t({type:"bots/FETCH_BOTS_RECEIVED",bots:r.payload.bots,workspace:r.payload.workspace});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Me=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/bots/health");case 2:if(n=e.sent,(r=n.data)&&r.payload){e.next=6;break}return e.abrupt("return");case 6:t({type:"bots/FETCH_BOT_STATUS_RECEIVED",health:r.payload});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Fe={licensing:null},Ue=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured({toastErrors:!1}).get("admin/license/status");case 2:n=e.sent,r=n.data,t({type:"license/FETCH_LICENSING_RECEIVED",licensing:r.payload});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ze={languages:null,workspaces:null,serverConfig:null,serverConfigLoaded:!1},qe=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/server/serverConfig");case 2:n=e.sent,r=n.data,t({type:"server/FETCH_FEATURE_RECEIVED",serverConfig:r});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},He=n(448),We=n(6),Ve=n.n(We),Ye=n(502),Ze=n(125),Qe=n(503),Ge={loadedModules:[],modules:[]},Ke=n(73),Xe={stats:null,lastDate:null,loading:!0,loadingIncidents:!0},Je={roles:[],loading:!1},$e=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t,n){var r,a,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),!r.roles.loading){e.next=3;break}return e.abrupt("return");case 3:return t({type:"roles/FETCH_ROLES_REQUESTED"}),e.next=6,Le.getSecured().get("/admin/roles");case 6:a=e.sent,o=a.data,t({type:"roles/FETCH_ROLES_RECEIVED",roles:o.payload.roles});case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},et={users:void 0,loading:!1,loadingUsers:!1,profile:void 0,permissions:void 0,workspaces:void 0,authConfig:void 0,currentWorkspace:void 0},tt=function(e){return function(){var t=Object(I.a)(S.a.mark(function t(n,r){var a,o,i,s;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!a.user.loadingUsers){t.next=3;break}return t.abrupt("return");case 3:return n({type:"user/FETCH_USERS_REQUESTED"}),o=e&&"?roles=".concat(e)||"",t.next=7,Le.getSecured().get("/admin/users".concat(o));case 7:i=t.sent,s=i.data,n({type:"user/FETCH_USERS_RECEIVED",users:s.payload});case 10:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},nt=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"user/MY_PROFILE_REQUESTED"}),e.prev=1,e.next=4,Le.getSecured().get("/auth/me/profile");case 4:n=e.sent,r=n.data,t({type:"user/MY_PROFILE_RECEIVED",profile:r.payload}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Te();case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},rt=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/auth/me/workspaces");case 2:n=e.sent,r=n.data,t({type:"user/MY_WORKSPACES_RECEIVED",workspaces:r});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},at=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getAnonymous().get("/auth/config");case 2:n=e.sent,r=n.data,t({type:"user/AUTH_CONFIG_RECEIVED",authConfig:r.payload.strategies});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ot=function(e){return function(){var t=Object(I.a)(S.a.mark(function t(n){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(e),t.next=3,n(nt());case 3:return t.next=5,n(Ue());case 5:n({type:"user/CURRENT_WORKSPACE_CHANGED",currentWorkspace:e});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},it=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("/version",{baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"admin"}).REACT_APP_API_URL});case 3:n=e.sent,r=n.data,t({type:"version/RECEIVE_CURRENT_VERSION",payload:{version:r}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("could not fetch current version");case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},st=function(){return function(){var e=Object(I.a)(S.a.mark(function e(t,n){var r,a,o,i,s,c;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n().version.latestReleases.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,J.a.get("https://api.github.com/repos/botpress/botpress/releases");case 5:return r=e.sent,a=r.data,o=K.a.take(a,5).map(function(e){return{version:e.name.startsWith("v")?e.name.slice(1):e.name,details:e.body,githubUrl:e.html_url,releaseDate:e.created_at,daysAgo:ce()(e.created_at).fromNow(),dockerUrl:""}}),e.prev=8,e.next=11,Le.getSecured().get("/admin/docker_images");case 11:i=e.sent,s=i.data,c=s.results.map(function(e){return{name:e.name,version:e.name.slice(1).replace(/_/g,"."),hash:e.images[0].digest.replace(/\:/g,"-")}}),o.forEach(function(e){var t=c.find(function(t){return t.version===e.version});t&&(e.dockerUrl="https://hub.docker.com/layers/botpress/server/".concat(t.name,"/images/").concat(t.hash))}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.error("could not fetch docker image information",e.t0);case 20:t({type:"version/RECEIVE_LATEST_RELEASES",payload:{releases:o}}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(2),console.error("could not fetch current version");case 26:case"end":return e.stop()}},e,null,[[2,23],[8,17]])}));return function(t,n){return e.apply(this,arguments)}}()},ct={currentVersion:"",latestReleases:[]},lt=Object(Ze.c)({routing:h.c,license:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"license/FETCH_LICENSING_RECEIVED":return Object(T.a)({},e,{licensing:t.licensing});default:return e}},bots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"bots/RECEIVED_BOT_CATEGORIES":return Object(T.a)({},e,{botCategories:t.categories||[],botCategoriesFetched:!0});case"bots/RECEIVED_BOT_TEMPLATES":return Object(T.a)({},e,{botTemplates:t.templates||[],botTemplatesFetched:!0});case"bots/FETCH_BOTS_REQUESTED":return Object(T.a)({},e,{loadingBots:!0});case"bots/FETCH_BOTS_RECEIVED":return Object(T.a)({},e,{loadingBots:!1,bots:t.bots,workspace:t.workspace});case"bots/FETCH_BOT_STATUS_RECEIVED":return Object(T.a)({},e,{health:t.health});case"bots/FETCH_BOTS_BY_WORKSPACE":return Object(T.a)({},e,{botsByWorkspace:t.bots});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"user/MY_PROFILE_REQUESTED":return Object(T.a)({},e,{loading:!0});case"user/FETCH_USERS_REQUESTED":return Object(T.a)({},e,{loadingUsers:!0});case"user/MY_PROFILE_RECEIVED":return Object(T.a)({},e,{loading:!1,profile:t.profile,permissions:t.profile.permissions});case"user/FETCH_USERS_RECEIVED":return Object(T.a)({},e,{loadingUsers:!1,users:t.users});case"user/MY_WORKSPACES_RECEIVED":return Object(T.a)({},e,{workspaces:t.workspaces});case"user/AUTH_CONFIG_RECEIVED":return Object(T.a)({},e,{authConfig:t.authConfig});case"user/CURRENT_WORKSPACE_CHANGED":return Object(T.a)({},e,{currentWorkspace:t.currentWorkspace});case"user/AVAILABLE_USERS_RECEIVED":return Object(T.a)({},e,{availableUsers:t.availableUsers});case"user/WORKSPACE_ROLLOUT_RECEIVED":return Object(T.a)({},e,{workspaceRollout:t.rollout});default:return e}},roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"roles/FETCH_ROLES_REQUESTED":return Object(T.a)({},e,{loading:!0});case"roles/FETCH_ROLES_RECEIVED":return Object(T.a)({},e,{loading:!1,roles:t.roles});default:return e}},monitoring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"monitoring/FETCH_STATS_FULL_RECEIVED":return Object(T.a)({},e,{stats:t.stats,lastDate:t.toTime,loading:!1});case"bots/FETCH_STATS_PARTIAL_RECEIVED":return Object(T.a)({},e,{stats:[].concat(Object(Ke.a)(e.stats||[]),Object(Ke.a)(t.stats)),lastDate:t.toTime});case"monitoring/FETCH_STATS_FULL_REQUESTED":return Object(T.a)({},e,{loading:!0});case"bots/FETCH_INCIDENTS_RECEIVED":return Object(T.a)({},e,{incidents:t.data,loadingIncidents:!1});case"bots/FETCH_INCIDENTS_REQUESTED":return Object(T.a)({},e,{loadingIncidents:!0});default:return e}},modules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"bots/FETCH_MODULES_RECEIVED":return Object(T.a)({},e,{modules:t.modules});case"bots/FETCH_LOADED_MODULES_RECEIVED":return Object(T.a)({},e,{loadedModules:t.modules});default:return e}},server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"server/FETCH_LANGUAGES_RECEIVED":return Object(T.a)({},e,{languages:t.languages});case"server/FETCH_WORKSPACES_RECEIVED":return Object(T.a)({},e,{workspaces:t.workspaces});case"server/FETCH_FEATURE_RECEIVED":return Object(T.a)({},e,{serverConfig:t.serverConfig,serverConfigLoaded:!0});default:return e}},version:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"version/RECEIVE_LATEST_RELEASES":return Object(T.a)({},e,{latestReleases:t.payload.releases});case"version/RECEIVE_CURRENT_VERSION":return Object(T.a)({},e,{currentVersion:t.payload.version});default:return e}}}),ut=[Qe.a,Object(h.b)(he)],dt=Ze.d.apply(void 0,[Ze.a.apply(void 0,ut)].concat([])),pt=Object(Ze.e)(lt,{},dt),ft=function(e){var t=pt.getState().user.profile;return!!t&&(!!t.isSuperAdmin||!e.superAdmin&&(!e.operation||!e.resource||!(t.permissions&&!Object(Ye.checkRule)(t.permissions,e.operation,e.resource))))},mt=function(){var e=pt.getState().user.permissions;return e&&!!e.find(function(e){return e.res.startsWith("user.bots")})},gt=Object(p.b)(function(e){return{permissions:e.user.permissions}},void 0)(function(e){var t=e.resource,n=e.operation,r=e.superAdmin,a=e.children,o=e.fallback,i=void 0===o?null:o;return ft({resource:t,operation:n,superAdmin:r})?a:i}),ht=function(e){return i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"bp-sa-title"},i.a.createElement("span",null,e.title||""),e.helpText&&i.a.createElement(d.zb,{content:e.helpText},i.a.createElement(d.L,{icon:"info-sign",color:He.a.LIGHT_GRAY1}))),i.a.createElement("div",{className:"bp-sa-overflow"},i.a.createElement("div",{className:Ve()("bp-sa-content",{"bp-sa-fullwidth":e.fullWidth},e.contentClassName)},i.a.createElement(gt,{superAdmin:e.superAdmin,fallback:i.a.createElement(d.i,{intent:ne.a.DANGER},l.lang.tr("admin.pageRestrictedToAdmins"))},e.children))))},vt=function(e){return i.a.createElement("div",{className:"sticky-action-bar"},i.a.createElement("div",{className:"sticky-action-bar--content"},e.children))},bt=[{label:"Published",value:"public"},{label:"Collaborators Only",value:"private"},{label:"Unmounted",value:"disabled"}],At=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).initialFormState={name:"",description:"",privacyPolicy:"",avatarUrl:"",coverPictureUrl:"",category:void 0,website:"",phoneNumber:"",termsConditions:"",emailAddress:""},n.state=Object(T.a)({id:""},n.initialFormState,{error:void 0,categories:[],moreOpen:!1,languages:[],defaultLanguage:void 0,isSaving:!1}),n.prepareCategories=function(){n.props.botCategories&&n.setState({categories:n.props.botCategories.map(function(e){return{label:e,value:e}})})},n.updateLanguages=function(){if(n.props.languages){var e=K.a.sortBy(n.props.languages,"name").map(function(e){return{label:e.name,value:e.code}});n.setState({languagesList:e,selectedLanguages:e.filter(function(e){return(n.state.languages||[]).includes(e.value)}),selectedDefaultLang:e.find(function(e){return e.value===n.state.defaultLanguage})})}},n.cancel=Object(I.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:n.state.name,description:n.state.description,website:n.state.website,phoneNumber:n.state.phoneNumber,termsConditions:n.state.termsConditions,privacyPolicy:n.state.privacyPolicy,emailAddress:n.state.emailAddress,status:n.state.status,category:n.state.category,avatarUrl:n.state.avatarUrl,coverPictureUrl:n.state.coverPictureUrl,selectedLanguages:n.state.selectedLanguages.map(function(e){return e.value}),selectedDefaultLang:n.state.selectedDefaultLang.value},e.t0=JSON.stringify(n.initialFormState)!==JSON.stringify(t),!e.t0){e.next=6;break}return e.next=5,Object(l.confirmDialog)("There are unsaved changes in this form. Are you sure you want to cancel?",{acceptLabel:"Cancel",declineLabel:"Continue editing"});case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return");case 8:n.backToList();case 9:case"end":return e.stop()}},e)})),n.backToList=function(){n.props.history.push("/workspace/")},n.saveChanges=Object(I.a)(S.a.mark(function e(){var t,r,a,o,i,s,c,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({error:void 0,isSaving:!0}),t=n.state,r=t.selectedLanguages,a=t.selectedDefaultLang,o=t.category,i={name:n.state.name,description:n.state.description,category:o&&o.value,defaultLanguage:a&&a.value,languages:r&&r.map(function(e){return e.value}),details:{website:n.state.website,phoneNumber:n.state.phoneNumber,termsConditions:n.state.termsConditions,emailAddress:n.state.emailAddress,avatarUrl:n.state.avatarUrl,coverPictureUrl:n.state.coverPictureUrl,privacyPolicy:n.state.privacyPolicy}},s=n.state.status&&n.state.status.value,i.disabled="disabled"===s&&i.defaultLanguage===n.bot.defaultLanguage,i.private="private"===s,c=F.a.validate(i,_.BotEditSchema),!(l=c.error)){e.next=11;break}return ae("The form contains errors"),n.setState({error:l,isSaving:!1}),e.abrupt("return");case 11:return e.next=13,Le.getSecured().post("/admin/bots/".concat(n.state.botId),i).catch(function(e){return n.setState({error:e,isSaving:!1})});case 13:return e.next=15,n.props.fetchBots();case 15:re("Bot configuration updated successfully"),n.backToList();case 17:case"end":return e.stop()}},e)})),n.toggleMoreOpen=function(){n.setState({moreOpen:!n.state.moreOpen})},n.handleInputChanged=function(e){return n.setState(Object(x.a)({},e.target.name,e.target.value))},n.handleStatusChanged=function(e){return n.setState({status:e})},n.handleCategoryChanged=function(e){return n.setState({category:e})},n.handleDefaultLangChanged=function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.selectedDefaultLang){e.next=3;break}return n.setState({selectedDefaultLang:t}),e.abrupt("return");case 3:if(n.state.selectedDefaultLang===t){e.next=8;break}return e.next=6,Object(l.confirmDialog)("Are you sure you want to change the language of your bot from ".concat(n.state.selectedDefaultLang.label," to ").concat(t.label,"? All of your content elements will be copied, make sure you translate them."),{acceptLabel:"Change"});case 6:e.sent&&n.setState({selectedDefaultLang:t});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleLanguagesChanged=function(e){n.setState({selectedLanguages:e})},n.handleCommunityLanguageChanged=function(e){n.setState({selectedDefaultLang:e,selectedLanguages:[e]})},n.handleImageFileChanged=function(){var e=Object(I.a)(S.a.mark(function e(t){var r,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.name,t.target.files){e.next=3;break}return e.abrupt("return");case 3:if(t.target.files[0].type.includes("image/")){e.next=6;break}return n.setState({error:"".concat(r," requires an image file")}),e.abrupt("return");case 6:return(a=new FormData).append("file",t.target.files[0]),n.state.error&&n.setState({error:null}),e.next=11,Le.getSecured().post("/bots/".concat(n.state.botId,"/media"),a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){n.setState(Object(x.a)({},r,e.data.url))}).catch(function(e){n.setState({error:e})});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.renderLanguages=function(){return n.props.licensing&&n.props.licensing.isPro?i.a.createElement(z.a,null,i.a.createElement(q.a,{md:6},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"sup-lang"},i.a.createElement("strong",null,"Supported Languages"),n.renderHelp("Your bot can support different languages, select desired languages","sup-lang")),i.a.createElement(U.a,{options:n.state.languagesList,isMulti:!0,value:n.state.selectedLanguages,onChange:n.handleLanguagesChanged}))),i.a.createElement(q.a,{md:6},i.a.createElement(H.a,null,i.a.createElement(W.a,null,i.a.createElement("strong",null,"Default language"),n.renderHelp("Choose the default language for your bot. First of supported language is picked by default.","def-lang")),i.a.createElement(U.a,{options:n.state.languagesList,value:n.state.selectedDefaultLang,onChange:n.handleDefaultLangChanged})))):i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"sup-lang"},i.a.createElement("strong",null,"Language"),n.renderHelp("Choose desired language among those","sup-lang")),i.a.createElement(U.a,{options:n.state.languagesList,value:n.state.selectedLanguages,onChange:n.handleCommunityLanguageChanged}))},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.botCategoriesFetched||this.props.fetchBotCategories(),this.props.licensing||this.props.fetchLicensing(),this.props.languages||this.props.fetchLanguages(),this.props.fetchBots(),this.prepareCategories()}},{key:"componentDidUpdate",value:function(e){e.bots!==this.props.bots&&this.loadBot(),e.botCategories!==this.props.botCategories&&this.prepareCategories(),e.languages!==this.props.languages&&this.updateLanguages()}},{key:"loadBot",value:function(){var e=this,t=this.props.match.params.botId;this.bot=this.props.bots.find(function(e){return e.id===t});var n=this.bot.disabled?"disabled":this.bot.private?"private":"public",r=K.a.get(this.bot,"details",{});this.initialFormState={name:this.bot.name||"",description:this.bot.description||"",website:r.website||"",phoneNumber:r.phoneNumber||"",termsConditions:r.termsConditions||"",privacyPolicy:r.privacyPolicy||"",emailAddress:r.emailAddress||"",status:bt.find(function(e){return e.value===n}),category:this.state.categories.find(function(t){return t.value===e.bot.category}),avatarUrl:r.avatarUrl||"",coverPictureUrl:r.coverPictureUrl||"",selectedLanguages:this.bot.languages||[],selectedDefaultLang:this.bot.defaultLanguage},this.setState(Object(T.a)({botId:t},this.initialFormState,{languages:this.bot.languages||[],defaultLanguage:this.bot.defaultLanguage}),this.updateLanguages)}},{key:"renderHelp",value:function(e,t){return i.a.createElement("span",null,i.a.createElement(P.c,{id:"help".concat(t),className:"section-title-help"}),i.a.createElement(V.a,{placement:"right",target:"help".concat(t)},e))}},{key:"renderDetails",value:function(){var e=this.state,t=e.categories,n=e.category,r=e.description,a=e.error,o=e.name,s=e.status;return i.a.createElement("div",null,a&&i.a.createElement(y.a,{color:"danger"},a.message),i.a.createElement(Y.a,null,i.a.createElement(z.a,{form:!0},i.a.createElement(q.a,{md:5},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"name"},i.a.createElement("strong",null,"Name")),i.a.createElement(Z.a,{id:"input-name",type:"text",name:"name",value:o,onChange:this.handleInputChanged}))),i.a.createElement(q.a,{md:4},!!t.length&&i.a.createElement(H.a,null,i.a.createElement(W.a,null,i.a.createElement("strong",null,"Category")),i.a.createElement(U.a,{id:"select-category",options:t,value:n,onChange:this.handleCategoryChanged}))),i.a.createElement(q.a,{md:3},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"status"},i.a.createElement("strong",null,"Status"),this.renderHelp("Public bots can be accessed by anyone, while private are only accessible by authenticated users.\n                Please note that private bots cannot be embedded on a website.\n                This should only be used for testing purposes while developing or if you access it directly using shortlinks")),i.a.createElement(U.a,{id:"select-status",options:bt,value:s,onChange:this.handleStatusChanged,isSearchable:!1})))),i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"description"},i.a.createElement("strong",null,"Description")),i.a.createElement(Z.a,{id:"input-description",type:"textarea",name:"description",value:r,onChange:this.handleInputChanged})),this.renderLanguages()),this.renderCollapsible())}},{key:"renderMoreDetails",value:function(){return i.a.createElement(o.Fragment,null,i.a.createElement(z.a,{form:!0},i.a.createElement(q.a,{md:4},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"website"},i.a.createElement("strong",null,"Website")),i.a.createElement(Z.a,{id:"input-website",type:"text",name:"website",value:this.state.website,onChange:this.handleInputChanged}))),i.a.createElement(q.a,{md:4},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"phoneNumber"},i.a.createElement("strong",null,"Phone Number")),i.a.createElement(Z.a,{id:"input-phone",type:"text",name:"phoneNumber",value:this.state.phoneNumber,onChange:this.handleInputChanged}))),i.a.createElement(q.a,{md:4},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"emailAddress"},i.a.createElement("strong",null,"Contact E-mail")),i.a.createElement(Z.a,{id:"input-email",type:"text",name:"emailAddress",value:this.state.emailAddress,onChange:this.handleInputChanged})))),i.a.createElement(z.a,{form:!0},i.a.createElement(q.a,{md:6},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"termsConditions"},i.a.createElement("strong",null,"Link to Terms & Conditions")),i.a.createElement(Z.a,{id:"input-termsConditions",type:"text",name:"termsConditions",value:this.state.termsConditions,onChange:this.handleInputChanged}))),i.a.createElement(q.a,{md:6},i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"termsConditions"},i.a.createElement("strong",null,"Link to Privacy Policy")),i.a.createElement(Z.a,{type:"text",id:"input-privacyPolicy",name:"privacyPolicy",value:this.state.privacyPolicy,onChange:this.handleInputChanged})))),i.a.createElement("small",null,"This information is displayed on the Bot Information page,"," ",i.a.createElement("a",{href:"https://botpress.com/docs/tutorials/webchat-embedding",target:"_blank",rel:"noopener noreferrer"},"check the documentation for more details")))}},{key:"renderPictures",value:function(){return i.a.createElement(o.Fragment,null,i.a.createElement(z.a,null,i.a.createElement(q.a,{md:6},i.a.createElement(W.a,null,i.a.createElement("strong",null,"Bot Avatar")),i.a.createElement(Z.a,{type:"file",accept:"image/*",name:"avatarUrl",onChange:this.handleImageFileChanged}),this.state.avatarUrl!==this.initialFormState.avatarUrl&&i.a.createElement("p",{className:"configUploadSuccess"},"The bot avatar has been uploaded successfully. You need to save the form in order for the changes to take effect."),this.state.avatarUrl&&i.a.createElement("img",{height:75,alt:"avatar",src:this.state.avatarUrl})),i.a.createElement(q.a,{md:6},i.a.createElement(W.a,null,i.a.createElement("strong",null,"Cover Picture")),i.a.createElement(Z.a,{type:"file",accept:"image/*",name:"coverPictureUrl",onChange:this.handleImageFileChanged}),this.state.coverPictureUrl!==this.initialFormState.coverPictureUrl&&i.a.createElement("p",{className:"configUploadSuccess"},"The cover picture has been uploaded successfully. You need to save the form in order for the changes to take effect."),this.state.coverPictureUrl&&i.a.createElement("img",{className:"coverImg",alt:"cover",src:this.state.coverPictureUrl}))))}},{key:"renderCollapsible",value:function(){var e=this;return i.a.createElement("div",{className:"bp_users-container"},i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return e.setState({moreCollapsed:!e.state.moreCollapsed})},className:"bp_users-role_header"},i.a.createElement("div",{className:"role float-left"},i.a.createElement("span",{className:"title"},"More details")),this.state.moreCollapsed?i.a.createElement(P.e,null):i.a.createElement(P.d,null))),i.a.createElement(Q.a,{isOpen:this.state.moreCollapsed},i.a.createElement("div",{style:{padding:15}},this.renderMoreDetails())),i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return e.setState({avatarCollapsed:!e.state.avatarCollapsed})},className:"bp_users-role_header"},i.a.createElement("div",{className:"role float-left"},i.a.createElement("span",{className:"title"},"Pictures")),this.state.avatarCollapsed?i.a.createElement(P.e,null):i.a.createElement(P.d,null))),i.a.createElement(Q.a,{isOpen:this.state.avatarCollapsed},i.a.createElement("div",{style:{padding:15}},this.renderPictures())))}},{key:"render",value:function(){return i.a.createElement(ht,{contentClassName:"with-sticky-action-bar",title:"Bot - ".concat(this.state.name||this.state.botId),helpText:"This page shows the details you can configure for a desired bot."},i.a.createElement(d.i,{title:"This menu is moving",intent:"warning"},"This menu will be permanently moving to ",i.a.createElement("a",{href:"studio/".concat(this.state.botId,"/config")},"the studio.")),this.renderDetails(),i.a.createElement(vt,null,i.a.createElement(d.g,{id:"btn-cancel",intent:ne.a.NONE,text:"Cancel",disabled:this.state.isSaving,onClick:this.cancel}),i.a.createElement(d.g,{id:"btn-save",intent:ne.a.PRIMARY,icon:"floppy-disk",text:"Save changes",disabled:this.state.isSaving,onClick:this.saveChanges})))}}]),t}(o.Component),Et={fetchBots:_e,fetchBotCategories:Pe,fetchLicensing:Ue,fetchLanguages:function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/languages/available");case 2:n=e.sent,r=n.data,t({type:"server/FETCH_LANGUAGES_RECEIVED",languages:r.languages});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},yt=Object(p.b)(function(e){return{bots:e.bots.bots,botCategories:e.bots.botCategories,botCategoriesFetched:e.bots.botCategoriesFetched,licensing:e.license.licensing,languages:e.server.languages}},Et)(At),wt=n(1101),kt=(n(906),n(122)),Ot=n(4),Ct=function(){return[{label:l.lang.tr("admin.logs.timespan.last15m"),dateRange:[ce()().subtract(15,"m").toDate(),new Date],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.last60m"),dateRange:[ce()().subtract(1,"h").toDate(),new Date],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.last4h"),dateRange:[ce()().subtract(6,"h").toDate(),new Date],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.last24h"),dateRange:[ce()().subtract(24,"h").toDate(),new Date],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.today"),dateRange:[ce()().startOf("day").toDate(),new Date],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.yesterday"),dateRange:[ce()().startOf("day").subtract(24,"h").toDate(),ce()().startOf("day").toDate()],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.thisWeek"),dateRange:[ce()().startOf("week").toDate(),new Date],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.lastWeek"),dateRange:[ce()().startOf("week").subtract(7,"d").toDate(),ce()().startOf("week").toDate()],includeTime:!0},{label:l.lang.tr("admin.logs.timespan.last30d"),dateRange:[ce()().subtract(30,"d").toDate(),new Date]}]},xt=function(e){var t=e.filter,n=e.onChange;return i.a.createElement(d.M,{value:t?t.value:"",onChange:function(e){return n(e.target.value)}})},Rt=function(e,t,n){return"botId"===n.id?t[e.id]===e.value:(t[e.id]||"").toLowerCase().includes(e.value.toLowerCase())},St=Object(p.b)(function(e){return{bots:e.bots.bots,profile:e.user.profile,currentWorkspace:e.user.currentWorkspace}},{fetchBots:_e})(function(e){var t=[{label:l.lang.tr("admin.logs.level.all"),value:""},{label:l.lang.tr("admin.logs.level.info"),value:"info"},{label:l.lang.tr("admin.logs.level.warning"),value:"warn"},{label:l.lang.tr("admin.logs.level.error"),value:"error"},{label:l.lang.tr("admin.logs.level.critical"),value:"critical"}],n=[{label:l.lang.tr("admin.logs.level.everything"),value:""}],r=Object(o.useState)([]),a=Object(ie.a)(r,2),s=a[0],c=a[1],u=Object(o.useState)(t[0]),p=Object(ie.a)(u,2),f=p[0],m=p[1],g=Object(o.useState)(n[0]),h=Object(ie.a)(g,2),v=h[0],b=h[1],A=Object(o.useState)(n[0]),E=Object(ie.a)(A,2),y=E[0],w=E[1],k=Object(o.useState)(),O=Object(ie.a)(k,2),C=O[0],x=O[1],R=Object(o.useState)(),T=Object(ie.a)(R,2),j=T[0],N=T[1],D=Object(o.useState)([]),L=Object(ie.a)(D,2),B=L[0],P=L[1],_=Object(o.useState)(!e.profile.isSuperAdmin),M=Object(ie.a)(_,2),F=M[0],U=M[1],z=Object(o.useState)([]),q=Object(ie.a)(z,2),H=q[0],W=q[1];Object(o.useEffect)(function(){e.bots||e.fetchBots(),C||x(Ct()[1].dateRange),V()},[C,F,e.currentWorkspace]),Object(o.useEffect)(function(){var e=fe.a.parse(window.location.search);e.botId?(b({label:e.botId,value:e.botId}),N([{id:"botId",value:e.botId}])):(b(n[0]),N([]))},[H,e.bots]);var V=function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&C[0]&&C[1]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="fromDate=".concat(C[0].getTime(),"&toDate=").concat(C[1].getTime(),"&onlyWorkspace=").concat(F),e.next=6,Le.getSecured().get("/admin/logs?".concat(n));case 6:r=e.sent.data,c(r),W(K.a.uniq(r.map(function(e){return e.botId}).filter(Boolean))),P(K.a.uniq(r.map(function(e){return e.hostname}).filter(Boolean))),t&&re(l.lang.tr("admin.logs.refreshed")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=e.onChange;if(!B)return null;var r=[].concat(n,Object(Ke.a)(B.map(function(e){return{label:e,value:e}})));return i.a.createElement(l.Dropdown,{items:r,defaultItem:y,onChange:function(e){w(e),t(e.value)}})},Z=function(t){var r=t.onChange;if(!e.bots)return null;var a=[].concat(n,Object(Ke.a)(H.map(function(e){return{label:e,value:e}})));return i.a.createElement(l.Dropdown,{items:a,defaultItem:v,onChange:function(e){b(e),r(e.value),function(e){var t=new URL(window.location.href);e?t.searchParams.set("botId",e):t.searchParams.delete("botId"),window.history.pushState(window.history.state,"",t.toString())}(e.value)}})},Q=function(e){var n=e.onChange;return i.a.createElement(l.Dropdown,{items:t,defaultItem:f,onChange:function(e){m(e),n(e.value)}})};return i.a.createElement(ht,{title:i.a.createElement("span",null,"Logs "),fullWidth:!0},i.a.createElement("div",{className:"logToolbar-container"},i.a.createElement("div",{className:"logToolbar-left"},function(){var e=s&&s.length||0;return i.a.createElement("small",null,e," rows (",function(e){if(e){var t=ce()(e[0]),n=ce()(e[1]);return l.lang.tr("admin.logs.rangeLabel",{start:t.format("YYYY-MM-DD HH:mm:ss"),end:n.format("YYYY-MM-DD HH:mm:ss"),timespan:n.from(t,!0)})}}(C),")"," ",2e3===e&&i.a.createElement("span",{className:"logError"},l.lang.tr("admin.logs.rowLimitReached")))}()),i.a.createElement("div",{className:"logToolbar-right"},i.a.createElement(d.eb,null,i.a.createElement(d.g,{text:l.lang.tr("admin.logs.dateTimeRange"),icon:"calendar",small:!0}),i.a.createElement(wt.a,{allowSingleDayRange:!0,value:C,shortcuts:Ct(),timePrecision:"second",onChange:function(e){return x(e)},maxDate:new Date})),i.a.createElement(d.k,{checked:F,onChange:function(e){return U(e.currentTarget.checked)},disabled:!e.profile.isSuperAdmin,label:l.lang.tr("admin.logs.onlyBotsFromThisWorkspace"),style:{marginLeft:10}}))),i.a.createElement(kt.a,{columns:function(){var e=[{Header:l.lang.tr("admin.logs.column.date"),filterable:!1,Cell:function(e){var t=e.original.timestamp;return ce()(t).format("YYYY-MM-DD HH:mm:ss")},accessor:"timestamp",width:130}];return B&&B.length>1&&e.push({Header:l.lang.tr("admin.logs.column.hostname"),Filter:Y,accessor:"hostname",width:130}),[].concat(e,[{Header:l.lang.tr("admin.logs.column.botId"),Filter:Z,accessor:"botId",width:150},{Header:l.lang.tr("admin.logs.column.level"),Cell:function(e){switch(e.original.level){case"info":return i.a.createElement("span",{className:"logInfo"},l.lang.tr("admin.logs.level.info"));case"warn":return i.a.createElement("span",{className:"logWarn"},l.lang.tr("admin.logs.level.warning"));case"error":return i.a.createElement("span",{className:"logError"},l.lang.tr("admin.logs.level.error"));case"critical":return i.a.createElement("span",{className:"logCritical"},l.lang.tr("admin.logs.level.critical"))}},Filter:Q,accessor:"level",width:110,className:"center"},{Header:l.lang.tr("admin.logs.column.scope"),Filter:xt,accessor:"scope",width:100},{Header:l.lang.tr("admin.logs.column.message"),Filter:xt,Cell:function(e){var t=e.original.message;return i.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br>").replace(/ /g,"&nbsp;")}})},style:{whiteSpace:"unset"},accessor:"message"}])}(),data:s,defaultFilterMethod:Rt,defaultPageSize:20,filtered:j,onFilteredChange:function(e){return N(e)},filterable:!0,defaultSorted:[{id:"level",desc:!1}],className:"-striped -highlight monitoringOverview",previousText:l.lang.tr("previous"),nextText:l.lang.tr("next"),noDataText:l.lang.tr("noRowsFound"),pageText:l.lang.tr("page"),ofText:l.lang.tr("of"),rowsText:l.lang.tr("rows")}))}),It=n(227),Tt=n(1092),jt=function(e){return i.a.createElement("div",{className:"split_page"},i.a.createElement("div",{className:"split_page-container"},e.children),e.sideMenu&&i.a.createElement("div",{style:{width:e.sideMenuWidth||180}},e.sideMenu))},Nt=Object(p.b)(function(e){return{serverConfig:e.server.serverConfig,serverConfigLoaded:e.server.serverConfigLoaded}},{fetchServerConfig:qe})(function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)([]),c=Object(ie.a)(s,2),u=c[0],p=c[1];Object(o.useEffect)(function(){e.serverConfigLoaded?e.serverConfig?f():a(!0):e.fetchServerConfig()},[e.serverConfig]);var f=function(){var t,n=(t=e.serverConfig,{redis:!(!K.a.get(t,"env.REDIS_URL")||"true"!==K.a.get(t,"env.CLUSTER_ENABLED")),pro:K.a.get(t,"config.pro.enabled")||"true"===K.a.get(t,"env.PRO_ENABLED"),monitoring:K.a.get(t,"config.pro.monitoring.enabled"),alerting:K.a.get(t,"config.pro.alerting.enabled")});p(e.requirements.filter(function(e){return!n[e]})),a(n[e.feature])},m=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/server/features/enable/".concat(e.feature));case 3:re(l.lang.tr("admin.requirements.confUpdated")),e.fetchServerConfig(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ae(l.lang.tr("admin.requirements.confNotUpdated",{msg:t.t0.message}));case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();return u.length?i.a.createElement("div",{className:"requirements"},i.a.createElement(d.i,{title:l.lang.tr("admin.requirements.missing")},e.messageReqMissing||l.lang.tr("admin.requirements.alsoRequired"),i.a.createElement("div",{style:{padding:"20px 0"}},u.includes("pro")&&i.a.createElement("strong",null,l.lang.tr("admin.requirements.pro")),u.includes("redis")&&i.a.createElement("strong",null,l.lang.tr("admin.requirements.redis")),u.includes("monitoring")&&i.a.createElement("strong",null,l.lang.tr("admin.requirements.monitoring"))))):r?i.a.createElement("div",null,e.children):i.a.createElement("div",{className:"requirements"},i.a.createElement(d.i,{title:l.lang.tr("admin.requirements.featureDisabled")},e.messageDisabled||l.lang.tr("admin.requirements.toUseRestart"),i.a.createElement("div",{style:{padding:"20px 0"}},i.a.createElement(d.g,{onClick:m,text:l.lang.tr("admin.requirements.enableFeature")}))))}),Dt=n(505),Lt=n.n(Dt),Bt=function(){return i.a.createElement(z.a,null,i.a.createElement(q.a,{className:"section",xs:12},i.a.createElement("div",{className:"middle"},i.a.createElement("img",{src:Lt.a,alt:"loading"}))))},Pt=(n(455),function(e){var t=e.data,n=[{Header:l.lang.tr("admin.monitoring.column.rule"),accessor:"ruleName"},{Header:l.lang.tr("admin.monitoring.column.host"),accessor:"hostName"},{Header:l.lang.tr("admin.monitoring.column.startTime"),Cell:function(e){return ce()(e.value).format("YYYY-MM-DD HH:mm:ss")},width:140,className:"center",accessor:"startTime"},{Header:l.lang.tr("admin.monitoring.column.endTime"),Cell:function(e){return e.value&&ce()(e.value).format("YYYY-MM-DD HH:mm:ss")||""},width:140,accessor:"endTime"},{Header:l.lang.tr("admin.monitoring.column.triggerValue"),width:100,accessor:"triggerValue"}];return i.a.createElement(kt.a,{columns:n,data:t,defaultPageSize:5,defaultSorted:[{id:"host"}],className:"-striped -highlight monitoringOverview"})}),_t=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).timeFrameOptions=[{value:"1h",label:l.lang.tr("admin.alerting.timespanHour")},{value:"2h",label:l.lang.tr("admin.alerting.timespanHours",{nb:2})},{value:"5h",label:l.lang.tr("admin.alerting.timespanHours",{nb:5})},{value:"15h",label:l.lang.tr("admin.alerting.timespanHours",{nb:15})},{value:"24h",label:l.lang.tr("admin.alerting.timespanHours",{nb:24})}],n.state={intervalId:void 0,timeFrame:void 0,timeFrameOptions:n.timeFrameOptions,autoRefresh:!1,error:void 0},n.handleTimeFrameChanged=function(e){return n.setState({timeFrame:e},n.queryData)},n.handleAutoRefreshChanged=function(e){var t,r=e.target.checked;r&&!n.state.intervalId?t=setInterval(function(){return n.queryData()},1e4):!r&&n.state.intervalId&&clearInterval(n.state.intervalId),n.setState({autoRefresh:r,intervalId:t})},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.setState({timeFrame:this.timeFrameOptions[0]},this.queryData)}},{key:"componentWillUnmount",value:function(){this.state.intervalId&&clearInterval(this.state.intervalId)}},{key:"queryData",value:function(){var e=Object(I.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.timeFrame){e.next=2;break}return e.abrupt("return");case 2:try{t=ce()().subtract(ue()(this.state.timeFrame.value)).toDate().getTime(),n=ce()().toDate().getTime(),this.props.fetchIncidents(t,n)}catch(r){this.setState({error:r.message})}case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderTables",value:function(){return this.props.incidents?i.a.createElement("div",null,i.a.createElement("h4",null,l.lang.tr("admin.alerting.activeIncidents")),i.a.createElement(Pt,{data:this.props.incidents.active}),i.a.createElement("h4",null,l.lang.tr("admin.alerting.resolvedIncidents")),i.a.createElement(Pt,{data:this.props.incidents.resolved})):null}},{key:"renderNoData",value:function(){return i.a.createElement(ht,{title:l.lang.tr("admin.alerting.alertingAndIncidents")},i.a.createElement(Tt.a,null,i.a.createElement(z.a,null,i.a.createElement(q.a,{style:{textAlign:"center"},sm:"12",md:{size:8,offset:2}},i.a.createElement("h1",null,i.a.createElement(It.a,null),"\xa0 ",l.lang.tr("admin.alerting.notEnabled")),i.a.createElement("p",null,l.lang.tr("admin.alerting.makeSureEnabled"))))))}},{key:"renderChild",value:function(){return this.props.incidents?this.props.loadingIncidents?i.a.createElement(Bt,null):i.a.createElement(jt,{sideMenu:this.renderSideMenu()},this.renderTables()):this.renderNoData()}},{key:"renderSideMenu",value:function(){var e={control:function(e){return Object(T.a)({},e,{minHeight:30})},dropdownIndicator:function(e){return Object(T.a)({},e,{padding:4})},clearIndicator:function(e){return Object(T.a)({},e,{padding:4})},valueContainer:function(e){return Object(T.a)({},e,{padding:"0px 6px"})},input:function(e){return Object(T.a)({},e,{margin:0,padding:0})}};return i.a.createElement("div",{style:{fontSize:"80%"}},i.a.createElement("strong",null,l.lang.tr("admin.alerting.timeFrame")),i.a.createElement(U.a,{styles:e,options:this.timeFrameOptions,value:this.state.timeFrame,onChange:this.handleTimeFrameChanged,isSearchable:!1}),i.a.createElement("strong",null,l.lang.tr("admin.alerting.autoRefresh")),i.a.createElement("br",null),i.a.createElement(W.a,null,i.a.createElement("input",{style:{marginTop:8},name:"autoRefresh",type:"checkbox",checked:this.state.autoRefresh,onChange:this.handleAutoRefreshChanged})," ",i.a.createElement("strong",null,l.lang.tr("enabled"))))}},{key:"render",value:function(){return i.a.createElement(ht,{title:l.lang.tr("admin.alerting.alertingAndIncidents"),fullWidth:!0,superAdmin:!0},i.a.createElement(Nt,{requirements:["redis","pro","monitoring"],feature:"alerting"},this.renderChild()))}}]),t}(o.Component),Mt={fetchIncidents:function(e,t){return function(){var n=Object(I.a)(S.a.mark(function n(r){var a,o;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"bots/FETCH_INCIDENTS_REQUESTED"}),n.next=3,Le.getSecured().post("/admin/server/incidents",{fromTime:e,toTime:t});case 3:a=n.sent,o=a.data,r({type:"bots/FETCH_INCIDENTS_RECEIVED",data:o});case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},Ft=Object(p.b)(function(e){return{incidents:e.monitoring.incidents}},Mt)(_t),Ut=function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s="dot";return"success"===e.status?s="small-tick":["warning","danger"].includes(e.status)&&(s="small-cross"),i.a.createElement("div",{className:"bp3-ui-text"},i.a.createElement("div",{onClick:function(){return a(!r)},className:"checklist-header"},i.a.createElement("div",null,i.a.createElement(d.L,{icon:s,intent:e.status}),i.a.createElement("span",{className:"title"},e.title)),i.a.createElement(d.L,{icon:r?"caret-up":"caret-down"})),i.a.createElement(d.m,{isOpen:r},e.docs&&i.a.createElement("span",{className:"checklist-docs"},i.a.createElement(d.zb,{content:"Click here to read more about this item in the documentation",position:te.a.BOTTOM},i.a.createElement("a",{href:e.docs,target:"_blank"},i.a.createElement(d.L,{icon:"info-sign"})))),i.a.createElement("div",{className:"checklist-item"},e.children,e.source&&i.a.createElement("div",{className:"checklist-sources"},i.a.createElement("blockquote",{className:"bp3-blockquote"},e.source.map(function(e){return i.a.createElement("div",{className:"checklist-source",key:e.key},e.type?i.a.createElement(o.Fragment,null,i.a.createElement(d.tb,{intent:"env"===e.type?ne.a.NONE:ne.a.PRIMARY},e.key)," ",i.a.createElement("code",null,e.value)):i.a.createElement("span",null,e.key,": ",i.a.createElement("code",null,e.value)))}))))))},zt=function(e){return void 0===e||null===e?"Not set":!1===e||!0===e?e.toString():e.length?e.toString():"Not set"},qt=function(e){return"Not set"!==e},Ht=window.location.protocol.substr(0,window.location.protocol.length-1),Wt=function(e){return i.a.createElement(ht,{title:"Production Checklist",superAdmin:!0,helpText:i.a.createElement("span",null,"This is a checklist of recommended settings when running Botpress in production.",i.a.createElement("br",null)," Environment variables are displayed in ",i.a.createElement(d.tb,null,"gray")," and values from the botpress.config.json config file in ",i.a.createElement(d.tb,{intent:ne.a.PRIMARY},"blue"),i.a.createElement("br",null),i.a.createElement("br",null),'Once your server is correctly setup, we recommend disabling this page by setting the environment variable BP_DISABLE_SERVER_CONFIG to "true"')},e.children)},Vt=Object(p.b)(function(e){return{serverConfig:e.server.serverConfig}},{fetchServerConfig:qe})(function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=Object(ie.a)(s,2),l=c[0],u=c[1],p=Object(o.useState)(!1),f=Object(ie.a)(p,2),m=f[0],g=f[1];Object(o.useEffect)(function(){e.serverConfigLoaded||e.fetchServerConfig(),h()},[]);var h=function(){var e=Object(I.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/languages/sources");case 2:return t=e.sent,n=t.data,a(n.languageSources),e.next=7,v();case 7:return e.next=9,b();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(I.a)(S.a.mark(function e(){var t,n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/server/debug");case 2:t=e.sent,n=t.data,r=Object.keys(n).filter(function(e){return e.startsWith("bp:audit")}).map(function(e){return n[e]}),u(K.a.some(r,Boolean));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(I.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(K.a.times(3,Object(I.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/auth/ping");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.payload.serverId);case 5:case"end":return e.stop()}},e)}))));case 2:t=e.sent,g(K.a.every(t,function(e){return e===t[0]}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();if(!e.serverConfig)return i.a.createElement(Wt,null,i.a.createElement(d.i,{intent:ne.a.PRIMARY},'Server configuration is disabled. To view this page, set the environment variable "BP_DISABLE_SERVER_CONFIG" to false'));var A=function(t){return zt(K.a.get(e.serverConfig.env,t))},E=function(t){return zt(K.a.get(e.serverConfig.config,t))},y=function(t){return zt(K.a.get(e.serverConfig.live,t))},w=K.a.get(r,"[0].endpoint","");return i.a.createElement(Wt,null,i.a.createElement("div",{className:"checklist"},i.a.createElement(Ut,{title:"Enable Botpress Professional",docs:"https://botpress.com/docs/pro/about-pro/",status:"true"===A("PRO_ENABLED")||"true"===E("pro.enabled")?"success":"warning",source:[{type:"env",key:"PRO_ENABLED",value:A("BP_PRODUCTION")},{type:"env",key:"BP_LICENSE_KEY",value:A("BP_LICENSE_KEY")},{type:"config",key:"pro.enabled",value:E("pro.enabled")},{type:"config",key:"pro.licenseKey",value:E("pro.licenseKey")}]},"Botpress Pro provides multiple features ready to be used in an enterprise-grade solution."),i.a.createElement(Ut,{title:"Use a Postgres database",docs:"https://botpress.com/docs/tutorials/database/#how-to-switch-from-sqlite-to-postgres",status:A("DATABASE_URL").startsWith("postgres")?"success":"warning",source:[{type:"env",key:"DATABASE_URL",value:A("DATABASE_URL")}]},"By default, Botpress uses an SQLite database, which is not recommended in a production environment. Postgres is more resilient and allows to run Botpress in cluster mode (using multiple servers to handle the load)."),i.a.createElement(Ut,{title:"Use the database BPFS storage",docs:"https://botpress.com/docs/advanced/hosting/#overview",status:"database"===A("BPFS_STORAGE")?"success":"warning",source:[{type:"env",key:"BPFS_STORAGE",value:A("BPFS_STORAGE")}]},"When this option is set, every bots and configuration files are stored in the database, and only that copy is edited when you make changes to them using the interface. This way, multiple servers can access the same up-to-date data at the same time."),i.a.createElement(Ut,{title:"Run Botpress in production mode",status:"true"===A("BP_PRODUCTION")?"success":"warning",source:[{type:"env",key:"BP_PRODUCTION",value:A("BP_PRODUCTION")}]},"When you run Botpress in production, these changes happens:",i.a.createElement("ul",null,i.a.createElement("li",null,"Hide stack traces when error occurs"),i.a.createElement("li",null,"Hides debug logs and logging of standard errors to optimize speed"),i.a.createElement("li",null,"Optimizes some validations for speed"),i.a.createElement("li",null,"Enables the use of multiple servers (cluster mode)"))),i.a.createElement(Ut,{title:"Configure the external server URL",docs:"https://botpress.com/docs/advanced/configuration/#exposing-your-bot-on-the-internet",status:qt(A("EXTERNAL_URL"))||qt(E("httpServer.externalUrl"))?"success":"warning",source:[{type:"env",key:"EXTERNAL_URL",value:A("EXTERNAL_URL")},{type:"config",key:"httpServer.externalUrl",value:E("httpServer.externalUrl")}]},i.a.createElement("span",null,"This may cause multiple issues in production, like resources not displaying correctly or links not working. When it is not set, it defaults to http://78.46.171.75:3000. When using Botpress Professional, this value is also used to validate your license.")),i.a.createElement(Ut,{title:"Enable Redis support",status:qt(A("REDIS_URL"))&&qt(A("CLUSTER_ENABLED"))?"success":"warning",source:[{type:"env",key:"REDIS_URL",value:A("REDIS_URL")},{type:"env",key:"CLUSTER_ENABLED",value:A("CLUSTER_ENABLED")}]},"Redis allows you to run multiple Botpress servers, all using the same data. Both variables below must be configured for Redis to work proprely"),i.a.createElement(Ut,{title:"Restrict CORS to your own domain",status:"false"===E("httpServer.cors.enabled")||qt(E("httpServer.cors.origin"))?"success":"warning",source:[{type:"config",key:"httpServer.cors.enabled",value:E("httpServer.cors.enabled")},{type:"config",key:"httpServer.cors.origin",value:E("httpServer.cors.origin")}]},"By default, Botpress allows any origin to reach the server. You can either disable CORS completely (set the configuration to false), or set an allowed origin"),i.a.createElement(Ut,{title:"Host your own language server",docs:"https://botpress.com/docs/advanced/hosting/#language-server",status:w.includes("botpress.io")?"warning":"success",source:[{type:"config",key:"nlu.json: languageSources",value:w}]},"The default language server configured with Botpress is a public server, which has request limitations and should not be relied upon when serving customers. Please follow the instructions in our documentation to setup your own, then change the server URL in the configuration file ",i.a.createElement("strong",null,"global/data/config/nlu.json")),i.a.createElement(Ut,{title:"Securing your server with HTTPS",docs:"https://botpress.com/docs/advanced/hosting/#secure-configuration-for-the-nginx-server",status:"https"===Ht?"success":"warning",source:[{key:"Detected protocol",value:Ht}]},"Botpress doesn't handle certificates and https headers directly. Those should be handled by a NGINX server in front of it. We have a recommended NGINX configuration sample in the documentation."),i.a.createElement(Ut,{title:"Enable audit trail",docs:"https://botpress.com/docs/advanced/configuration/#advanced-logging",status:l?"success":"warning"},"You can enable a special debug scope that tracks every requests sent to the server (and the corresponding user/ip address) and output them to the log file. You can configure those scopes by clicking on 'Debug' in the menu on the left"),i.a.createElement(Ut,{title:"Enable Sticky Sessions",docs:"https://botpress.com/docs/next/tutorials/cluster-digital-ocean#instructions",status:m?"success":"warning",source:[{type:"config",key:"httpServer.socketTransports",value:E("httpServer.socketTransports")}]},'When running Botpress in Cluster mode with multiple servers, it is recommended to enable sticky sessions so users are being served from the same server. When using "Websocket" as a primary socket transport, it is mandatory to enable it, otherwise the handshake will never complete. A green check indicates that either sticky is enabled, or you only have one server.',i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"This setting must be enabled on your load balancer."),i.a.createElement("br",null),i.a.createElement("br",null),"Here is your current socket transports configuration:"),i.a.createElement(Ut,{title:"Output logs to the filesystem",docs:"https://botpress.com/docs/advanced/configuration/#logs-configuration",status:"true"===E("logs.fileOutput.enabled")?"success":"none",source:[{type:"config",key:"logs.fileOutput.enabled",value:E("logs.fileOutput.enabled")}]},"By default, Botpress does some minimal logging to the database. It is recommended to enable the log output on the file system to keep traces"),i.a.createElement(Ut,{title:"Change Botpress base path",docs:"https://botpress.com/docs/advanced/configuration/#changing-the-base-url-of-your-bot",status:qt(y("ROOT_PATH"))?"success":"none",source:[{key:"Current base path",value:qt(y("ROOT_PATH"))?y("ROOT_PATH"):"/"}]},"By default, all requests are handled at the top level of the external url. It is possible to change that path (for example to use http://78.46.171.75:3000/botpress). You can do that by updating your server's EXTERNAL_URL and adding the suffix at the end."),i.a.createElement(Ut,{title:"Create custom roles and review permissions",docs:"https://botpress.com/docs/pro/rbac/#adding-a-new-role",status:"none"},"There is a default set of role and permissions when you create a workspace. It is recommended to review and update them."),i.a.createElement(Ut,{title:"Enable other authentication mechanism",docs:"https://botpress.com/docs/advanced/authentication/#docsNav",status:"none"},"The default authentication method is a username/password, but you can enable additional authentication strategies to access Botpress. We currently support LDAP, SAML and OAUTH2."),i.a.createElement(Ut,{title:"Configure your Reverse Proxy and Load Balancing",docs:"https://botpress.com/docs/advanced/hosting/#setting-up-nginx",status:"none"},"Check the documentation for more information")))}),Yt=["bytes","Kb","Mb","Gb","Tb"];function Zt(e){var t=Math.log2(e),n=Math.min(Math.floor(t/10),4),r=e/Math.pow(2,10*n);return"".concat(r.toFixed(0)," ").concat(Yt[n])}var Qt=function(e){var t=e.current/e.total,n="".concat(Zt(e.current)," / ").concat(Zt(e.total));return i.a.createElement(d.zb,{content:n,position:te.a.TOP},i.a.createElement("div",{style:{width:"250px"}},i.a.createElement(d.jb,{value:t})))},Gt=function(e){var t=Object(o.useState)(!1),r=Object(ie.a)(t,2),a=r[0],s=r[1],c=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.confirmDialog)(l.lang.tr("admin.languages.confirmDelete",{language:e.language.name}),{acceptLabel:l.lang.tr("delete")});case 2:if(!t.sent){t.next=5;break}return t.next=5,Le.getSecured().post("/admin/languages/".concat(e.language.code,"/delete"));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Le.getSecured().post("/admin/languages/".concat(e.language.code));case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,Le.getSecured({timeout:1e4}).post("/admin/languages/".concat(e.language.code,"/load"));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log("error loading model");case 9:return t.prev=9,s(!1),t.finish(9);case 12:case"end":return t.stop()}},t,null,[[1,6,9,12]])}));return function(){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:"language"},i.a.createElement("div",null,i.a.createElement("div",{className:"flag"},i.a.createElement("img",{src:function e(t){try{return n(913)("./".concat(t,".svg"))}catch(r){return e("missing")}}(e.language.code),alt:e.language.code})),i.a.createElement("span",null,e.language.name)),i.a.createElement("div",{className:"action"},e.downloadProgress&&i.a.createElement(Qt,{current:e.downloadProgress.progress.size,total:e.language.size}),e.allowActions&&!e.downloadProgress&&!e.installed&&i.a.createElement(d.g,{small:!0,onClick:u,minimal:!0,icon:"import"}),e.allowActions&&e.installed&&!e.loaded&&i.a.createElement(d.g,{disabled:a,minimal:!0,icon:"updated",onClick:p},a?"loading":"Load"),e.allowActions&&e.installed&&i.a.createElement(d.g,{disabled:a,icon:"cross",minimal:!0,onClick:c})))},Kt=function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/languages");case 2:n=e.sent,r=n.data,t(r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Xt=function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1];if(Object(o.useEffect)(function(){Kt(a)},[]),Object(o.useEffect)(function(){var e=setInterval(Kt.bind({},a),2e3);return function(){return clearInterval(e)}}),!r)return i.a.createElement(d.pb,{size:30});var s=(r.available||[]).filter(function(e){return!r.installed.find(function(t){return t.lang===e.code})}),c=K.a.sortBy(r.installed,"name").map(function(e){return Object(T.a)({},e,r.available.find(function(t){return t.code===e.lang}))});return i.a.createElement(i.a.Fragment,null,r&&r.available.length>0&&!e.readOnly&&!!s.length&&i.a.createElement("div",{className:"languages-list"},i.a.createElement("h4",null,l.lang.tr("admin.languages.addLanguages")),s.map(function(t){return i.a.createElement(Gt,{key:t.code,language:t,allowActions:!e.readOnly,languageSource:e.languageSource,downloadProgress:r.downloading.find(function(e){return e.lang==t.code})})})),i.a.createElement("div",{className:"languages-list"},i.a.createElement("h4",null,l.lang.tr("admin.languages.installedLanguages")),0===c.length&&i.a.createElement("p",null,l.lang.tr("admin.languages.noLanguagesYet")),c.map(function(t){return i.a.createElement(Gt,{key:t.code,language:t,installed:!0,loaded:t.loaded,allowActions:!e.readOnly,languageSource:e.languageSource})})))},Jt=function(e){return i.a.createElement("div",null,i.a.createElement("p",{style:{textAlign:"center"}},l.lang.tr("admin.languages.usingLangServerAt")," ",i.a.createElement("br",null),e.source.endpoint),i.a.createElement("p",{style:{marginTop:50,width:240,textAlign:"center"}},i.a.createElement("small",null,l.lang.tr("admin.languages.runOwnLanguageServer")," ",i.a.createElement("a",{href:"https://botpress.com/docs/advanced/hosting#hosting-duckling-and-the-language-server",target:"_blank"},l.lang.tr("admin.languages.inDocumentation")))))},$t=function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/languages/sources");case 2:return n=e.sent,r=n.data,a=r.languageSources[0],t(a),e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),en=function(){var e=Object(I.a)(S.a.mark(function e(t,n){var r,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/languages/info");case 2:r=e.sent,a=r.data,n(a);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),tn=function(){var e=Object(o.useState)(),t=Object(ie.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(),s=Object(ie.a)(a,2),c=s[0],u=s[1];return Object(o.useEffect)(function(){(function(){var e=Object(I.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(r);case 2:return t=e.sent,e.next=5,en(t,u);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]),i.a.createElement(ht,{title:l.lang.tr("admin.languages.languageManagement"),superAdmin:!0},n&&c?i.a.createElement("div",{className:"languages-grid"},i.a.createElement("div",null,c.readOnly&&i.a.createElement(d.i,{intent:"warning"},l.lang.tr("admin.languages.cannotBeEdited")),i.a.createElement(Xt,{languageSource:n,readOnly:c.readOnly})),i.a.createElement(Jt,{source:n,langServer:c})):i.a.createElement("div",null,l.lang.tr("admin.languages.loading")))},nn=n(506),rn=n(507),an=n.n(rn),on=n(508),sn=n.n(on),cn=n(509),ln=n.n(cn),un=function(e){var t="v".concat(e.version.replace(/\./g,"_"));return i.a.createElement("div",{className:"downloads"},"Download binary",i.a.createElement("hr",null),i.a.createElement("a",{href:"https://s3.amazonaws.com/botpress-binaries/botpress-".concat(t,"-darwin-x64.zip"),target:"_blank"},i.a.createElement("img",{src:sn.a})," Mac"),i.a.createElement("br",null),i.a.createElement("a",{href:"https://s3.amazonaws.com/botpress-binaries/botpress-".concat(t,"-win-x64.zip"),target:"_blank"},i.a.createElement("img",{src:ln.a})," Windows"),i.a.createElement("br",null),i.a.createElement("a",{href:"https://s3.amazonaws.com/botpress-binaries/botpress-".concat(t,"-linux-x64.zip"),target:"_blank"},i.a.createElement("img",{src:an.a})," Linux"),i.a.createElement("br",null),i.a.createElement("br",null),"Docker Image",i.a.createElement("hr",null),i.a.createElement("a",{href:e.dockerUrl||"https://hub.docker.com/r/botpress/server",target:"_blank"},i.a.createElement("code",null,"botpress/server:",t)))},dn={fetchLatestVersions:st},pn=Object(p.b)(function(e){return{latestReleases:e.version.latestReleases}},dn)(function(e){return Object(o.useEffect)(function(){e.fetchLatestVersions()},[]),i.a.createElement(ht,{title:l.lang.tr("admin.sideMenu.latestReleases")},i.a.createElement("div",{className:"releases"},e.latestReleases.map(function(e){return i.a.createElement("div",{key:e.version},i.a.createElement("div",{className:"version"},e.version,i.a.createElement("span",null,"published ",e.daysAgo)),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:Object(nn.a)(e.details)}}),i.a.createElement(un,{version:e.version,dockerUrl:e.dockerUrl})))})))}),fn=n(1096),mn=n(86),gn=n.n(mn),hn=function(e){function t(e){var n;return Object(j.a)(this,t),(n=Object(D.a)(this,Object(L.a)(t).call(this,e))).displayPolicies=function(){var e=n.props.license,t=e.seats,r=e.versions,a=e.startDate,o=e.endDate;n.setState({policies:[]}),n.addPolicy(l.lang.tr("admin.license.policy.admins"),t,n.getBreach("studio seats")),n.addPolicy(l.lang.tr("admin.license.policy.nodes"),"",n.getBreach("nodes")),n.addPolicy(l.lang.tr("admin.license.policy.version"),r,n.getBreach("version")),n.addPolicy(l.lang.tr("admin.license.policy.startDate"),ce()(a).format("YYYY-MM-DD"),n.getBreach("date")),n.addPolicy(l.lang.tr("admin.license.policy.endDate"),ce()(o).format("YYYY-MM-DD"),n.getBreach("date")),n.addPolicy(l.lang.tr("admin.license.policy.fingerprint"),"",n.getBreach("fingerprint"))},n.addPolicy=function(e,t,r){n.setState(function(n){return{policies:[].concat(Object(Ke.a)(n.policies),[{name:e,status:t,breachError:r}])}})},n.state={policies:[],breachs:[]},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.displayPolicies()}},{key:"componentDidUpdate",value:function(e){e.license!==this.props.license&&this.displayPolicies()}},{key:"getBreach",value:function(e){if(this.props.breachs){var t=!0,n=!1,r=void 0;try{for(var a,o=this.props.breachs[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;if(-1!==i.toLowerCase().indexOf(e))return i}}catch(s){n=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}}},{key:"render",value:function(){return i.a.createElement("table",{className:"table bp-licensing"},i.a.createElement("tbody",null,this.state.policies.map(function(e,t){return i.a.createElement("tr",{key:t,title:e.breachError},i.a.createElement("td",null,e.breachError?i.a.createElement("span",{role:"img","aria-label":"Breached"},"\u274c"):i.a.createElement("span",{className:"bp-licensing__check"},"\u2713")),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.status))})))}}]),t}(i.a.Component),vn=n(1104),bn=n(1093),An=n(1094),En=n(1095),yn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={isModalOpen:!1,licenseKey:void 0,error:void 0},n.toggleModal=function(){n.setState({isModalOpen:!n.state.isModalOpen,licenseKey:void 0,error:void 0})},n.onInputKeyPress=function(e){"Enter"===e.key&&n.changeKey()},n.onInputChange=function(e){n.setState(Object(x.a)({},e.target.name,e.target.value.trim()))},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"changeKey",value:function(){var e=Object(I.a)(S.a.mark(function e(){var t=this;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().post("admin/license/update",{licenseKey:this.state.licenseKey},{timeout:1e4}).then(function(){t.props.refresh&&t.props.refresh(),t.toggleModal()}).catch(function(e){return t.setState({error:e.message})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderModal",value:function(){var e=this;return i.a.createElement(vn.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal},i.a.createElement(bn.a,{toggle:this.toggleModal},l.lang.tr("admin.license.enterYourLicense")),i.a.createElement(An.a,null,this.state.error&&i.a.createElement(y.a,{color:"danger"},this.state.error),i.a.createElement(H.a,null,i.a.createElement(W.a,{for:"firstName"},l.lang.tr("admin.license.newLicenseKey")),i.a.createElement(Z.a,{name:"licenseKey",type:"textarea",style:{height:180},onChange:this.onInputChange,onKeyPress:this.onInputKeyPress,value:this.state.licenseKey,autoFocus:!0}))),i.a.createElement(En.a,null,i.a.createElement(fn.a,{color:"primary",onClick:function(){return e.changeKey()}},l.lang.tr("admin.license.validateChange"))))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(fn.a,{size:"sm",color:"primary",outline:!0,onClick:this.toggleModal},l.lang.tr("admin.license.enterLicenseKey")),this.renderModal())}}]),t}(o.Component),wn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={waitingForReboot:!1},n.refreshKey=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().post("/admin/license/refresh");case 2:return e.next=4,n.props.fetchLicensing();case 4:case"end":return e.stop()}},e)})),n.rebootServer=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.getSecured().post("/admin/server/rebootServer");case 3:n.setState({waitingForReboot:!0}),setTimeout(function(){window.location.reload()},1e4),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({error:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),n.enableProEdition=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.confirmDialog)(l.lang.tr("admin.license.status.areYouSure"),{acceptLabel:l.lang.tr("enable")});case 3:if(!e.sent){e.next=10;break}return e.next=6,Le.getSecured().post("/admin/server/config/enablePro");case 6:if(200!==e.sent.status){e.next=10;break}return e.next=10,n.rebootServer();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n.setState({error:e.t0});case 15:case"end":return e.stop()}},e,null,[[0,12]])})),n.renderProDisabled=function(){return i.a.createElement(ht,{title:"Server License"},i.a.createElement(Tt.a,null,i.a.createElement(z.a,null,i.a.createElement(q.a,{style:{textAlign:"center"},sm:"12",md:{size:10,offset:1}},i.a.createElement("h4",null,"Enable Botpress Professional"),i.a.createElement("p",null,l.lang.tr("admin.license.status.useOfficial",{officialBinary:i.a.createElement("strong",null,l.lang.tr("admin.license.status.officialBinary"))})),i.a.createElement("p",null,i.a.createElement("u",null,l.lang.tr("admin.license.status.method1")),i.a.createElement("br",null),l.lang.tr("admin.license.status.enableMethod1",{file:i.a.createElement("strong",null,"data/global/botpress.config.json"),field:i.a.createElement("strong",null,"pro.enabled")})),i.a.createElement("p",null,i.a.createElement("u",null,l.lang.tr("admin.license.status.method2")),i.a.createElement("br",null),l.lang.tr("admin.license.status.enabledMethod2"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(fn.a,{onClick:n.enableProEdition},l.lang.tr("admin.license.status.enabledAndReboot")))))))},n.renderUnofficialBuild=function(){return i.a.createElement(ht,{title:"Server License"},i.a.createElement(Tt.a,null,i.a.createElement(z.a,null,i.a.createElement(q.a,{style:{textAlign:"center"},sm:"12",md:{size:10,offset:1}},i.a.createElement("h4",null,l.lang.tr("admin.license.status.unofficialBuild")),i.a.createElement("p",null,l.lang.tr("admin.license.status.unofficialBuildText",{official:i.a.createElement("strong",null,l.lang.tr("admin.license.status.official")),pro:i.a.createElement("strong",null,l.lang.tr("admin.license.status.pro"))}))))))},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLicensing()}},{key:"renderReboot",value:function(){return i.a.createElement(Tt.a,null,i.a.createElement(z.a,null,i.a.createElement(q.a,{style:{textAlign:"center"},sm:"12",md:{size:10,offset:1}},i.a.createElement("p",null,l.lang.tr("admin.license.status.waitWhileReboot")))))}},{key:"renderLicenseStatus",value:function(){return i.a.createElement("div",{className:"license-status "+(this.isLicensed?"licensed":"unlicensed")},i.a.createElement("div",null,i.a.createElement("span",{className:"license-status__badge"}),i.a.createElement("span",{className:"license-status__status"},this.isLicensed?l.lang.tr("admin.license.status.licensed"):l.lang.tr("admin.license.status.unlicensed")),i.a.createElement("span",{className:"license-status__limits"},this.isUnderLimits?l.lang.tr("admin.license.status.underLimits"):l.lang.tr("admin.license.status.limitsBreached"))),i.a.createElement(fn.a,{color:"link",className:"license-status__refresh",onClick:this.refreshKey},i.a.createElement("svg",{className:"icon",viewBox:"0 0 90 80",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M74.59 57.824l10.498-5.863a3 3 0 1 1 2.926 5.238l-17.779 9.93a2.998 2.998 0 0 1-4.16-1.302l-8.934-18.299a3.002 3.002 0 0 1 1.38-4.013 3.005 3.005 0 0 1 4.013 1.38l5.795 11.87A33.02 33.02 0 0 0 72.865 40c0-18.311-14.897-33.207-33.209-33.207-18.31 0-33.206 14.896-33.206 33.207 0 18.312 14.896 33.209 33.206 33.209 1.236 0 2.476-.068 3.685-.202a3 3 0 0 1 .663 5.963 39.448 39.448 0 0 1-4.348.239C18.038 79.208.45 61.619.45 39.999.45 18.38 18.038.792 39.656.792c21.62 0 39.209 17.588 39.209 39.207a39.011 39.011 0 0 1-4.276 17.825z",fillRule:"evenodd"}))))}},{key:"renderFingerprintStatus",value:function(){return i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"license-infos license-infos--fingerprint"},i.a.createElement("strong",{className:"license-infos__label"},l.lang.tr("admin.license.status.clusterFingerprint"),":"),i.a.createElement("code",null,this.serverFingerprints.cluster_url),i.a.createElement(mn.CopyToClipboard,{text:this.serverFingerprints.cluster_url},i.a.createElement(fn.a,{color:"link",size:"sm",className:"license-infos__icon"},i.a.createElement("svg",{href:"#",id:"TooltipCopy",height:"15",viewBox:"0 0 16 20",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M3.996 0H16v16h-4.004v4H0V4h3.996V0zM6 2v12h8V2H6zM2 6v12h8v-1.997H3.998V6H2z",fill:"#4A4A4A",fillRule:"evenodd"})))),i.a.createElement(V.a,{placement:"right",target:"TooltipCopy"},l.lang.tr("admin.license.status.copyToClipboard"))),this.isWrongFingerprint&&i.a.createElement(y.a,{color:"danger"},l.lang.tr("admin.license.status.fingerprintNoMatch")))}},{key:"renderBody",value:function(){return this.state.waitingForReboot?this.renderReboot():this.props.licensing&&!this.props.licensing.isBuiltWithPro?this.renderUnofficialBuild():this.props.licensing&&!this.props.licensing.isPro?this.renderProDisabled():i.a.createElement(ht,{title:l.lang.tr("admin.sideMenu.serverLicense"),superAdmin:!0},i.a.createElement(z.a,null,i.a.createElement(q.a,{sm:"12",lg:"7"},this.renderLicenseStatus(),this.renderFingerprintStatus(),i.a.createElement(yn,{refresh:this.props.fetchLicensing})),i.a.createElement(q.a,{sm:"12",lg:"5"},i.a.createElement("div",{className:"license-infos"},i.a.createElement("strong",{className:"license-infos__label"},l.lang.tr("admin.license.status.friendlyName"),":"),this.license.label||"N/A"),i.a.createElement("div",{className:"license-infos"},i.a.createElement("strong",{className:"license-infos__label"},l.lang.tr("admin.license.status.renewDate"),":"),this.renewDate),i.a.createElement("div",{className:"license-infos"},i.a.createElement("strong",{className:"license-infos__label"},l.lang.tr("admin.license.status.support"),":"),this.license.support,i.a.createElement("svg",{className:"license-infos__icon",href:"#",id:"TooltipSupport",width:"15",height:"15",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M9 16h2v-2H9v2zm1-16C4.477 0 0 4.477 0 10A10 10 0 1 0 10 0zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14a4 4 0 0 0-4 4h2a2 2 0 1 1 4 0c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4z",fill:"#4A4A4A",fillRule:"nonzero"})),i.a.createElement(V.a,{placement:"right",target:"TooltipSupport"},l.lang.tr("admin.license.status.thisIsSupport"))),i.a.createElement("div",{className:"license-infos"},i.a.createElement("strong",{className:"license-infos__label"},l.lang.tr("admin.license.status.allowedNodes"),":"),this.license.limits&&Number(this.license.limits.nodes)+1),i.a.createElement("hr",null),this.props.licensing&&i.a.createElement("div",null,i.a.createElement("h5",null,l.lang.tr("admin.license.status.policies")),i.a.createElement(hn,{license:this.license,breachs:this.props.licensing.breachReasons})))))}},{key:"render",value:function(){return this.props.loading?i.a.createElement(Bt,null):this.renderBody()}},{key:"isUnderLimits",get:function(){return"breached"!==K.a.get(this.props.licensing,"status")}},{key:"isLicensed",get:function(){return"licensed"===K.a.get(this.props.licensing,"status")}},{key:"renewDate",get:function(){return ce()(K.a.get(this.props.licensing,"license.paidUntil",new Date)).format("lll")}},{key:"serverFingerprints",get:function(){return K.a.get(this.props.licensing,"fingerprints",{})}},{key:"license",get:function(){return this.props.licensing&&this.props.licensing.license||{}}},{key:"isWrongFingerprint",get:function(){return!!(this.serverFingerprints&&this.license&&this.license.fingerprint)&&this.serverFingerprints[this.license.fingerprintType]!==this.license.fingerprint}}]),t}(i.a.Component),kn={fetchLicensing:Ue},On=Object(p.b)(function(e){return{loading:e.license.loading,licensing:e.license.licensing}},kn)(wn),Cn=n(63),xn=n(43),Rn=n(484),Sn=function(e,t){var n=t.modifiers,r=t.handleClick;return n.matchesPredicate?i.a.createElement(d.R,{className:Ot.g.SMALL,active:n.active,disabled:n.disabled,key:e.label||e,onClick:r,text:e.label||e}):null},In=function(e){var t=Object(o.useState)(e.defaultItem),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Rn.a.ofType();return i.a.createElement(s,{items:e.items,activeItem:r,popoverProps:{minimal:!0},itemRenderer:Sn,onItemSelect:function(t){e.onChange(t),a(t)}},i.a.createElement(d.g,{text:e.small?i.a.createElement("small",null,r&&r.label):r&&r.label,icon:e.icon,rightIcon:e.rightIcon||"double-caret-vertical",small:e.small,style:{margin:e.spaced?"0 5px 0 5px":0}}))},Tn=function(e){var t=e.payload,n=e.date,r=e.uniqueHosts;return i.a.createElement("div",{className:"graphToolTip"},i.a.createElement("table",{cellSpacing:0,cellPadding:0},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:10,style:{textAlign:"center"}},ce()(n).format("HH:mm:ss"))),i.a.createElement("tr",null,i.a.createElement("th",null,"Host "),t.map(function(e){return i.a.createElement("th",{style:{color:e.stroke||e.fill},key:e.name},e.name)})),r.map(function(e){return i.a.createElement("tr",{key:e},i.a.createElement("td",null,e),t.map(function(t){return i.a.createElement("td",{style:{color:t.stroke||t.fill},key:t.name},K.a.get(t.payload.hosts[e],t.dataKey.replace("summary.",""))," ",t.unit)}))}))))},jn=function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1];Object(o.useEffect)(function(){a(!1)},[e.isOpen]);var s=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/server/rebootServer?hostname=".concat(e.hostname));case 3:a(!0),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ae(t.t0.message);case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(){return t.apply(this,arguments)}}();return i.a.createElement(d.r,{title:l.lang.tr("admin.monitoring.serverControl"),isOpen:e.isOpen,onClose:e.toggle,transitionDuration:0,canOutsideClickClose:!1},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},r?i.a.createElement("div",null,l.lang.tr("admin.monitoring.restartInProgress")):i.a.createElement("div",null,l.lang.tr("admin.monitoring.youAreAboutToRestart")," ",i.a.createElement("br",null)," ",i.a.createElement("strong",null,e.hostname),". ",i.a.createElement("br",null)," ",i.a.createElement("br",null),l.lang.tr("admin.monitoring.areYouSure"))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},r?i.a.createElement("div",null," ",i.a.createElement(d.g,{id:"btn-cancel",text:l.lang.tr("close"),onClick:e.toggle,intent:ne.a.NONE})):i.a.createElement("div",null,i.a.createElement(d.g,{id:"btn-cancel",text:l.lang.tr("cancel"),onClick:e.toggle,intent:ne.a.NONE}),i.a.createElement(d.g,{id:"btn-restart",text:l.lang.tr("admin.monitoring.restartNow"),onClick:s,intent:ne.a.DANGER})))))},Nn=function(e){var t=e.data,n=Object(o.useState)(!1),r=Object(ie.a)(n,2),a=r[0],s=r[1],c=Object(o.useState)(""),u=Object(ie.a)(c,2),p=u[0],f=u[1],m=function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f(t),s(!0);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=[{Header:l.lang.tr("admin.monitoring.column.host"),accessor:"host"},{Header:l.lang.tr("admin.monitoring.column.uptime"),Cell:function(e){var t=ce.a.duration(e.value,"seconds").asMinutes();return"".concat(Math.round(t)," mins")},width:120,className:"center",accessor:"uptime"},{Header:l.lang.tr("admin.monitoring.column.peakCpuUsage"),Cell:function(e){return e.value+"%"},width:120,accessor:"cpu.usage"},{Header:l.lang.tr("admin.monitoring.column.peakMemUsage"),Cell:function(e){return e.value+"%"},width:120,accessor:"mem.usage"},{Header:l.lang.tr("admin.monitoring.column.requests"),width:120,className:"center",accessor:Cn.Metric.Requests},{Header:l.lang.tr("admin.monitoring.column.eventsIn"),width:120,className:"center",accessor:Cn.Metric.EventsIn,align:"right"},{Header:l.lang.tr("admin.monitoring.column.eventsOut"),width:120,className:"center",accessor:Cn.Metric.EventsOut},{Header:l.lang.tr("admin.monitoring.column.warnings"),width:120,className:"center",accessor:Cn.Metric.Warnings},{Header:l.lang.tr("admin.monitoring.column.errors"),width:120,className:"center",accessor:Cn.Metric.Errors},{Header:l.lang.tr("admin.monitoring.column.criticals"),width:120,className:"center",accessor:Cn.Metric.Criticals},{Cell:function(e){return i.a.createElement(d.zb,{content:l.lang.tr("admin.monitoring.restart")},i.a.createElement(d.g,{icon:"power",onClick:function(){return m(e.original.host)},small:!0}))},filterable:!1,width:45}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(kt.a,{columns:g,data:t,defaultPageSize:5,defaultSorted:[{id:"host",desc:!1}],className:"-striped -highlight monitoringOverview"}),i.a.createElement(jn,{hostname:p,isOpen:a,toggle:function(){return s(!a)}}))},Dn=n(315),Ln=n(1097),Bn=function(e){return"".concat(e.hostname," (").concat(e.serverId,")")},Pn=[{label:"All",value:""},{label:"Healthy",value:"healthy"},{label:"Unhealthy",value:"unhealthy"},{label:"Disabled",value:"disabled"}],_n=Object(Ln.a)(Object(p.b)(function(e){return{health:e.bots.health,botsByWorkspace:e.bots.botsByWorkspace}},{fetchBotHealth:Me,switchWorkspace:ot,fetchBotsByWorkspace:function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/bots/byWorkspaces");case 2:if(n=e.sent,(r=n.data)&&r.payload){e.next=6;break}return e.abrupt("return");case 6:t({type:"bots/FETCH_BOTS_BY_WORKSPACE",bots:r.payload.bots});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)([]),c=Object(ie.a)(s,2),u=c[0],p=c[1];Object(o.useEffect)(function(){e.health?(h(),f()):e.fetchBotHealth(),e.botsByWorkspace||e.fetchBotsByWorkspace()},[e.health]);var f=function(){var t=K.a.uniq(K.a.flatMap(e.health,function(e){return Object.keys(e.bots)})).map(function(t){return{botId:t,data:e.health.reduce(function(e,n){return e[Bn(n)]=n.bots[t],e},{})}});a(t)},m=function(e){var t=e.onChange;return i.a.createElement(In,{items:Pn,defaultItem:Pn[0],onChange:function(e){return t(e.value)},small:!0})},g=function(){var t=Object(I.a)(S.a.mark(function t(n){var r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.botsByWorkspace&&(r=K.a.findKey(e.botsByWorkspace,function(e){return e.includes(n)}))&&e.switchWorkspace(r),e.history.push(Object(Dn.a)("/workspace/:workspaceId?/logs?botId=:botId",{workspaceId:Re()||void 0,botId:n}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=e.health.map(function(e){var t=Bn(e);return{Header:e.hostname,columns:[{Header:"Status",Cell:function(e){switch(K.a.get(e.original,"data[".concat(t,"].status"))){default:return"N/A";case"unhealthy":return i.a.createElement("span",{className:"logCritical"},"Unhealthy");case"healthy":return i.a.createElement("span",{className:"logInfo"},"Healthy");case"disabled":return"Disabled"}},Filter:m,filterable:!0,width:100,accessor:"data[".concat(t,"].status")},{Header:"Critical",width:60,className:"center",accessor:"data[".concat(t,"].criticalCount")},{Header:"Errors",width:60,className:"center",accessor:"data[".concat(t,"].errorCount")},{Header:"Warnings",width:60,className:"center",accessor:"data[".concat(t,"].warningCount")}]}});p([{Header:"Bot ID",accessor:"botId",Cell:function(e){return i.a.createElement("span",null,i.a.createElement(d.zb,{hoverOpenDelay:1e3,content:"View logs for this bot"},i.a.createElement("a",{onClick:function(){return g(e.original.botId)},className:"link"},e.original.botId)))},width:250,Filter:xt,filterable:!0}].concat(Object(Ke.a)(t),[{Cell:function(e){return i.a.createElement(d.zb,{content:"Reload bot"},i.a.createElement(d.g,{icon:"refresh",onClick:function(){return v(e.original.botId)},small:!0}))},filterable:!1,width:45}]))},v=function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.confirmDialog)("Are you sure you want to reload the bot ".concat(t,"?"),{acceptLabel:"Reload bot"});case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Le.getSecured().post("/admin/bots/".concat(t,"/reload"));case 7:re("Bot remounted successfully"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0),ae("Could not mount bot. Check server logs for details");case 14:case"end":return e.stop()}},e,null,[[4,10]])}));return function(t){return e.apply(this,arguments)}}();return e.health?i.a.createElement(kt.a,{columns:u,data:r,defaultPageSize:10,defaultSorted:[{id:"botId",desc:!1}],className:"-striped -highlight monitoringOverview"}):null})),Mn=[{value:"1m",label:"1 minute"},{value:"5m",label:"5 minutes"},{value:"10m",label:"10 minutes"},{value:"15m",label:"15 minutes"},{value:"30m",label:"30 minutes"},{value:"1h",label:"1 hour"},{value:"2h",label:"2 hours"},{value:"5h",label:"5 hours"}],Fn=[{value:"10s",label:"10 seconds"},{value:"30s",label:"30 seconds"},{value:"1m",label:"1 minutes"},{value:"5m",label:"5 minutes"},{value:"15m",label:"15 minutes"},{value:"30m",label:"30 minutes"},{value:"1h",label:"1 hour"}],Un={fontSize:11},zn=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={intervalId:null,timeFrame:null,resolution:null,rawStats:null,preparedStats:null,timeFrameOptions:Mn,lastUniqueEntries:null,error:null,uniqueHosts:null,autoRefresh:!1},n.handleTimeFrameChanged=function(e){return n.setState({timeFrame:e},n.queryData)},n.handleResolutionChanged=function(e){return n.setState({resolution:e},n.queryData)},n.handleAutoRefreshChanged=function(e){var t=e.target.checked,r=void 0;t&&!n.state.intervalId?r=setInterval(function(){return n.refreshStats()},1e4):!t&&n.state.intervalId&&clearInterval(n.state.intervalId),n.setState({autoRefresh:t,intervalId:r})},n.toggleAutoRefresh=function(){var e=!n.state.autoRefresh,t=void 0;e&&!n.state.intervalId?t=setInterval(function(){return n.refreshStats()},1e4):!e&&n.state.intervalId&&clearInterval(n.state.intervalId),n.setState({autoRefresh:e,intervalId:t})},n.renderTooltip=function(e){var t=e.active,r=e.payload,a=e.label;if(t&&r)return i.a.createElement(Tn,{payload:r,uniqueHosts:n.state.uniqueHosts,date:a})},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.setState({timeFrame:Mn[3],resolution:K.a.head(Fn)},this.queryData)}},{key:"componentWillUnmount",value:function(){this.state.intervalId&&clearInterval(this.state.intervalId)}},{key:"componentDidUpdate",value:function(e){e.rawStats!==this.props.rawStats&&this.prepareForDisplay()}},{key:"queryData",value:function(){var e=Object(I.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.timeFrame){e.next=2;break}return e.abrupt("return");case 2:try{t=ce()().subtract(ue()(this.state.timeFrame.value)).toDate().getTime(),n=ce()().toDate().getTime(),this.props.fetchStats(t,n)}catch(r){this.setState({error:r.message})}case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"prepareForDisplay",value:function(){if(this.props.rawStats&&this.props.rawStats.length){var e=K.a.sortBy(K.a.uniqBy(K.a.orderBy(this.props.rawStats,["ts"],["desc"]),"host"),"host"),t=K.a.map(e,"host");this.setState({uniqueHosts:t,lastUniqueEntries:e});var n=Object(Cn.groupEntriesByTime)(this.props.rawStats,this.state.resolution.value);if(n){var r=Object(Cn.mergeEntriesByTime)(n,t);this.setState({preparedStats:r})}}}},{key:"refreshStats",value:function(){this.props.refreshStats(),this.props.fetchBotStatus()}},{key:"renderOverview",value:function(){var e=this,t=[];return this.state.lastUniqueEntries.forEach(function(n){t.push(Object(T.a)({host:n.host,uptime:n.uptime},Object(Cn.calculateOverviewForHost)(K.a.filter(e.props.rawStats,function(e){return e.host===n.host}))))}),i.a.createElement(Nn,{data:t})}},{key:"renderCpu",value:function(){return i.a.createElement(xn.g,{height:300},i.a.createElement(xn.f,{data:this.state.preparedStats},i.a.createElement(xn.b,{strokeDasharray:"3 3"}),i.a.createElement(xn.i,{dataKey:"ts",tickFormatter:function(e){return ce()(e).format("HH:mm")},scale:"time",tick:Un}),i.a.createElement(xn.j,{domain:[0,100],unit:"%",tick:Un,width:50}),i.a.createElement(xn.j,{yAxisId:"r",orientation:"right",width:30}),i.a.createElement(xn.h,{content:this.renderTooltip}),i.a.createElement(xn.d,null),i.a.createElement(xn.e,{name:"Memory Usage",dataKey:"summary.mem.usage",unit:"%",stroke:"#1C4E80",strokeWidth:2,dot:!1,activeDot:{r:5}}),i.a.createElement(xn.e,{name:"CPU Usage",dataKey:"summary.cpu.usage",unit:"%",stroke:"#0091D5",strokeWidth:2,dot:!1,activeDot:{r:5}})))}},{key:"renderMeasures",value:function(){return i.a.createElement(xn.g,{height:300},i.a.createElement(xn.c,{data:this.state.preparedStats},i.a.createElement(xn.b,{strokeDasharray:"3 3"}),i.a.createElement(xn.i,{dataKey:"ts",tickFormatter:function(e){return ce()(e).format("HH:mm")},tick:Un}),i.a.createElement(xn.j,{yAxisId:"l",domain:[0,"dataMax"],tick:Un,width:50}),i.a.createElement(xn.j,{yAxisId:"r",domain:[0,"dataMax"],tick:Un,width:30,orientation:"right"}),i.a.createElement(xn.h,{content:this.renderTooltip}),i.a.createElement(xn.d,null),i.a.createElement(xn.a,{stackId:"stack",yAxisId:"l",name:"HTTP Requests",dataKey:"summary.".concat(Cn.Metric.Requests),fill:"#1C4E80"}),i.a.createElement(xn.a,{stackId:"stack",yAxisId:"l",name:"Events In",dataKey:"summary.".concat(Cn.Metric.EventsIn),fill:"#7E909A"}),i.a.createElement(xn.a,{stackId:"stack",yAxisId:"l",name:"Events Out",dataKey:"summary.".concat(Cn.Metric.EventsOut),fill:"#6AB187"}),i.a.createElement(xn.e,{yAxisId:"r",name:"Warnings",dataKey:"summary.".concat(Cn.Metric.Warnings),stroke:"#DBAE58",strokeWidth:2,dot:!1}),i.a.createElement(xn.e,{yAxisId:"r",name:"Errors",dataKey:"summary.".concat(Cn.Metric.Errors),stroke:"#db3737",strokeWidth:2,dot:!1}),i.a.createElement(xn.e,{yAxisId:"r",name:"Criticals",dataKey:"summary.".concat(Cn.Metric.Criticals),stroke:"#AC3E31",strokeWidth:2,dot:!1})))}},{key:"renderCharts",value:function(){return this.state.preparedStats?i.a.createElement("div",{className:"monitoring"},i.a.createElement(z.a,null,i.a.createElement(q.a,{md:6},i.a.createElement("h5",null,"CPU & Memory Usage (average)"),this.renderCpu()),i.a.createElement(q.a,{md:6},i.a.createElement("h5",null,"Metrics (total)"),this.renderMeasures())),i.a.createElement(z.a,null,i.a.createElement(q.a,{md:12},i.a.createElement("h5",null,"Overview"),this.renderOverview())),i.a.createElement(z.a,null,i.a.createElement(q.a,{md:12},i.a.createElement("h5",null,"Bot Health"),i.a.createElement(_n,null)))):null}},{key:"renderHeader",value:function(){var e=this;return i.a.createElement("div",{className:"logToolbar-container"},i.a.createElement("div",{className:"logToolbar-left"}),i.a.createElement("div",{className:"logToolbar-right"},i.a.createElement(d.zb,{content:"Time Frame",position:te.a.BOTTOM},i.a.createElement(In,{items:Mn,defaultItem:this.state.timeFrame,onChange:function(t){return e.setState({timeFrame:t},e.queryData)},icon:"calendar",small:!0,spaced:!0})),i.a.createElement(d.zb,{content:"Resolution",position:te.a.BOTTOM},i.a.createElement(In,{items:Fn,defaultItem:this.state.resolution,onChange:function(t){return e.handleResolutionChanged(t)},icon:"key-tab",small:!0,spaced:!0})),i.a.createElement(d.zb,{content:"Auto-Refresh",position:te.a.BOTTOM},i.a.createElement(d.g,{icon:"automatic-updates",intent:this.state.autoRefresh?ne.a.PRIMARY:ne.a.NONE,onClick:this.toggleAutoRefresh,style:{marginLeft:10},small:!0}))))}},{key:"renderNoStats",value:function(){return i.a.createElement(Tt.a,null,i.a.createElement(z.a,null,i.a.createElement(q.a,{style:{textAlign:"center"},sm:"12",md:{size:8,offset:2}},i.a.createElement("h1",null,i.a.createElement(It.a,null),"\xa0 Monitoring is enabled, however there is no statistics to display."),i.a.createElement("p",null,"Make sure your Redis configuration is correct (and that you have restarted the server if you just made the change)."))))}},{key:"renderChild",value:function(){return this.props.loading?i.a.createElement(Bt,null):this.props.rawStats&&this.props.rawStats.length?i.a.createElement(o.Fragment,null,this.renderHeader(),this.renderCharts()):this.renderNoStats()}},{key:"render",value:function(){return i.a.createElement(ht,{title:l.lang.tr("admin.sideMenu.monitoring"),fullWidth:!0,superAdmin:!0},i.a.createElement(Nt,{requirements:["redis","pro"],feature:"monitoring"},this.renderChild()))}}]),t}(o.Component),qn={fetchStats:function(e,t){return function(){var n=Object(I.a)(S.a.mark(function n(r){var a,o;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"monitoring/FETCH_STATS_FULL_REQUESTED"}),n.next=3,Le.getSecured().post("/admin/server/monitoring",{fromTime:e,toTime:t});case 3:a=n.sent,o=a.data,r({type:"monitoring/FETCH_STATS_FULL_RECEIVED",stats:o&&o.map(JSON.parse),toTime:t});case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},refreshStats:function(){return function(){var e=Object(I.a)(S.a.mark(function e(t,n){var r,a,o,i,s;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),a=r.monitoring,o=ce()().toDate().getTime(),e.next=4,Le.getSecured().post("/admin/server/monitoring",{fromTime:a.lastDate,toTime:o});case 4:i=e.sent,s=i.data,t({type:"bots/FETCH_STATS_PARTIAL_RECEIVED",stats:s&&s.map(JSON.parse),toTime:o});case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},fetchBotStatus:Me},Hn=Object(p.b)(function(e){return{rawStats:e.monitoring.stats,lastDate:e.monitoring.lastDate,loading:e.monitoring.loading}},qn)(zn),Wn=function(e){var t=Object(o.useRef)(null),n=Object(o.useState)(""),r=Object(ie.a)(n,2),a=r[0],s=r[1],c=Object(o.useState)(""),l=Object(ie.a)(c,2),u=l[0],d=l[1],p=function(){var n=Object(I.a)(S.a.mark(function n(r,a){var o,i,c,l=arguments;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=l.length>2&&void 0!==l[2]?l[2]:"get",n.next=3,Le.getSecured({timeout:ue()("10m")})({method:o,url:r,responseType:"blob"});case 3:i=n.sent,c=i.data,s(window.URL.createObjectURL(new Blob([c]))),d(a),t.current.click(),e.onDownloadCompleted&&e.onDownloadCompleted();case 9:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}();return Object(o.useEffect)(function(){e.url&&e.filename&&p(e.url,e.filename)},[e.url]),i.a.createElement("a",{ref:t,href:a,download:u})},Vn=function(){var e=Object(o.useState)(""),t=Object(ie.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),s=Object(ie.a)(a,2),c=s[0],u=s[1];return i.a.createElement("div",null,i.a.createElement(d.g,{id:"btn-downloadArchive",icon:"download",onClick:function(){u(!0),r("/admin/versioning/export")},disabled:c,text:c?l.lang.tr("admin.versioning.pleaseWait"):l.lang.tr("admin.versioning.downloadArchive")}),i.a.createElement(Wn,{url:n,filename:"archive.tgz",onDownloadCompleted:function(){u(!1),oe(l.lang.tr("admin.versioning.archiveReady"))}}))},Yn=function(){var e=Object(I.a)(S.a.mark(function e(t,n){var r,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured({timeout:6e4}).post("/admin/versioning/".concat(n?"update":"changes"),t,{headers:{"Content-Type":"application/tar+gzip"}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Zn=function(e){return Yn(e,!1)},Qn=function(e){return Yn(e,!0)},Gn=function(e){var t=K.a.flatten(e.map(function(e){return e.changes}));return{localFiles:K.a.flatten(e.map(function(e){return e.localFiles})),blockingChanges:t.filter(function(e){return["del","edit"].includes(e.action)}),changeList:t}},Kn=function(e){var t=e.action,n=e.path,r=e.add,a=e.del;return"add"===t?" + ".concat(n):"del"===t?" - ".concat(n):"edit"===t?" o ".concat(n," (+").concat(r," / -").concat(a,")"):""},Xn=function(){var e=Object(o.useState)(""),t=Object(ie.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(""),s=Object(ie.a)(a,2),c=s[0],u=s[1],p=Object(o.useState)(!1),f=Object(ie.a)(p,2),m=f[0],g=f[1],h=Object(o.useState)(!1),v=Object(ie.a)(h,2),b=v[0],A=v[1],E=Object(o.useState)(!1),y=Object(ie.a)(E,2),w=y[0],k=y[1],O=Object(o.useState)(""),C=Object(ie.a)(O,2),x=C[0],R=C[1],T=function(){var e=Object(I.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,!b){e.next=8;break}return e.next=5,Qn(c);case 5:return N(),re(l.lang.tr("admin.versioning.changesPushed")),e.abrupt("return");case 8:return e.t0=Gn,e.next=11,Zn(c);case 11:if(e.t1=e.sent,!(t=(0,e.t0)(e.t1).blockingChanges).length){e.next=16;break}return R(t.map(Kn).join("\n")),e.abrupt("return");case 16:return e.next=18,Qn(c);case 18:N(),re(l.lang.tr("admin.versioning.changesPushed")),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(1),ae(e.t2);case 25:return e.prev=25,g(!1),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[1,22,25,28]])}));return function(){return e.apply(this,arguments)}}(),j=function(e){if(e){var t=new FileReader;t.readAsArrayBuffer(e[0]),t.onload=function(e){u(K.a.get(e,"target.result"))},r(e[0].name)}},N=function(){r(""),u(""),R(""),k(!1)};return i.a.createElement(o.Fragment,null,i.a.createElement(d.g,{icon:"upload",id:"btn-uploadArchive",text:l.lang.tr("admin.versioning.uploadArchive"),onClick:function(){return k(!0)}}),i.a.createElement(d.r,{title:l.lang.tr("admin.versioning.uploadArchive"),icon:"import",isOpen:w,onClose:N,transitionDuration:0,canOutsideClickClose:!1,style:{width:x?800:500}},x?i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement("div",null,i.a.createElement(d.B,null,l.lang.tr("admin.versioning.conflictWarning")),i.a.createElement("p",null,l.lang.tr("admin.versioning.conflictMessage")),i.a.createElement(d.wb,{value:x,rows:22,cols:120}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.qb,{id:"chk-useForce",checked:b,onChange:function(){return A(!b)},label:l.lang.tr("admin.versioning.forcePush"),style:{margin:"3px 20px 0 20px"}}),i.a.createElement(d.g,{id:"btn-upload",text:m?l.lang.tr("admin.versioning.pleaseWait"):l.lang.tr("upload"),disabled:!b||m,onClick:T,intent:ne.a.PRIMARY,style:{height:20,marginLeft:5}}))))):i.a.createElement("div",{onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),j(e.dataTransfer.files)}},i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:i.a.createElement("span",null,l.lang.tr("admin.versioning.serverArchive")),labelFor:"input-archive",helperText:i.a.createElement("span",null,l.lang.tr("admin.versioning.selectArchivedExported"))},i.a.createElement(d.w,{text:n||l.lang.tr("chooseFile"),onChange:function(e){return j(e.target.files)},inputProps:{accept:".tgz"},fill:!0}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-push",text:m?l.lang.tr("admin.versioning.pleaseWait"):l.lang.tr("admin.versioning.pushChanges"),disabled:!n||!c||m,onClick:T,intent:ne.a.PRIMARY,style:{height:20,marginLeft:5}})))))))},Jn=Object(p.b)(function(e){return{profile:e.user.profile}},{})(function(e){var t=Object(o.useState)(""),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(!1),m=Object(ie.a)(f,2),g=m[0],h=m[1];Object(o.useEffect)(function(){var e=-1!==navigator.appVersion.indexOf("Win")?"bp.exe":"./bp",t=ke(),n=window.location.origin;a("".concat(e," pull --url ").concat(n).concat(window.ROOT_PATH," --authToken ").concat(t," --targetDir data")),p("".concat(e," push --url ").concat(n).concat(window.ROOT_PATH," --authToken ").concat(t," --sourceDir data")),v()},[]);var v=function(){var e=Object(I.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/versioning/bpfs_status");case 2:t=e.sent,n=t.data,h(n.isAvailable);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=e.profile&&e.profile.isSuperAdmin,A=function(){return oe("Copied to clipboard")};return i.a.createElement(ht,{title:l.lang.tr("admin.versioning.sourceControl"),superAdmin:!0},i.a.createElement(d.i,{title:l.lang.tr("admin.versioning.pullToFileSystem")},i.a.createElement("p",null,l.lang.tr("admin.versioning.useThisCommand")),i.a.createElement(d.zb,{content:l.lang.tr("admin.versioning.clickToCopy"),position:te.a.RIGHT},i.a.createElement(gn.a,{text:r,onCopy:A},i.a.createElement("div",{style:{cursor:"pointer",outline:"none"}},i.a.createElement("code",null,r)))),i.a.createElement("br",null)," ",i.a.createElement("br",null),b&&i.a.createElement(Vn,null)),i.a.createElement("br",null),!g&&i.a.createElement(d.i,{title:l.lang.tr("admin.versioning.pushLocal")},i.a.createElement("p",null,l.lang.tr("admin.versioning.pushLocalNeedsBFFS"),i.a.createElement("br",null),i.a.createElement("br",null),l.lang.tr("admin.versioning.checkOutThe")," ",i.a.createElement("a",{href:"https://botpress.com/docs/next/advanced/versions/",target:"_blank"},i.a.createElement("b",null,l.lang.tr("admin.versioning.documentation")))," ",l.lang.tr("admin.versioning.forMorInfo"))),g&&i.a.createElement(d.i,{title:l.lang.tr("admin.versioning.pushLocal")},i.a.createElement("p",null,l.lang.tr("admin.versioning.youCanPushWithThisCommand")),i.a.createElement(d.zb,{content:l.lang.tr("admin.versioning.clickToCopy"),position:te.a.RIGHT},i.a.createElement(gn.a,{text:u,onCopy:A},i.a.createElement("div",{style:{cursor:"pointer",outline:"none"}},i.a.createElement("code",null,u)))),i.a.createElement("br",null)," ",i.a.createElement("br",null),b&&i.a.createElement(Xn,null)))}),$n=n(184);function er(e,t,n){return n?(n=n.toLowerCase(),e.filter(function(e){return t.find(function(t){return K.a.get(e,t,"").toLowerCase().includes(n)})})):e}var tr=function(e){var t=e.bot,n=e.hasError,r=e.deleteBot,a=e.exportBot,o=e.createRevision,s=e.rollback,c=e.reloadBot,u=e.viewLogs,p="".concat(window.location.origin+window.ROOT_PATH,"/s/").concat(t.id),f=mt()?p:"studio/".concat(t.id);return i.a.createElement("div",{className:"bp_table-row",key:t.id},i.a.createElement("div",{className:"actions"},n&&i.a.createElement(d.b,{text:l.lang.tr("admin.workspace.bots.item.reload"),icon:"refresh",onClick:c,minimal:!0}),i.a.createElement(gt,{resource:"admin.bots.*",operation:"write"},i.a.createElement(d.g,{text:l.lang.tr("admin.workspace.bots.item.config"),icon:"cog",minimal:!0,className:"configBtn",onClick:function(){return he.push("bots/".concat(t.id))}})),!t.disabled&&!n&&i.a.createElement(d.b,{text:l.lang.tr("admin.workspace.bots.item.openChat"),icon:"chat",href:p,target:"_blank",minimal:!0}),i.a.createElement(gt,{resource:"admin.bots.*",operation:"read"},i.a.createElement(d.eb,{minimal:!0,position:te.a.BOTTOM,interactionKind:d.fb.HOVER},i.a.createElement(d.g,{id:"btn-menu",icon:i.a.createElement(d.L,{icon:"menu"}),minimal:!0}),i.a.createElement(d.P,null,!t.disabled&&!n&&i.a.createElement(d.R,{disabled:t.locked,icon:"edit",text:l.lang.tr("admin.workspace.bots.item.editInStudio"),href:f}),i.a.createElement(mn.CopyToClipboard,{text:p,onCopy:function(){return l.lang.tr("admin.workspace.bots.item.copyToClipboard")}},i.a.createElement(d.R,{icon:"link",text:l.lang.tr("admin.workspace.bots.item.copyLinkToClipboard")})),i.a.createElement(gt,{resource:"admin.logs",operation:"read"},i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.viewLogs"),icon:"manual",id:"btn-viewLogs",onClick:u})),i.a.createElement(gt,{resource:"admin.bots.*",operation:"write"},i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.createRevision"),icon:"cloud-upload",id:"btn-createRevision",onClick:o}),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.rollback"),icon:"undo",id:"btn-rollbackRevision",onClick:s}),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.export"),icon:"export",id:"btn-export",onClick:a}),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.delete"),icon:"trash",id:"btn-delete",onClick:r})))))),i.a.createElement("div",{className:"title"},t.locked&&i.a.createElement("span",null,i.a.createElement(d.L,{icon:"lock",intent:ne.a.PRIMARY,iconSize:13}),"\xa0"),i.a.createElement("a",{href:f},t.name||t.id),!t.defaultLanguage&&i.a.createElement(d.zb,{position:"right",content:l.lang.tr("admin.workspace.bots.item.languageIsMissing")},i.a.createElement(d.L,{icon:"warning-sign",intent:ne.a.DANGER,style:{marginLeft:10}})),t.disabled&&i.a.createElement(d.tb,{intent:ne.a.WARNING,className:"botbadge"},"disabled"),t.private&&i.a.createElement(d.tb,{intent:ne.a.PRIMARY,className:"botbadge"},"private"),n&&i.a.createElement(d.tb,{intent:ne.a.DANGER,className:"botbadge"},"error")),i.a.createElement("p",null,t.description))},nr=function(e){var t=e.bot,n=e.isApprover,r=e.userEmail,a=e.userStrategy,s=e.hasError,c=e.requestStageChange,u=e.approveStageChange,p=e.deleteBot,f=e.exportBot,m=e.allowStageChange,g=e.createRevision,h=e.rollback,v=e.reloadBot,b=e.viewLogs,A="".concat(window.location.origin+window.ROOT_PATH,"/s/").concat(t.id),E=mt()?A:"studio/".concat(t.id),y=n&&t.pipeline_status.stage_request&&!(t.pipeline_status.stage_request.approvals||[]).find(function(e){return e.email===r&&e.strategy===a});return i.a.createElement("div",{className:"pipeline_bot",key:t.id},i.a.createElement("div",{className:"actions"},i.a.createElement(gt,{resource:"admin.bots.*",operation:"read"},i.a.createElement(d.eb,{minimal:!0,position:te.a.BOTTOM,interactionKind:d.fb.HOVER},i.a.createElement(d.g,{id:"btn-menu",icon:i.a.createElement(d.L,{icon:"menu"}),minimal:!0}),i.a.createElement(d.P,null,!t.disabled&&!s&&i.a.createElement(o.Fragment,null,i.a.createElement(d.R,{icon:"chat",text:l.lang.tr("admin.workspace.bots.item.openChat"),href:A}),i.a.createElement(d.R,{disabled:t.locked,icon:"edit",text:l.lang.tr("admin.workspace.bots.item.editInStudio"),href:E})),i.a.createElement(mn.CopyToClipboard,{text:A,onCopy:function(){return oe(l.lang.tr("admin.workspace.bots.item.copyToClipboard"))}},i.a.createElement(d.R,{icon:"link",text:l.lang.tr("admin.workspace.bots.item.copyLinkToClipboard")})),i.a.createElement(d.Q,null),i.a.createElement(gt,{resource:"admin.logs",operation:"read"},i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.viewLogs"),icon:"manual",id:"btn-viewLogs",onClick:b})),m&&i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.promoteToNextStage"),icon:"double-chevron-right",id:"btn-promote",onClick:c}),i.a.createElement(gt,{resource:"admin.bots.*",operation:"write"},i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.config"),icon:"cog",id:"btn-config",onClick:function(){return he.push("bots/".concat(t.id))}}),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.createRevision"),icon:"cloud-upload",id:"btn-createRevision",onClick:g}),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.rollback"),icon:"undo",id:"btn-rollbackRevision",onClick:h}),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.export"),icon:"export",id:"btn-export",onClick:f}),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.delete"),icon:"trash",id:"btn-delete",onClick:p}),s&&i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.bots.item.reload"),icon:"refresh",onClick:v})))))),i.a.createElement("div",{className:"title"},t.locked&&i.a.createElement("span",null,i.a.createElement(d.L,{icon:"lock",intent:ne.a.PRIMARY,iconSize:13}),"\xa0"),t.disabled?i.a.createElement("span",{className:"bot-name"},t.name):i.a.createElement("a",{className:"bot-name",href:E},t.name),y&&i.a.createElement(d.tb,{intent:ne.a.DANGER,className:"botbadge reviewNeeded"},l.lang.tr("admin.workspace.bots.item.needsYourReview")),t.pipeline_status.stage_request&&n&&!y&&i.a.createElement(d.tb,{intent:ne.a.SUCCESS,className:"botbadge reviewNeeded"},l.lang.tr("admin.workspace.bots.item.approved")),!t.defaultLanguage&&i.a.createElement(d.zb,{position:"right",content:l.lang.tr("admin.workspace.bots.item.languageIsMissing")},i.a.createElement(d.L,{icon:"warning-sign",intent:ne.a.DANGER,style:{marginLeft:10}}))),i.a.createElement("p",null,t.description),i.a.createElement("div",{className:"bottomRow"},t.disabled&&i.a.createElement(d.tb,{intent:ne.a.WARNING,className:"botbadge"},l.lang.tr("admin.workspace.bots.item.disabled")),t.private&&i.a.createElement(d.tb,{intent:ne.a.PRIMARY,className:"botbadge"},l.lang.tr("admin.workspace.bots.item.private")),s&&i.a.createElement(d.tb,{intent:ne.a.DANGER,className:"botbadge"},l.lang.tr("admin.workspace.bots.item.error")),t.pipeline_status.stage_request&&i.a.createElement(d.zb,{content:i.a.createElement("div",null,i.a.createElement("p",null,l.lang.tr("admin.workspace.bots.item.requestedBy",{requester:t.pipeline_status.stage_request.requested_by}),i.a.createElement("br",null),l.lang.tr("admin.workspace.bots.item.onDate",{date:new Date(t.pipeline_status.stage_request.requested_on).toLocaleDateString()})),t.pipeline_status.stage_request.message&&i.a.createElement("p",null,t.pipeline_status.stage_request.message))},i.a.createElement(d.tb,{className:"botbadge",id:"status-badge"},t.pipeline_status.stage_request.status)),y&&i.a.createElement("div",{className:"stage-approval-btns"},i.a.createElement(d.g,{onClick:u,small:!0,intent:"success"},l.lang.tr("admin.workspace.bots.item.approve")))))},rr=function(e){return e.toLowerCase().replace(/\s/g,"-").replace(/[^a-z0-9_-]/g,"")},ar={botId:"",botName:"",selectedCategory:void 0,selectedTemplate:void 0,error:void 0,isProcessing:!1,generateId:!0},or=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a))))._form=null,n.state=Object(T.a)({templates:[],categories:[]},ar),n.handleNameChanged=function(e){var t=e.target.value;n.setState({botName:t,botId:n.state.generateId?rr(t):n.state.botId})},n.handleBotIdChanged=function(e){return n.setState({botId:rr(e.target.value),generateId:!1})},n.createBot=function(){var e=Object(I.a)(S.a.mark(function e(t){var r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.isButtonDisabled){e.next=3;break}return e.abrupt("return");case 3:return n.setState({isProcessing:!0}),r={id:n.state.botId,name:n.state.botName,template:K.a.pick(n.state.selectedTemplate,["id","moduleId"]),category:n.state.selectedCategory&&n.state.selectedCategory.value},e.prev=5,e.next=8,Le.getSecured().post("/admin/bots",r);case 8:n.props.onCreateBotSuccess(),n.toggleDialog(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n.setState({error:e.t0.message,isProcessing:!1});case 15:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t){return e.apply(this,arguments)}}(),n.toggleDialog=function(){n.setState(Object(T.a)({},ar)),n.props.toggle()},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.loadCategories(),this.loadTemplates()}},{key:"componentDidUpdate",value:function(e){!e.botTemplatesFetched&&this.props.botTemplatesFetched&&this.loadTemplates(),!e.botCategoriesFetched&&this.props.botCategoriesFetched&&this.loadCategories()}},{key:"loadCategories",value:function(){if(!this.props.botCategoriesFetched)return this.props.fetchBotCategories();var e=this.props.botCategories.map(function(e){return{value:e,label:e}});this.setState({categories:e,selectedCategory:void 0})}},{key:"loadTemplates",value:function(){if(!this.props.botTemplatesFetched)return this.props.fetchBotTemplates();var e=K.a.groupBy(this.props.botTemplates,"moduleName"),t=K.a.toPairs(e).map(function(e){return{label:e[0],options:e[1]}});this.setState({templates:t,selectedTemplate:void 0})}},{key:"render",value:function(){var e=this;return i.a.createElement(d.r,{title:l.lang.tr("admin.workspace.bots.create.newBot"),icon:"add",isOpen:this.props.isOpen,onClose:this.toggleDialog,transitionDuration:0,canOutsideClickClose:!1},i.a.createElement("form",{ref:function(t){return e._form=t}},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.create.name"),labelFor:"bot-name",labelInfo:"*",helperText:l.lang.tr("admin.workspace.bots.create.nameHelper")},i.a.createElement(d.M,{id:"input-bot-name",tabIndex:1,placeholder:l.lang.tr("admin.workspace.bots.create.namePlaceholder"),minLength:3,required:!0,value:this.state.botName,onChange:this.handleNameChanged,autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.create.id"),labelFor:"botid",labelInfo:"*",helperText:l.lang.tr("admin.workspace.bots.create.idHelper")},i.a.createElement(d.M,{id:"botid",tabIndex:2,placeholder:l.lang.tr("admin.workspace.bots.create.idPlaceholder"),minLength:3,required:!0,value:this.state.botId,onChange:this.handleBotIdChanged})),this.state.templates.length>0&&i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.create.template"),labelFor:"template"},i.a.createElement(U.a,{id:"select-bot-templates",tabIndex:"3",options:this.state.templates,value:this.state.selectedTemplate,onChange:function(t){return e.setState({selectedTemplate:t})},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}})),this.state.categories.length>0&&i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.create.category")},i.a.createElement(U.a,{tabIndex:"4",options:this.state.categories,value:this.state.selectedCategory,onChange:function(t){return e.setState({selectedCategory:t})}}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},!!this.state.error&&i.a.createElement("p",{className:"text-danger"},this.state.error),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-modal-create-bot",type:"submit",text:this.state.isProcessing?l.lang.tr("pleaseWait"):l.lang.tr("admin.workspace.bots.create.create"),onClick:this.createBot,disabled:this.isButtonDisabled,intent:ne.a.PRIMARY})))))}},{key:"isButtonDisabled",get:function(){var e=this.state,t=e.isProcessing,n=e.botId,r=e.botName,a=e.selectedTemplate;return!n||!r||this.props.existingBots&&this.props.existingBots.some(function(e){return e.name===r||e.id===n})||t||!a||!this._form||!this._form.checkValidity()}}]),t}(o.Component),ir={fetchBotTemplates:function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/modules/botTemplates");case 2:n=e.sent,r=n.data,t({type:"bots/RECEIVED_BOT_TEMPLATES",templates:r});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},fetchBotCategories:Pe},sr=Object(p.b)(function(e){return Object(T.a)({},e.bots)},ir)(or),cr=Object(p.b)(function(e){return{roles:e.roles.roles,users:e.user.users,loading:e.user.loadingUsers}},{fetchUsers:tt})(function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)("promote_copy"),m=Object(ie.a)(f,2),g=m[0],h=m[1],v=Object(o.useState)([]),b=Object(ie.a)(v,2),A=b[0],E=b[1],y=Object(o.useState)(0),w=Object(ie.a)(y,2),k=w[0],O=w[1],C=Object(o.useState)([]),x=Object(ie.a)(C,2),R=x[0],j=x[1],N=Object(o.useState)(!1),D=Object(ie.a)(N,2),L=D[0],B=D[1],P=Object(o.useState)([]),_=Object(ie.a)(P,2),M=_[0],F=_[1];Object(o.useEffect)(function(){if(e.stage){var t=e.stage,n=t.id,r=t.label,a=t.action,o=t.reviewers,i=t.minimumApprovals,s=M.filter(function(e){return o&&o.find(function(t){return e.user.email==t.email&&e.user.strategy==t.strategy})});B(R[R.length-1].id===n),p(r||""),h(L?"noop":a||"promote_copy"),E(s),O(i||0)}},[e.stage]),Object(o.useEffect)(function(){var t=e.users;t&&F(t.map(H))},[e.users]),Object(o.useEffect)(function(){if(e.workspace){var t=e.workspace,n=t.adminRole,r=t.pipeline;j(r),e.fetchUsers(n)}},[]);var z=function(){var t=Object(I.a)(S.a.mark(function t(){var n,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.stage.id,R.find(function(e){return e.id===n})?r=R.map(function(e){return e.id!==n?e:Object(T.a)({},e,{label:u,action:g,reviewers:A.map(function(e){return e.user}),minimumApprovals:k})}):ae(l.lang.tr("admin.workspace.bots.edit.couldNotFindPipeline")),t.prev=2,t.next=5,Le.getSecured().post("/admin/workspaces/".concat(Re(),"/pipeline"),{updateCustom:!0,pipeline:r});case 5:e.onEditSuccess(),re(l.lang.tr("admin.workspace.bots.edit.stageSaved")),q(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),ae(l.lang.tr("admin.workspace.bots.edit.errorUpdatingPipeline",{message:t.t0.message}));case 13:return t.prev=13,a(!1),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[2,10,13,16]])}));return function(){return t.apply(this,arguments)}}(),q=function(){a(!1),e.toggle()},H=function(e){var t=e.email,n=e.strategy,r=e.attributes&&e.attributes.firstname,a=e.attributes&&e.attributes.lastname;return{label:r||a?"".concat(r," ").concat(a," \xb7 ").concat(t):t,value:t+n,user:{email:t,strategy:n}}},W=e.toggle;return i.a.createElement(d.r,{isOpen:e.isOpen,onClose:q,transitionDuration:0,title:"Configure Stage: ".concat(u)},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:l.lang.tr("label")},i.a.createElement(d.M,{id:"input-label",type:"text",value:u,onChange:function(e){var t=e.target.value;return p(t)},autoFocus:!0})),!L&&i.a.createElement(d.x,{label:l.lang.tr("action")},i.a.createElement(d.lb,{onChange:function(e){var t=e.currentTarget.value;return h(t)},selectedValue:g,inline:!0},i.a.createElement(d.kb,{label:l.lang.tr("copy"),value:"promote_copy"}),i.a.createElement(d.kb,{label:l.lang.tr("move"),value:"promote_move"}))),i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.edit.reviewers")},i.a.createElement(U.a,{id:"select-reviewers",isMulti:!0,value:A,options:M,onChange:function(e){E(e),e.length<k&&O(e.length)},autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.edit.approvalsRequired")},i.a.createElement(d.Y,{id:"input-minimumApprovals",min:0,fill:!0,clampValueOnBlur:!0,max:A.length,value:k,onValueChange:function(e){e=Number.isNaN(e)?0:e,O(e)},disabled:0===A.length}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-cancel",text:l.lang.tr("cancel"),tabIndex:3,onClick:W,disabled:r}),i.a.createElement(d.g,{id:"btn-submit",text:r?l.lang.tr("pleaseWait"):l.lang.tr("save"),tabIndex:3,onClick:z,disabled:r,intent:ne.a.PRIMARY}))))}),lr={botId:"",error:null,filePath:null,fileContent:null,isIdTaken:!1,isProcessing:!1,overwrite:!1},ur=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a))))._form=null,n.state=Object(T.a)({},lr),n.importBot=function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.isButtonDisabled){e.next=3;break}return e.abrupt("return");case 3:return n.setState({isProcessing:!0}),e.prev=4,e.next=7,Le.getSecured({timeout:6e4}).post("/admin/bots/".concat(n.state.botId,"/import?overwrite=").concat(n.state.overwrite),n.state.fileContent,{headers:{"Content-Type":"application/tar+gzip"}});case 7:n.props.onCreateBotSuccess(),n.toggleDialog(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.setState({error:e.t0.message,isProcessing:!1});case 14:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),n.checkIdAvailability=K.a.debounce(Object(I.a)(S.a.mark(function e(){var t,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.botId){e.next=2;break}return e.abrupt("return",n.setState({isIdTaken:!1}));case 2:return e.prev=2,e.next=5,Le.getSecured().get("/admin/bots/".concat(n.state.botId,"/exists"));case 5:t=e.sent,r=t.data,n.setState({isIdTaken:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.setState({error:e.t0.message});case 13:case"end":return e.stop()}},e,null,[[2,10]])})),500),n.handleBotIdChanged=function(e){return n.setState({botId:rr(e.target.value),overwrite:!1},n.checkIdAvailability)},n.handleFileChanged=function(e){if(e){var t=new FileReader;t.readAsArrayBuffer(e[0]),t.onload=function(e){n.setState({fileContent:K.a.get(e,"target.result")})},n.setState({filePath:e[0].name}),n.state.botId.length||n.generateBotId(e[0].name)}},n.generateBotId=function(e){var t=e.substr(0,e.indexOf(".")),r=t.match(/bot_(.*)_[0-9]+/);n.setState({botId:rr(r&&r[1]||t),overwrite:!1},n.checkIdAvailability)},n.toggleDialog=function(){n.setState(Object(T.a)({},lr)),n.props.toggle()},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(d.r,{title:l.lang.tr("admin.workspace.bots.import.fromArchive"),icon:"import",isOpen:this.props.isOpen,onClose:this.toggleDialog,transitionDuration:0,canOutsideClickClose:!1},i.a.createElement("form",{ref:function(t){return e._form=t},onDragOver:function(e){return e.preventDefault()},onDrop:function(t){t.preventDefault(),e.handleFileChanged(t.dataTransfer.files)}},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:i.a.createElement("span",null,l.lang.tr("admin.workspace.bots.create.id")," ",this.state.isIdTaken&&i.a.createElement("span",{className:"text-danger"},l.lang.tr("admin.workspace.bots.import.alreadyInUse"))),labelFor:"input-botId",labelInfo:"*",helperText:l.lang.tr("admin.workspace.bots.create.idHelper")},i.a.createElement(d.M,{id:"input-botId",tabIndex:1,placeholder:l.lang.tr("admin.workspace.bots.create.idPlaceholder"),intent:ne.a.PRIMARY,minLength:3,value:this.state.botId,onChange:this.handleBotIdChanged,autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.import.archive"),labelInfo:"*",labelFor:"archive"},i.a.createElement(d.w,{tabIndex:2,text:this.state.filePath||l.lang.tr("chooseFile"),onChange:function(t){return e.handleFileChanged(t.target.files)},inputProps:{accept:".zip,.tgz"}})),this.state.isIdTaken&&i.a.createElement(d.k,{label:l.lang.tr("admin.workspace.bots.import.overwrite"),checked:this.state.overwrite,onChange:function(t){return e.setState({overwrite:t.currentTarget.checked})}})),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},!!this.state.error&&i.a.createElement("p",{className:"text-danger"},this.state.error),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-upload",tabIndex:3,type:"submit",text:this.state.isProcessing?l.lang.tr("pleaseWait"):l.lang.tr("admin.workspace.bots.import.import"),onClick:this.importBot,disabled:this.isButtonDisabled,intent:ne.a.PRIMARY})))))}},{key:"isButtonDisabled",get:function(){var e=this.state,t=e.isProcessing,n=e.botId,r=e.fileContent,a=e.isIdTaken,o=e.overwrite;return t||!n||!r||a&&!o||!this._form||!this._form.checkValidity()}}]),t}(o.Component),dr=function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(!1),m=Object(ie.a)(f,2),g=m[0],h=m[1],v=Object(o.useState)(!1),b=Object(ie.a)(v,2),A=b[0],E=b[1];Object(o.useEffect)(function(){e.botId&&y()},[e.botId]);var y=function(){var t=Object(I.a)(S.a.mark(function t(){var n,r,o;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Le.getSecured().get("/admin/bots/".concat(e.botId,"/revisions"));case 2:n=t.sent,r=n.data,o=r.payload.revisions.map(function(e){var t=e.replace(/\.tgz$/i,"").split("++");return t[1]=new Date(parseInt(t[1],10)).toLocaleString(),{label:t.join(" - "),value:e}}),a(o);case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,E(!0),t.next=4,Le.getSecured({timeout:6e4}).post("/admin/bots/".concat(e.botId,"/rollback"),{revision:u.value});case 4:e.onRollbackSuccess(),k(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ae(l.lang.tr("admin.workspace.bots.rollback.error",{msg:t.t0.message}));case 11:return t.prev=11,E(!1),t.finish(11);case 14:case"end":return t.stop()}},t,null,[[0,8,11,14]])}));return function(){return t.apply(this,arguments)}}(),k=function(){a(void 0),p(void 0),h(!1),E(!1),e.toggle()};return i.a.createElement(d.r,{isOpen:e.isOpen,icon:"undo",onClose:k,transitionDuration:0,title:l.lang.tr("admin.workspace.bots.rollback.rollbackBot",{bot:e.botId})},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.bots.rollback.selectRevision")},i.a.createElement(U.a,{id:"select-revisions",value:u,options:r,onChange:p,tabIndex:"1",autoFocus:!0})),u&&i.a.createElement(d.i,{intent:ne.a.WARNING},l.lang.tr("admin.workspace.bots.rollback.confirm"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(d.k,{id:"chk-confirm",tabIndex:2,checked:g,onChange:function(e){return h(e.currentTarget.checked)},label:l.lang.tr("admin.workspace.bots.rollback.confirmYes")}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-submit",text:A?l.lang.tr("pleaseWait"):l.lang.tr("admin.workspace.bots.rollback.rollback"),tabIndex:3,onClick:w,disabled:!u||!g||A,intent:ne.a.PRIMARY}))))},pr=["name","id","description"],fr=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={isCreateBotModalOpen:!1,isRollbackModalOpen:!1,isImportBotModalOpen:!1,isEditStageModalOpen:!1,focusedBot:null,selectedStage:null,archiveUrl:void 0,archiveName:"",filter:"",showFilters:!1,needApprovalFilter:!1},n.toggleCreateBotModal=function(){n.setState({isCreateBotModalOpen:!n.state.isCreateBotModalOpen})},n.toggleImportBotModal=function(){n.setState({isImportBotModalOpen:!n.state.isImportBotModalOpen})},n.hasUnlangedBots=function(){return n.props.bots.reduce(function(e,t){return e||!t.defaultLanguage},!1)},n.isLicensed=function(){return"licensed"===K.a.get(n.props.licensing,"status")},n.toggleRollbackModal=function(e){n.setState({focusedBot:"string"===typeof e?e:null,isRollbackModalOpen:!n.state.isRollbackModalOpen})},n.handleRollbackSuccess=function(){n.props.fetchBots(),re(l.lang.tr("admin.workspace.bots.rollbackSuccess"))},n.handleEditStageSuccess=function(){n.props.fetchBots()},n.toggleEditStage=function(e){n.setState({selectedStage:e||null,isEditStageModalOpen:!n.state.isEditStageModalOpen})},n.toggleFilters=function(){n.setState({showFilters:!n.state.showFilters})},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchBots(),this.props.fetchBotHealth(),this.props.licensing||this.props.fetchLicensing()}},{key:"exportBot",value:function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({archiveUrl:"/admin/bots/".concat(t,"/export"),archiveName:"bot_".concat(t,"_").concat(Date.now(),".tgz")});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBot",value:function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.confirmDialog)(l.lang.tr("admin.workspace.bots.confirmDelete"),{acceptLabel:l.lang.tr("delete")});case 2:if(!e.sent){e.next=6;break}return e.next=5,Le.getSecured().post("/admin/bots/".concat(t,"/delete"));case 5:this.props.fetchBots();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reloadBot",value:function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.getSecured().post("/admin/bots/".concat(t,"/reload"));case 3:this.props.fetchBots(),this.props.fetchBotHealth(),re(l.lang.tr("admin.workspace.bots.remounted")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),ae(l.lang.tr("admin.workspace.bots.couldNotMount"));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"viewLogs",value:function(e){this.props.history.push(Object(Dn.a)("/workspace/:workspaceId?/logs?botId=:botId",{workspaceId:Re()||void 0,botId:e}))}},{key:"renderCreateNewBotButton",value:function(){var e=this;return i.a.createElement(gt,{resource:"admin.bots.*",operation:"write"},i.a.createElement(d.eb,{minimal:!0,interactionKind:d.fb.HOVER,position:te.a.BOTTOM},i.a.createElement(d.g,{id:"btn-create-bot",intent:ne.a.NONE,text:l.lang.tr("admin.workspace.bots.createBot"),rightIcon:"caret-down"}),i.a.createElement(d.h,{vertical:!0,minimal:!0,fill:!0,alignText:$n.a.LEFT},i.a.createElement(d.g,{id:"btn-new-bot",text:l.lang.tr("admin.workspace.bots.new"),icon:"add",onClick:function(){return e.setState({isCreateBotModalOpen:!0})}}),i.a.createElement(d.g,{id:"btn-import-bot",text:l.lang.tr("admin.workspace.bots.importExisting"),icon:"import",onClick:function(){return e.setState({isImportBotModalOpen:!0})}}))))}},{key:"requestStageChange",value:function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured({timeout:6e4}).post("/admin/bots/".concat(t,"/stage"));case 2:this.props.fetchBots(),re(l.lang.tr("admin.workspace.bots.promoted"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveStageChange",value:function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured({timeout:6e4}).post("/admin/bots/".concat(t,"/approve-stage"));case 2:this.props.fetchBots(),re(l.lang.tr("admin.workspace.bots.approvedPromotion"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createRevision",value:function(){var e=Object(I.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().post("admin/bots/".concat(t,"/revisions"));case 2:re(l.lang.tr("admin.workspace.bots.revisionsCreated"));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"findBotError",value:function(e){return!!this.props.health&&K.a.some(this.props.health.map(function(t){return t.bots[e]}),function(e){return e&&"unhealthy"===e.status})}},{key:"renderCompactView",value:function(e){var t=this;return e.length?i.a.createElement("div",{className:"bp_table bot_views compact_view"},e.map(function(e){return i.a.createElement(o.Fragment,{key:e.id},i.a.createElement(tr,{bot:e,hasError:t.findBotError(e.id),deleteBot:t.deleteBot.bind(t,e.id),exportBot:t.exportBot.bind(t,e.id),createRevision:t.createRevision.bind(t,e.id),rollback:t.toggleRollbackModal.bind(t,e.id),reloadBot:t.reloadBot.bind(t,e.id),viewLogs:t.viewLogs.bind(t,e.id)}))})):null}},{key:"renderPipelineView",value:function(e){var t=this,n=this.props,r=n.workspace.pipeline,a=n.profile,s=a.email,c=a.strategy,l=K.a.groupBy(e,"pipeline_status.current_stage.id"),u=Math.floor(12/r.length);return i.a.createElement(o.Fragment,null,i.a.createElement(z.a,{className:"pipeline_view bot_views"},r.map(function(e,n){var a=t.isLicensed()&&n!==r.length-1;return i.a.createElement(q.a,{key:e.id,md:u},r.length>1&&i.a.createElement("div",{className:"pipeline_title"},i.a.createElement("h3",null,e.label),i.a.createElement(gt,{resource:"admin.bots.*",operation:"write",superAdmin:!0},i.a.createElement(d.g,{className:"pipeline_edit-button",onClick:function(){return t.toggleEditStage(e)}},i.a.createElement(d.L,{icon:"edit"})))),0===n&&i.a.createElement("div",{className:"pipeline_bot create"},t.renderCreateNewBotButton()),(l[e.id]||[]).map(function(n){return i.a.createElement(o.Fragment,{key:n.id},i.a.createElement(nr,{bot:n,isApprover:void 0!==e.reviewers.find(function(e){return e.email===s&&e.strategy===c}),userEmail:s,userStrategy:c,hasError:t.findBotError(n.id),allowStageChange:a&&!n.disabled,requestStageChange:t.requestStageChange.bind(t,n.id),approveStageChange:t.approveStageChange.bind(t,n.id),deleteBot:t.deleteBot.bind(t,n.id),exportBot:t.exportBot.bind(t,n.id),createRevision:t.createRevision.bind(t,n.id),rollback:t.toggleRollbackModal.bind(t,n.id),reloadBot:t.reloadBot.bind(t,n.id),viewLogs:t.viewLogs.bind(t,n.id)}))}))})))}},{key:"filterStageApproval",value:function(e,t,n){if(!this.props.workspace||!this.state.needApprovalFilter)return!0;var r=this.props.workspace.pipeline,a=e.pipeline_status,o=a.current_stage,i=a.stage_request,s=K.a.get(o&&r.find(function(e){return e.id===o.id}),"reviewers",[]).find(function(e){return e.strategy===n&&e.email===t});return i&&s}},{key:"renderBots",value:function(){var e=this,t=this.props.profile,n=t.email,r=t.strategy,a=er(this.props.bots,pr,this.state.filter).filter(function(t){return e.filterStageApproval(t,n,r)}),s=!!this.props.bots.length,c=this.isPipelineView?this.renderPipelineView(a):this.renderCompactView(a);return i.a.createElement("div",null,s&&i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"filterWrapper"},i.a.createElement(d.M,{id:"input-filter",placeholder:l.lang.tr("admin.workspace.bots.filter"),value:this.state.filter,onChange:function(t){return e.setState({filter:t.target.value.toLowerCase()})},autoComplete:"off",className:"filterField"}),this.isPipelineView&&i.a.createElement(d.g,{icon:"filter",onClick:this.toggleFilters})),this.state.showFilters&&i.a.createElement("div",{className:"extraFilters"},i.a.createElement("h2",null,l.lang.tr("admin.workspace.bots.extraFilters")),i.a.createElement(d.k,{label:l.lang.tr("admin.workspace.bots.needYourApproval"),checked:this.state.needApprovalFilter,onChange:function(t){return e.setState({needApprovalFilter:t.currentTarget.checked})}})),this.state.filter&&!a.length&&i.a.createElement(d.i,{title:l.lang.tr("admin.workspace.bots.noBotMatches"),className:"filterCallout"})),!s&&i.a.createElement(d.i,{title:l.lang.tr("admin.workspace.bots.noBotYet"),className:"filterCallout"},i.a.createElement("p",null,i.a.createElement("br",null),l.lang.tr("admin.workspace.bots.alwaysAssignedToWorkspace"),i.a.createElement("br",null),l.lang.tr("admin.workspace.bots.createYourFirstBot"))),this.hasUnlangedBots()&&i.a.createElement(y.a,{color:"warning"},l.lang.tr("admin.workspace.bots.noSpecifiedLanguage")),c)}},{key:"render",value:function(){return this.props.bots?i.a.createElement(ht,{title:l.lang.tr("admin.workspace.bots.bots")},i.a.createElement(jt,{sideMenu:!this.isPipelineView&&this.renderCreateNewBotButton()},i.a.createElement(o.Fragment,null,i.a.createElement(Wn,{url:this.state.archiveUrl,filename:this.state.archiveName}),this.renderBots(),i.a.createElement(gt,{resource:"admin.bots.*",operation:"write"},i.a.createElement(dr,{botId:this.state.focusedBot,isOpen:this.state.isRollbackModalOpen,toggle:this.toggleRollbackModal,onRollbackSuccess:this.handleRollbackSuccess}),i.a.createElement(cr,{workspace:this.props.workspace,stage:this.state.selectedStage,isOpen:this.state.isEditStageModalOpen,toggle:this.toggleEditStage,onEditSuccess:this.handleEditStageSuccess}),i.a.createElement(sr,{isOpen:this.state.isCreateBotModalOpen,toggle:this.toggleCreateBotModal,existingBots:this.props.bots,onCreateBotSuccess:this.props.fetchBots}),i.a.createElement(ur,{isOpen:this.state.isImportBotModalOpen,toggle:this.toggleImportBotModal,onCreateBotSuccess:this.props.fetchBots}))))):i.a.createElement(Bt,null)}},{key:"isPipelineView",get:function(){return this.props.workspace&&this.props.workspace.pipeline&&this.props.workspace.pipeline.length>1}}]),t}(o.Component),mr={fetchBots:_e,fetchLicensing:Ue,fetchBotHealth:Me},gr=Object(p.b)(function(e){return{bots:e.bots.bots,health:e.bots.health,workspace:e.bots.workspace,loading:e.bots.loadingBots,licensing:e.license.licensing,profile:e.user.profile}},mr)(fr),hr=function(e){function t(){return Object(j.a)(this,t),Object(D.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){!this.props.roles.length&&this.props.fetchRoles()}},{key:"renderRoles",value:function(){return i.a.createElement("div",{className:"bp_table"},this.props.roles.map(function(e){return i.a.createElement("div",{className:"bp_table-row",key:e.id},i.a.createElement("div",{className:"title"},l.lang.tr(e.name)),i.a.createElement("p",null,l.lang.tr(e.description)))}))}},{key:"render",value:function(){return i.a.createElement(ht,{title:l.lang.tr("admin.workspace.roles.title"),helpText:l.lang.tr("admin.workspace.rolesHelp")},this.renderRoles())}}]),t}(o.Component),vr={fetchRoles:$e},br=Object(p.b)(function(e){return{roles:e.roles.roles}},vr)(hr),Ar=n(519),Er=n.n(Ar),yr=Rn.a.ofType(),wr=function(e,t){return"".concat(t.name.toLowerCase()," ").concat(t.id).indexOf(e.toLowerCase())>-1},kr=function(e,t){var n=t.handleClick,r=t.modifiers;return r.matchesPredicate?i.a.createElement(d.R,{className:Ot.g.SMALL,active:r.active,disabled:r.disabled,key:e.id,onClick:n,text:l.lang.tr(e.name)}):null},Or=Object(p.b)(function(e){return{roles:e.roles.roles}},{fetchRoles:$e})(function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1];Object(o.useEffect)(function(){if(e.roles&&e.roles.length){var t=e.defaultRole&&e.roles.find(function(t){return t.id===e.defaultRole});s(t||e.roles[0])}else e.fetchRoles()},[e.roles]);var s=function(t){t&&(a(t),e.onChange(t))};return e.roles&&r?i.a.createElement(yr,{items:e.roles,itemPredicate:wr,itemRenderer:kr,activeItem:r,popoverProps:{minimal:!0},noResults:i.a.createElement(d.R,{disabled:!0,text:"No results."}),onItemSelect:function(e){return s(e)},onActiveItemChange:function(e){return s(e)}},i.a.createElement(d.g,{id:"select-role",text:l.lang.tr(r.name),rightIcon:"double-caret-vertical"})):null}),Cr=Rn.a.ofType(),xr=function(e,t){var n=t.label&&t.label.toLowerCase();return"".concat(n," ").concat(t.strategyId).indexOf(e.toLowerCase())>-1},Rr=function(e,t){var n=t.handleClick,r=t.modifiers;return r.matchesPredicate?i.a.createElement(d.R,{className:Ot.g.SMALL,active:r.active,disabled:r.disabled,key:e.strategyId,onClick:n,text:e.label||e.strategyId}):null},Sr=Object(p.b)(function(e){return{authConfig:e.user.authConfig}},{fetchAuthConfig:at})(function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1];Object(o.useEffect)(function(){e.authConfig?e.authConfig.length&&s(e.authConfig[0]):e.fetchAuthConfig()},[e.authConfig]);var s=function(t){t&&(a(t),e.onChange(t))};return e.authConfig&&r?i.a.createElement(Cr,{items:e.authConfig,itemPredicate:xr,itemRenderer:Rr,activeItem:r,popoverProps:{minimal:!0},noResults:i.a.createElement(d.R,{disabled:!0,text:"No results."}),onItemSelect:function(e){return s(e)},onActiveItemChange:function(e){return s(e)}},i.a.createElement(d.g,{text:r.label||r.strategyId,rightIcon:"double-caret-vertical"})):null}),Ir={fetchAvailableUsers:function(e){var t=e&&"?roles=".concat(e)||"";return function(){var e=Object(I.a)(S.a.mark(function e(n){var r,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/users/listAvailableUsers".concat(t));case 2:r=e.sent,a=r.data,n({type:"user/AVAILABLE_USERS_RECEIVED",availableUsers:a.payload});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},Tr=Object(p.b)(function(e){return{availableUsers:e.user.availableUsers}},Ir)(function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(),m=Object(ie.a)(f,2),g=m[0],h=m[1];Object(o.useEffect)(function(){e.fetchAvailableUsers(),h(void 0)},[e.isOpen]);var v=g&&g.__isNew__,b=g&&r&&(!v||v&&u),A=function(){var t=Object(I.a)(S.a.mark(function t(){var n,a,o,i,s;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(g&&r){t.next=2;break}return t.abrupt("return");case 2:if(!v){t.next=12;break}if(u){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Le.getSecured().post("/admin/users",{email:g.value,strategy:u.strategyId,role:r.id});case 7:n=t.sent,a=n.data,e.onUserCreated&&e.onUserCreated(a.payload),t.next=16;break;case 12:return o=g.value,i=o.email,s=o.strategy,t.next=15,Le.getSecured().post("/admin/users/workspace/add",{email:i,strategy:s,role:r.id});case 15:e.onUserAdded&&e.onUserAdded();case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(I.a)(S.a.mark(function t(n){var r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length&&e.availableUsers){t.next=2;break}return t.abrupt("return");case 2:return r=n.toLowerCase(),t.abrupt("return",e.availableUsers.filter(function(e){return e.email.toLowerCase().includes(r)}).map(function(e){return{label:"".concat(e.email," (").concat(e.strategy,")"),value:e}}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(l.BaseDialog,{title:l.lang.tr("admin.workspace.users.collaborators.add"),icon:"add",isOpen:e.isOpen,onClose:e.toggleOpen,onSubmit:A},i.a.createElement(l.DialogBody,null,i.a.createElement(d.x,{label:l.lang.tr("email"),labelFor:"select-email",helperText:l.lang.tr("admin.workspace.users.collaborators.inviteExistingUser")},i.a.createElement(Er.a,{id:"select-email",cacheOptions:!0,defaultOptions:!0,value:g,loadOptions:E,onChange:function(e){return h(e)},autoFocus:!0})),v&&i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.users.collaborators.authStrategy"),labelFor:"select-strategy"},i.a.createElement(Sr,{onChange:function(e){return p(e)}})),i.a.createElement(d.x,{label:l.lang.tr("admin.workspace.users.collaborators.chooseRole"),labelFor:"select-role"},i.a.createElement(Or,{onChange:function(e){return a(e)}}))),i.a.createElement(l.DialogFooter,null,i.a.createElement(d.g,{id:"btn-submit",className:"float-right",type:"submit",text:v?l.lang.tr("admin.workspace.users.collaborators.createAccount"):l.lang.tr("admin.workspace.users.collaborators.addToWorkspace"),disabled:!b})))}),jr=function(e){var t={newAccount:"".concat(l.lang.tr("admin.workspace.users.collaborators.accountReady"),"\n\n  ").concat(l.lang.tr("admin.workspace.users.collaborators.signInHere",{link:"".concat(window.location.origin,"/admin/login")}),"\n  ").concat(l.lang.tr("admin.workspace.users.collaborators.showEmail",{email:e.email}),"\n  ").concat(l.lang.tr("admin.workspace.users.collaborators.showPassword",{password:e.password})),passwordReset:"".concat(l.lang.tr("admin.workspace.users.collaborators.passwordBeenReset"),"\n\n    ").concat(l.lang.tr("admin.workspace.users.collaborators.showEmail",{email:e.email}),"\n    ").concat(l.lang.tr("admin.workspace.users.collaborators.showPassword",{password:e.password}))};return t[e.messageId]?i.a.createElement(l.BaseDialog,{title:"newAccount"===e.messageId?l.lang.tr("admin.workspace.users.collaborators.accountReady"):l.lang.tr("admin.workspace.users.collaborators.passwordReset"),icon:"info-sign",isOpen:e.isOpen,onClose:e.toggle},i.a.createElement(l.DialogBody,null,i.a.createElement(d.ib,null,t[e.messageId])),i.a.createElement(l.DialogFooter,null,i.a.createElement(mn.CopyToClipboard,{text:t[e.messageId],onCopy:function(){return oe(l.lang.tr("admin.workspace.users.collaborators.copiedToClipboard"))}},i.a.createElement(d.g,{text:l.lang.tr("admin.workspace.users.collaborators.copyMessageToClipboard")})),i.a.createElement(mn.CopyToClipboard,{text:e.password,onCopy:function(){return oe(l.lang.tr("admin.workspace.users.collaborators.copiedToClipboard"))}},i.a.createElement(d.g,{text:l.lang.tr("admin.workspace.users.collaborators.copyPasswordToClipboard"),intent:ne.a.PRIMARY})))):null},Nr=n(155),Dr=Object(p.b)(function(e){return{roles:e.roles.roles,authConfig:e.user.authConfig}},{})(function(e){var t=e.user,n=function(){var n=Object(I.a)(S.a.mark(function n(){var r,a;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.confirmDialog)(l.lang.tr("admin.workspace.users.collaborators.passwordResetConfirm",{user:t.email}),{acceptLabel:l.lang.tr("reset")});case 2:if(n.sent){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,n.next=7,Le.getSecured().get("/admin/users/reset/".concat(t.strategy,"/").concat(t.email));case 7:r=n.sent,a=r.data,re(l.lang.tr("admin.workspace.users.collaborators.passwordResetSuccess")),e.onPasswordReset(t.email,a.payload.tempPassword),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(4),ae(l.lang.tr("admin.workspace.users.collaborators.passwordResetFail",{msg:n.t0.message}));case 16:case"end":return n.stop()}},n,null,[[4,13]])}));return function(){return n.apply(this,arguments)}}(),r=function(){var n=Object(I.a)(S.a.mark(function n(){return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.confirmDialog)(l.lang.tr("admin.workspace.users.collaborators.deleteAccountConfirm",{user:t.email}),{acceptLabel:l.lang.tr("delete")});case 2:if(n.sent){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,n.next=7,Le.getSecured().post("/admin/users/".concat(t.strategy,"/").concat(t.email,"/delete"));case 7:re(l.lang.tr("admin.workspace.users.collaborators.deleteAccountSuccess",{user:t.email})),e.onUserUpdated(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),ae(l.lang.tr("admin.workspace.users.collaborators.deleteAccountFail",{msg:n.t0.message}));case 14:case"end":return n.stop()}},n,null,[[4,11]])}));return function(){return n.apply(this,arguments)}}(),a=function(){var n=Object(I.a)(S.a.mark(function n(){return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.confirmDialog)(l.lang.tr("admin.workspace.users.collaborators.removeConfirm",{user:t.email}),{acceptLabel:l.lang.tr("remove")});case 2:if(n.sent){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,n.next=7,Le.getSecured().post("/admin/users/workspace/remove/".concat(t.strategy,"/").concat(t.email,"/delete"));case 7:re(l.lang.tr("admin.workspace.users.collaborators.removeSuccess",{user:t.email})),e.onUserUpdated(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),ae(l.lang.tr("admin.workspace.users.collaborators.removeFail",{msg:n.t0.message}));case 14:case"end":return n.stop()}},n,null,[[4,11]])}));return function(){return n.apply(this,arguments)}}(),o=function(){var t=Object(I.a)(S.a.mark(function t(n){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/users/workspace/update_role",Object(T.a)({},e.user,{role:n}));case 3:re(l.lang.tr("admin.workspace.users.collaborators.roleUpdateSuccess")),e.onUserUpdated(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ae(l.lang.tr("admin.workspace.users.collaborators.roleUpdateFail",{msg:t.t0.message}));case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}();if(!e.authConfig||!e.user)return null;var s=e.authConfig.find(function(e){return e.strategyId===t.strategy}),c=s&&"basic"===s.strategyType;return i.a.createElement(d.eb,{minimal:!0,position:te.a.BOTTOM,interactionKind:d.fb.HOVER},i.a.createElement(d.g,{id:"btn-menu",rightIcon:"caret-down",text:l.lang.tr("admin.workspace.users.collaborators.action")}),i.a.createElement(d.P,null,c&&i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.users.collaborators.resetPassword"),onClick:n,icon:"key",key:"reset",id:"btn-resetPassword"}),i.a.createElement(d.R,{id:"btn-changeRole",text:l.lang.tr("admin.workspace.users.collaborators.changeRole"),icon:"people"},e.roles.map(function(e){return i.a.createElement(d.R,{text:e.name,key:e.id,id:"btn-role-".concat(e.id),disabled:t.role===e.id,icon:t.role===e.id?"arrow-right":"dot",onClick:function(){return o(e.id)},tagName:"button"})})),i.a.createElement(d.Q,null),i.a.createElement(d.R,{text:l.lang.tr("admin.workspace.users.collaborators.removeFromWorkspace"),onClick:a,icon:"remove",key:"remove",id:"btn-removeUser"}),i.a.createElement(d.R,{text:l.lang.tr("delete"),onClick:r,icon:"trash",key:"delete",id:"btn-deleteUser",intent:ne.a.DANGER})))}),Lr=function(e){var t=e.user,n=e.showPicture,r=e.currentUserEmail,a=e.onUserUpdated,o=e.onPasswordReset;return i.a.createElement("div",{className:"bp_table-row bp_users-list",key:"user-"+t.email},i.a.createElement("div",{style:{display:"flex"}},n&&i.a.createElement("div",{className:"bp_users-picture"},i.a.createElement("img",{src:t.attributes.picture_url})),i.a.createElement("div",{className:"pullLeft details"},i.a.createElement("div",{className:"nameZone"},K.a.get(t,"attributes.firstname",""),"\xa0",K.a.get(t,"attributes.lastname","")),i.a.createElement("p",null,i.a.createElement("span",{className:"emailField"},i.a.createElement("b",null,l.lang.tr("email"),": "),t.email," (",t.strategy,")"))),i.a.createElement("div",{className:"dates"},i.a.createElement("span",{className:"field"},i.a.createElement("b",null,l.lang.tr("admin.workspace.users.collaborators.created"),": "),ce()(t.attributes.created_at||t.attributes.createdOn).fromNow()),i.a.createElement("span",{className:"field"},i.a.createElement("b",null,l.lang.tr("admin.workspace.users.collaborators.lastLogin"),": "),t.attributes.last_logon?ce()(t.attributes.last_logon).fromNow():"never"))),i.a.createElement("div",null,t.email.toLowerCase()!==r&&i.a.createElement(Dr,{user:t,onUserUpdated:a,onPasswordReset:o})))},Br=function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=e.users,c=e.role,l=K.a.some(s,function(e){return e.attributes&&e.attributes.picture_url});return i.a.createElement("div",{key:"role-"+c.id},i.a.createElement("div",{onClick:function(){return a(!r)},id:"div-role-".concat(c.id),className:"bp_users-role_header"},i.a.createElement("div",{className:"role float-left"},i.a.createElement(d.tb,{minimal:!0},s.length),i.a.createElement("span",{className:"title"},c.name)),r?i.a.createElement(d.L,{icon:"caret-up"}):i.a.createElement(d.L,{icon:"caret-down"})),i.a.createElement(d.m,{isOpen:r},i.a.createElement("div",{className:"bp_table"},s.map(function(t){return i.a.createElement(Lr,{key:t.email,user:t,showPicture:l,currentUserEmail:e.currentUserEmail,onUserUpdated:e.onUserUpdated,onPasswordReset:e.onPasswordReset})}))))},Pr=["email","attributes.firstname","attributes.lastname"],_r=Object(p.b)(function(e){return{profile:e.user.profile,roles:e.roles.roles,users:e.user.users,loading:e.user.loadingUsers}},{})(function(e){var t=Object(o.useState)(""),n=Object(ie.a)(t,2),r=n[0],a=n[1];if(!e.users||e.loading||!e.roles)return i.a.createElement(Bt,null);if(!e.users.length)return i.a.createElement(d.i,{title:l.lang.tr("admin.workspace.users.collaborators.noCollaboratorsYet"),style:{textAlign:"center"}});var s=K.a.get(e.profile,"email","").toLowerCase(),c=er(e.users,Pr,r),u=[].concat(Object(Ke.a)(e.roles),[Nr.CHAT_USER_ROLE]);return i.a.createElement("div",null,i.a.createElement(d.M,{id:"input-filter",placeholder:l.lang.tr("admin.workspace.users.collaborators.filterUsers"),value:r,onChange:function(e){return a(e.target.value.toLowerCase())},autoComplete:"off",className:"filterField"}),i.a.createElement("div",{className:"bp_users-container"},r&&!c.length&&i.a.createElement(d.i,{title:l.lang.tr("admin.workspace.users.collaborators.noMatch"),className:"filterCallout"}),u.map(function(t){var n=c.filter(function(e){return e.role===t.id});return n.length?i.a.createElement(Br,{key:t.id,users:n,role:t,currentUserEmail:s,onUserUpdated:e.onUserUpdated,onPasswordReset:e.onPasswordReset}):null})))}),Mr=Object(p.b)(function(e){return{loading:e.user.loadingUsers,roles:e.roles.roles,authConfig:e.user.authConfig}},{fetchUsers:tt,fetchRoles:$e,fetchAuthConfig:at})(function(e){Object(o.useEffect)(function(){!e.roles.length&&e.fetchRoles(),!e.authConfig&&e.fetchAuthConfig()},[]),Object(o.useEffect)(function(){e.roles&&C()},[e.roles]);var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(),m=Object(ie.a)(f,2),g=m[0],h=m[1],v=Object(o.useState)(),b=Object(ie.a)(v,2),A=b[0],E=b[1],y=Object(o.useState)(),w=Object(ie.a)(y,2),k=w[0],O=w[1],C=function(){var t=e.roles.map(function(e){return e.id}).join(",");e.fetchUsers(t)};return i.a.createElement(ht,{title:l.lang.tr("admin.workspace.users.collaborators.collaborators"),helpText:l.lang.tr("admin.workspace.users.collaborators.help")},i.a.createElement(jt,{sideMenu:i.a.createElement("div",null,i.a.createElement(d.g,{id:"btn-create",style:{width:160},text:l.lang.tr("admin.workspace.users.collaborators.add"),icon:"add",onClick:function(){return a(!0)}}),i.a.createElement(Tr,{isOpen:r,toggleOpen:function(){return a(!r)},onUserCreated:function(e){O("newAccount"),a(!1),p(!0),h(e.email),E(e.tempPassword),C()},onUserAdded:function(){a(!1),C()}}),i.a.createElement(jr,{isOpen:u,toggle:function(){return p(!u)},messageId:k,email:g,password:A}))},i.a.createElement(_r,{onPasswordReset:function(e,t){O("passwordReset"),h(e),E(t),p(!0)},onUserUpdated:C})))}),Fr=function(e){var t=Object(o.useState)("none"),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(),c=Object(ie.a)(s,2),l=c[0],u=c[1],p=Object(o.useState)(!1),f=Object(ie.a)(p,2),m=f[0],g=f[1];Object(o.useEffect)(function(){h()},[e.workspace,e.isOpen]);var h=function(){if(e.workspace&&e.workspace.pipeline){var t=e.workspace.pipeline,n=!1;Object.keys(Nr.defaultPipelines).forEach(function(e){K.a.isEqual(t,Nr.defaultPipelines[e])&&(a(e),u(void 0),n=!0)}),n||(a("custom"),u(t.map(function(e){return e.id})))}},v=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/workspaces/".concat(e.workspace.id,"/pipeline"),{pipelineId:r,resetStage:m});case 3:re("Pipeline updated successfully"),e.toggle(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ae(t.t0.message);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();return i.a.createElement(d.r,{isOpen:e.isOpen,icon:"git-branch",onClose:e.toggle,transitionDuration:0,title:"Configure Pipeline"},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.lb,{label:"Which pipeline would you like to use?",onChange:function(e){return a(e.currentTarget.value)},selectedValue:r},i.a.createElement(d.kb,{id:"radio-no-pipeline",label:"No pipeline [production]",value:"none"}),i.a.createElement(d.kb,{id:"radio-bp-pipeline",label:"Botpress default [dev, staging, production]",value:"botpress"}),l&&i.a.createElement(d.kb,{id:"radio-bp-custom",label:"Custom  [".concat(l.join(", "),"]"),value:"custom"})),i.a.createElement("br",null),i.a.createElement(d.k,{checked:m,onChange:function(e){return g(e.currentTarget.checked)},label:"Move all bots to the first stage of the pipeline"})),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-submit",text:"Submit",onClick:v}))))},Ur=function(e){return e.toLowerCase().replace(/\s/g,"-").replace(/[^a-z0-9_-]/g,"")},zr=function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(!0),c=Object(ie.a)(s,2),l=c[0],u=c[1],p=Object(o.useState)(1),f=Object(ie.a)(p,2),m=f[0],g=f[1],h=Object(o.useState)(),v=Object(ie.a)(h,2),b=v[0],A=v[1],E=Object(o.useState)(),y=Object(ie.a)(E,2),w=y[0],k=y[1],O=Object(o.useState)(),C=Object(ie.a)(O,2),x=C[0],R=C[1],T=Object(o.useState)("internal"),j=Object(ie.a)(T,2),N=j[0],D=j[1],L=Object(o.useState)("none"),B=Object(ie.a)(L,2),P=B[0],_=B[1],M=function(){var t=Object(I.a)(S.a.mark(function t(){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={id:b,name:w,audience:N,description:x,pipelineId:P},t.prev=1,t.next=4,Le.getSecured().post("/admin/workspaces",n);case 4:e.refreshWorkspaces(),re("Workspace created successfully"),F(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),ae(t.t0.message);case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),F=function(){A(""),k(""),R(""),D("external"),_("none"),a(!1),u(!0)};return i.a.createElement("div",null,i.a.createElement(d.r,{isOpen:r,icon:"add",onClose:F,transitionDuration:0,title:"Create workspace"},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},1===m&&i.a.createElement(o.Fragment,null,i.a.createElement(d.x,{label:i.a.createElement("span",null,"Workspace Name"),labelFor:"input-workspaceName",labelInfo:"*"},i.a.createElement(d.M,{id:"input-workspaceName",placeholder:"The name of your workspace",value:w,onChange:function(e){k(e.target.value),l&&A(Ur(e.target.value))},tabIndex:2,autoFocus:!0})),i.a.createElement(d.x,{label:i.a.createElement("span",null,"Workspace ID"),labelFor:"input-workspaceId",labelInfo:"*",helperText:"This ID cannot be changed afterwards."},i.a.createElement(d.M,{id:"input-workspaceId",placeholder:"The ID of your workspace",value:b,onChange:function(e){u(!1),A(Ur(e.target.value))},tabIndex:1})),i.a.createElement(d.x,{label:i.a.createElement("span",null,"Description"),labelFor:"input-description"},i.a.createElement(d.wb,{id:"input-description",placeholder:"What is this workspace being used for? (optional)",value:x,onChange:function(e){return R(e.currentTarget.value)},fill:!0,rows:3,tabIndex:3,maxLength:500}))),2===m&&i.a.createElement(o.Fragment,null,i.a.createElement(d.lb,{label:"Who will interact with bots of this workspace? ",onChange:function(e){return D(e.currentTarget.value)},selectedValue:N},i.a.createElement(d.kb,{id:"radio-insert",label:"External users",value:"external"}),i.a.createElement(d.kb,{id:"radio-internal",label:"Internal users",value:"internal"}))),3===m&&i.a.createElement(o.Fragment,null,i.a.createElement(d.lb,{label:"Which pipeline would you like to use for this workspace?",onChange:function(e){return _(e.currentTarget.value)},selectedValue:P},i.a.createElement(d.kb,{id:"radio-no-pipeline",label:"No pipeline [production]",value:"none"}),i.a.createElement(d.kb,{id:"radio-bp-pipeline",label:"Botpress default [dev, staging, production]",value:"botpress"})))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},m>1&&i.a.createElement(d.g,{id:"btn-next",text:"Previous",onClick:function(){return g(m-1)}}),m<3&&i.a.createElement(d.g,{id:"btn-next",text:"Next",onClick:function(){return g(m+1)}}),3===m&&i.a.createElement(d.g,{id:"btn-submit",text:"Submit",onClick:M})))),i.a.createElement(d.g,{id:"btn-create",text:"Create workspace",icon:"add",onClick:function(){return a(!0)}}))},qr=function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/workspaces/".concat(e.workspace.id,"/delete"));case 3:e.refreshWorkspaces(),re("Workspace deleted successfully"),c(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ae(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),c=function(){a(""),e.toggle()};if(!e.workspace)return null;var l="".concat(e.workspace.bots.length," bot").concat(1===e.workspace.bots.length?"":"s"," will also be deleted");return i.a.createElement(d.r,{isOpen:e.isOpen,icon:"trash",onClose:c,transitionDuration:0,title:'Delete workspace "'.concat(e.workspace.name,'"')},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.i,{intent:ne.a.WARNING,title:l},"Deleting a workspace is definitive. All associated bots will also be deleted."),i.a.createElement("br",null),i.a.createElement(d.x,{label:i.a.createElement("span",null,"Workspace name"),labelFor:"input-workspaceName",labelInfo:"*"},i.a.createElement(d.M,{id:"input-workspaceName",placeholder:"Type the name of the workspace (case-sensitive)",value:r,onChange:function(e){return a(e.currentTarget.value)},tabIndex:1,autoFocus:!0}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-submit",intent:ne.a.DANGER,text:"Delete",tabIndex:2,onClick:s,disabled:e.workspace.name!==r}))))},Hr=function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(),c=Object(ie.a)(s,2),l=c[0],u=c[1];Object(o.useEffect)(function(){if(e.workspace){var t=e.workspace,n=t.name,r=t.description;a(n),u(r)}},[e.workspace,e.isOpen]);var p=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/workspaces/".concat(e.workspace.id),{name:r,description:l});case 3:e.refreshWorkspaces(),re("Workspace saved successfully"),f(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ae(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),f=function(){a(""),u(""),e.toggle()};return i.a.createElement(d.r,{isOpen:e.isOpen,icon:"edit",onClose:f,transitionDuration:0,title:"Edit Workspace"},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:i.a.createElement("span",null,"Workspace Name"),labelFor:"input-name",labelInfo:"*"},i.a.createElement(d.M,{id:"input-name",placeholder:"The name of your workspace",value:r,onChange:function(e){return a(e.currentTarget.value)},tabIndex:1,autoFocus:!0})),i.a.createElement(d.x,{label:i.a.createElement("span",null,"Description"),labelFor:"input-description"},i.a.createElement(d.wb,{id:"input-description",placeholder:"What is this workspace being used for? (optional)",value:l,onChange:function(e){return u(e.currentTarget.value)},rows:3,fill:!0,tabIndex:2,maxLength:500}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-submit",text:"Save",tabIndex:3,onClick:p}))))},Wr=function(e){var t=Object(o.useState)("current"),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(-1),c=Object(ie.a)(s,2),l=c[0],u=c[1],p=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/workspaces/".concat(e.workspaceId,"/resetInvite"),{inviteLimit:l});case 3:re("Invite code updated successfully"),e.onUpdate(),a("current"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ae(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}();return i.a.createElement(d.sb,{id:"tabs",onChange:function(e){return a(e)},selectedTabId:r},i.a.createElement(d.rb,{id:"current",title:"Current invite code",panel:i.a.createElement("div",null,"Current Code: ",i.a.createElement("strong",null,e.inviteCode),i.a.createElement("br",null)," ",i.a.createElement("br",null),"Nb. of usage left: ",-1===e.allowedUsages?"unlimited":e.allowedUsages)}),i.a.createElement(d.rb,{id:"advanced",title:"Change invite code",panel:i.a.createElement("div",null,i.a.createElement("p",null,"Invite codes are generated automatically. Choose how many time the code can be used (-1 = unlimited). Once changed, the old code can't be used anymore."),i.a.createElement(d.q,null,i.a.createElement(d.Y,{id:"input-allowed",placeholder:"Max number of time it can be used",value:l,onValueChange:function(e){return u(e)}}),i.a.createElement(d.g,{text:"Generate new code",onClick:p})))}))},Vr={label:"Anonymous",desc:"Anonymous users can talk to the bots (default)"},Yr={label:"Authenticated",desc:"Authenticated users will be added to the workspace automatically, then can talk to bots"},Zr={label:"Authorized",desc:"Authenticated users with an existing access to the workspace can talk to bots"},Qr={label:"Anonymous + Code",desc:"Anonymous users with an invite code can talk to bots",inviteRequired:!0},Gr={label:"Auth + Code",desc:"Authenticated users with an invite code will be added to the workspace, then can talk to bots",inviteRequired:!0},Kr=function(e){var t=Object(o.useState)("anonymous"),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(-1),m=Object(ie.a)(f,2),g=m[0],h=m[1];Object(o.useEffect)(function(){e.workspaceId&&v()},[e.workspaceId,e.isOpen]);var v=function(){var t=Object(I.a)(S.a.mark(function t(){var n,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Le.getSecured().get("/admin/workspaces/".concat(e.workspaceId,"/rollout"));case 2:n=t.sent,r=n.data,p(r.inviteCode),h(r.allowedUsages),a(r.rolloutStrategy);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(I.a)(S.a.mark(function t(){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/admin/workspaces/".concat(e.workspaceId,"/rollout/").concat(r));case 3:re("Rollout strategy updated successfully"),e.refreshWorkspaces&&e.refreshWorkspaces(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ae(t.t0.message);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),A=["anonymous-invite","authenticated-invite"].includes(r);return i.a.createElement(l.BaseDialog,{title:"Rollout Strategy",icon:"send-to-graph",isOpen:e.isOpen,onClose:function(){return e.toggle()},size:"md"},i.a.createElement(l.DialogBody,null,i.a.createElement("p",null,"The rollout strategy is applied to all bots of the workspace when a user encounters an Auth Gate on the flow. Without an Auth Gate, the policy has no effect."),i.a.createElement(d.lb,{onChange:function(e){return a(e.currentTarget.value)},selectedValue:r},i.a.createElement(d.kb,{id:"radio-anonymous",value:"anonymous",label:Vr.desc}),i.a.createElement(d.kb,{id:"radio-authenticated",value:"authenticated",label:Yr.desc}),i.a.createElement(d.kb,{id:"radio-authorized",value:"authorized",label:Zr.desc}),i.a.createElement("p",null,i.a.createElement("strong",null,"Strategies requiring an invite code")),i.a.createElement(d.kb,{id:"radio-anonymous-invite",value:"anonymous-invite",label:Qr.desc}),i.a.createElement(d.kb,{id:"radio-authenticated-invite",value:"authenticated-invite",label:Gr.desc})),i.a.createElement("br",null),A&&i.a.createElement(Wr,{inviteCode:u,allowedUsages:g,onUpdate:v,workspaceId:e.workspaceId})),i.a.createElement(l.DialogFooter,null,i.a.createElement(d.g,{id:"btn-submit",text:"Submit",onClick:b})))},Xr=Object(p.b)(function(e){return{workspaces:e.server.workspaces}},{fetchWorkspaces:function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/workspaces");case 2:n=e.sent,r=n.data,t({type:"server/FETCH_WORKSPACES_RECEIVED",workspaces:r});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},fetchMyWorkspaces:rt})(function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=Object(ie.a)(s,2),l=c[0],u=c[1],p=Object(o.useState)(!1),f=Object(ie.a)(p,2),m=f[0],g=f[1],h=Object(o.useState)(!1),v=Object(ie.a)(h,2),b=v[0],A=v[1],E=Object(o.useState)(!1),y=Object(ie.a)(E,2),w=y[0],k=y[1];Object(o.useEffect)(function(){e.fetchWorkspaces()},[]);var O=function(){e.fetchMyWorkspaces(),e.fetchWorkspaces()};return e.workspaces?i.a.createElement(ht,{title:"Manage Workspaces"},i.a.createElement(jt,{sideMenu:i.a.createElement(zr,{refreshWorkspaces:O})},i.a.createElement("div",{className:"bp_table"},e.workspaces.map(function(e){return i.a.createElement("div",{className:"bp_table-row",key:e.id},i.a.createElement("div",{className:"actions"},i.a.createElement(d.eb,{minimal:!0,position:te.a.BOTTOM,interactionKind:d.fb.HOVER},i.a.createElement(d.g,{id:"btn-menu",icon:i.a.createElement(d.L,{icon:"menu"}),minimal:!0}),i.a.createElement(d.P,null,i.a.createElement(d.R,{id:"btn-edit",icon:"edit",text:"Edit Workspace",onClick:function(){return function(e){a(e),g(!0)}(e)}}),i.a.createElement(d.R,{id:"btn-rollout",icon:"send-to-graph",text:"Configure Rollout",onClick:function(){return function(e){a(e),A(!0)}(e)}}),i.a.createElement(d.R,{id:"btn-pipeline",icon:"git-branch",text:"Configure Pipeline",onClick:function(){return function(e){a(e),u(!0)}(e)}}),i.a.createElement(d.Q,null),i.a.createElement(d.R,{id:"btn-delete",icon:"trash",text:"Delete Workspace",onClick:function(){return function(e){a(e),k(!0)}(e)}})))),i.a.createElement("div",{className:"spaced"},i.a.createElement("div",null,i.a.createElement("a",{className:"link",onClick:function(){return t=e.id,he.push("/workspace/".concat(t,"/bots"));var t}},i.a.createElement("strong",null,e.name))," ",i.a.createElement("span",null,"(",e.id,")")),i.a.createElement("div",{style:{width:200}},i.a.createElement("small",null,e.bots.length," bot",1===e.bots.length?"":"s"," - ",e.audience," users"))),i.a.createElement("p",null,e.description))}))),i.a.createElement(Hr,{workspace:r,isOpen:m,toggle:function(){return g(!m)},refreshWorkspaces:O}),i.a.createElement(Fr,{workspace:r,isOpen:l,toggle:function(){return u(!l)},refreshWorkspaces:O}),i.a.createElement(qr,{workspace:r,isOpen:w,toggle:function(){return k(!w)},refreshWorkspaces:O}),i.a.createElement(Kr,{workspaceId:r&&r.id,isOpen:b,toggle:function(){return A(!b)},refreshWorkspaces:O})):null}),Jr=n(1099),$r=Rn.a.ofType(),ea=function(e,t,n){var r=t.workspaceName.toLowerCase(),a=e.toLowerCase();return"".concat(r," ").concat(t.workspace).indexOf(a)>=0},ta=function(e,t){var n=t.handleClick,r=t.modifiers;t.query;return r.matchesPredicate?i.a.createElement(d.R,{className:Ot.g.SMALL,active:r.active,disabled:r.disabled,key:e.workspaceName,onClick:n,text:e.workspaceName}):null},na={fetchMyWorkspaces:rt,switchWorkspace:ot,fetchUsers:tt,fetchBots:_e,fetchRoles:$e},ra=Object(Ln.a)(Object(p.b)(function(e){return{workspaces:e.user.workspaces,currentWorkspace:e.user.currentWorkspace}},na)(function(e){var t=e.location.pathname.split("/"),n=Object(ie.a)(t,4),r=n[1],a=n[2],s=n[3],c=Object(o.useState)(),u=Object(ie.a)(c,2),p=u[0],f=u[1],m=Object(o.useState)(),g=Object(ie.a)(m,2),h=g[0],v=g[1];Object(o.useEffect)(function(){e.workspaces?(A(),b()):e.fetchMyWorkspaces()},[e.workspaces,e.currentWorkspace]),Object(o.useEffect)(function(){e.currentWorkspace&&(ft({operation:"read",resource:"admin.collaborators"})&&e.fetchUsers(),ft({operation:"read",resource:"admin.roles"})&&e.fetchRoles(),e.fetchBots())},[e.currentWorkspace]);var b=function(){var t=e.workspaces;f(t),v(t.find(function(e){return e.workspace===Re()}))},A=function(){var t=function(){if(e.workspaces&&e.workspaces.length){var t=e.workspaces.find(function(e){return e.workspace==a}),n=e.workspaces.find(function(e){return e.workspace==Re()});return t&&t.workspace||n&&n.workspace||e.workspaces[0].workspace}}();if(!t)return e.history.replace("/noAccess");t===Re()&&t===a||E(t)},E=function(t){e.switchWorkspace(t),"workspace"===r&&e.history.push("/workspace/".concat(t,"/").concat(s))};return e.workspaces&&p&&h?1===e.workspaces.length?i.a.createElement(d.g,{minimal:!0,disabled:!0,text:l.lang.tr("admin.workspaceName",{name:e.workspaces[0].workspaceName}),className:"workspaceButton"}):i.a.createElement($r,{items:p,itemPredicate:ea,itemRenderer:ta,activeItem:h,popoverProps:{minimal:!0},noResults:i.a.createElement(d.R,{disabled:!0,text:"No results."}),onItemSelect:function(e){return E(e.workspace)}},i.a.createElement(d.g,{minimal:!0,text:l.lang.tr("admin.workspaceName",{name:h.workspaceName}),rightIcon:"caret-down",className:"workspaceButton"})):null})),aa=n(520),oa=n.n(aa),ia=n(1098),sa={fetchCurrentVersion:it,fetchLatestVersions:st},ca=Object(Ln.a)(Object(p.b)(function(e){return{licensing:e.license.licensing,version:e.version}},sa)(function(e){Object(o.useEffect)(function(){e.version.currentVersion||e.fetchCurrentVersion(),e.version.latestReleases.length||e.fetchLatestVersions()},[]);var t=function(t){var n=t.text,r=t.icon,a=t.url,o=t.id,s=t.isPro,c=t.operation,l=t.resource,u=t.superAdmin,p=t.tag,f=Object(ia.a)(e.location.pathname,{path:a}),m=Re();return!e.licensing||s&&!e.licensing.isPro?null:i.a.createElement(gt,{resource:l,operation:c,superAdmin:u,key:n},i.a.createElement("div",{id:o,className:Ve()("bp-sa-menu-item",Object(x.a)({},"bp-sa-menu-item-active",f)),onClick:function(){return e.history.push(Object(Dn.a)(a,{workspaceId:m||void 0}))}},i.a.createElement(d.L,{icon:r}),i.a.createElement("span",{className:"label"},n),p&&i.a.createElement("span",{style:{float:"right"}},p)))};return i.a.createElement("div",{className:"bp-sa-menu"},i.a.createElement("div",{className:"bp-sa-menu-header"},l.lang.tr("admin.sideMenu.workspace")),i.a.createElement(d.q,{vertical:!0,fill:!0},i.a.createElement(t,{id:"btn-menu-bots",text:l.lang.tr("admin.sideMenu.bots"),icon:i.a.createElement(P.a,{color:He.a.GRAY1}),url:"/workspace/:workspaceId?/bots",resource:"user.bots.*",operation:"read"}),i.a.createElement(t,{id:"btn-menu-users",text:l.lang.tr("admin.sideMenu.collaborators"),icon:"user",url:"/workspace/:workspaceId?/users",resource:"admin.collaborators.*",operation:"read",isPro:!0}),i.a.createElement(t,{id:"btn-menu-roles",text:l.lang.tr("admin.sideMenu.roles"),icon:"shield",url:"/workspace/:workspaceId?/roles",resource:"admin.roles.*",operation:"read",isPro:!0}),i.a.createElement(t,{id:"btn-menu-logs",text:l.lang.tr("admin.sideMenu.logs"),icon:"manual",url:"/workspace/:workspaceId?/logs",resource:"admin.logs",operation:"read"})),i.a.createElement(gt,{superAdmin:!0},i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"bp-sa-menu-header"},l.lang.tr("admin.sideMenu.management")),i.a.createElement(d.q,{vertical:!0,fill:!0},i.a.createElement(t,{id:"btn-menu-version",text:l.lang.tr("admin.sideMenu.sourceControl"),icon:"changes",url:"/server/version"}),i.a.createElement(t,{id:"btn-menu-license",text:l.lang.tr("admin.sideMenu.serverLicense"),icon:i.a.createElement(P.b,{color:He.a.GRAY1}),url:"/server/license"}),i.a.createElement(t,{text:l.lang.tr("admin.sideMenu.languages"),id:"btn-menu-language",icon:"globe-network",url:"/server/languages"}),i.a.createElement(t,{text:l.lang.tr("admin.sideMenu.productionChecklist"),id:"btn-menu-checklist",icon:"endorsed",url:"/checklist"})),i.a.createElement("div",{className:"bp-sa-menu-header"},l.lang.tr("admin.sideMenu.health")),i.a.createElement(d.q,{vertical:!0,fill:!0},i.a.createElement(t,{id:"btn-menu-monitoring",text:l.lang.tr("admin.sideMenu.monitoring"),icon:"timeline-line-chart",url:"/server/monitoring"}),i.a.createElement(t,{id:"btn-menu-alerting",text:l.lang.tr("admin.sideMenu.alerting"),icon:"notifications",url:"/server/alerting"}),i.a.createElement(t,{text:l.lang.tr("admin.sideMenu.debug"),id:"btn-menu-debug",icon:"console",url:"/server/debug"})))),i.a.createElement("div",{className:"bp-sa-menu-header"},l.lang.tr("admin.sideMenu.announcements")),i.a.createElement(d.q,{vertical:!0,fill:!0},i.a.createElement(t,{text:l.lang.tr("admin.sideMenu.latestReleases"),id:"btn-menu-releases",icon:"feed",url:"/latestReleases",tag:function(){var t=e.version.currentVersion;if(K.a.get(e,"version.latestReleases.0.version",t)>t)return i.a.createElement(d.tb,{minimal:!0,intent:ne.a.SUCCESS},"new")}()})))})),la=function(e){var t=l.lang.getAvailable().map(function(e){return{value:e,label:l.lang.tr("langCodes.".concat(e))}}),n=Object(o.useState)(function(){var e=l.lang.getLocale(),n=t.find(function(t){return t.value===e});return void 0===n?t[0]:n}()),r=Object(ie.a)(n,2),a=r[0],s=r[1];return i.a.createElement(l.BaseDialog,{title:l.lang.tr("admin.changeLanguage"),icon:"translate",isOpen:e.isOpen,onClose:e.toggle,onSubmit:function(){localStorage.setItem("uiLanguage",a.value),window.location.reload()}},i.a.createElement(l.DialogBody,null,i.a.createElement(d.x,{label:l.lang.tr("admin.uiLanguage"),helperText:l.lang.tr("admin.uiLanguageHelper")},i.a.createElement(l.Dropdown,{items:t,defaultItem:a,onChange:s}))),i.a.createElement(l.DialogFooter,null,i.a.createElement(d.g,{id:"btn-submit",type:"submit",text:l.lang.tr("save"),tabIndex:4,intent:ne.a.PRIMARY})))},ua=function(e){var t=Object(o.useState)(""),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(""),m=Object(ie.a)(f,2),g=m[0],h=m[1],v=function(){var t=Object(I.a)(S.a.mark(function t(n){var a,o,i,s;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.profile,o=a.strategyType,i=a.strategy,s=a.email,t.prev=2,t.next=5,Le.getSecured().post("/auth/login/".concat(o,"/").concat(i),{email:s,password:r,newPassword:u});case 5:e.toggle(),re(l.lang.tr("admin.passwordUpdatedSuccessfully")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),ae(l.lang.tr("admin.errorUpdatingPassword",{msg:t.t0.message}));case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(d.r,{title:l.lang.tr("admin.changeYourPassword"),icon:"key",isOpen:e.isOpen,onClose:e.toggle,transitionDuration:0,canOutsideClickClose:!1},i.a.createElement("form",{onSubmit:v},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:l.lang.tr("admin.currentPassword")},i.a.createElement(d.M,{id:"input-password",type:"password",value:r,onChange:function(e){return a(e.target.value)},tabIndex:1,autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.newPassword")},i.a.createElement(d.M,{id:"input-newPassword",type:"password",value:u,onChange:function(e){return p(e.target.value)},tabIndex:2})),i.a.createElement(d.x,{label:l.lang.tr("admin.confirmPassword")},i.a.createElement(d.M,{id:"input-confirmPassword",type:"password",value:g,onChange:function(e){return h(e.target.value)},tabIndex:3}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-submit",type:"submit",text:l.lang.tr("save"),tabIndex:4,intent:ne.a.PRIMARY,disabled:!r||!u||u!==g})))))},da=function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(),c=Object(ie.a)(s,2),u=c[0],p=c[1];Object(o.useEffect)(function(){a(e.profile.firstname),p(e.profile.lastname)},[e.isOpen]);var f=function(){var t=Object(I.a)(S.a.mark(function t(n){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,Le.getSecured().post("/auth/me/profile",{firstname:r,lastname:u});case 4:e.fetchProfile(),e.toggle(),re(l.lang.tr("admin.profileUpdatedSuccessfully")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),ae(l.lang.tr("admin.errorUpdatingProfile",{msg:t.t0.message}));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(d.r,{title:l.lang.tr("admin.updateYourProfile"),icon:"user",isOpen:e.isOpen,onClose:e.toggle,transitionDuration:0,canOutsideClickClose:!1},i.a.createElement("form",{onSubmit:f},i.a.createElement("div",{className:Ot.g.DIALOG_BODY},i.a.createElement(d.x,{label:l.lang.tr("admin.firstName")},i.a.createElement(d.M,{id:"input-firstname",value:r,onChange:function(e){return a(e.target.value)},tabIndex:1,autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.lastName")},i.a.createElement(d.M,{id:"input-lastname",value:u,onChange:function(e){return p(e.target.value)},tabIndex:2}))),i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER},i.a.createElement("div",{className:Ot.g.DIALOG_FOOTER_ACTIONS},i.a.createElement(d.g,{id:"btn-submit",type:"submit",text:l.lang.tr("save"),tabIndex:3,intent:ne.a.PRIMARY})))))},pa=Object(p.b)(function(e){return{profile:e.user.profile}},{fetchProfile:nt})(function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(!1),m=Object(ie.a)(f,2),g=m[0],h=m[1];Object(o.useEffect)(function(){!e.profile&&e.fetchProfile()},[]);if(!e.profile)return null;var v=function(){return a(!r)},b=function(){return p(!u)},A=function(){return h(!g)},E=e.profile,y=E.email,w=E.fullName,k=E.strategyType,O=E.picture_url,C="basic"===k,x=O?i.a.createElement("img",{src:O,className:"dropdown-picture"}):i.a.createElement(d.L,{icon:"user",color:He.a.WHITE});return i.a.createElement("div",null,i.a.createElement(d.eb,{minimal:!0,position:te.a.BOTTOM,interactionKind:d.fb.CLICK},i.a.createElement(d.g,{id:"btn-menu",icon:x,rightIcon:i.a.createElement(d.L,{icon:"caret-down",color:He.a.WHITE}),minimal:!0}),i.a.createElement(d.P,null,i.a.createElement(d.Q,{title:l.lang.tr("admin.signedInAs",{name:w||y})}),i.a.createElement(d.R,{id:"btn-profile",icon:"user",text:l.lang.tr("admin.updateProfile"),onClick:v}),C&&i.a.createElement(d.R,{id:"btn-changepass",icon:"key",text:l.lang.tr("admin.changePassword"),onClick:b}),i.a.createElement(d.R,{id:"btn-changeLanguage",icon:"translate",text:l.lang.tr("admin.changeLanguage"),onClick:A}),i.a.createElement(d.Q,null),i.a.createElement(d.R,{id:"btn-logout",icon:"log-out",text:l.lang.tr("admin.logout"),onClick:function(){(new je).logout()}}))),i.a.createElement(ua,{profile:e.profile,isOpen:u,toggle:b}),i.a.createElement(da,{isOpen:r,toggle:v,profile:e.profile,fetchProfile:e.fetchProfile}),i.a.createElement(la,{isOpen:g,toggle:A}))}),fa=function(){return i.a.createElement("header",{className:"bp-header"},i.a.createElement(d.T,null,i.a.createElement(d.T.Group,null,i.a.createElement(d.T.Heading,null,i.a.createElement("a",{href:"admin/"},i.a.createElement("img",{src:oa.a,alt:"logo",className:"bp-header__logo"})))),i.a.createElement(d.T.Group,{align:$n.a.RIGHT},i.a.createElement(ra,null),i.a.createElement(d.T.Divider,null),i.a.createElement(pa,null))))},ma=function(e){return i.a.createElement("footer",{className:"statusBar"},i.a.createElement("div",{className:"statusBar-list"},i.a.createElement("div",{className:"statusBar-item"},i.a.createElement("strong",null,e.version))))},ga=function(){return i.a.createElement("div",{className:"bp-header__warning"},i.a.createElement(Jr.a,{href:"/admin/server/license"},i.a.createElement(d.L,{icon:"warning-sign"}),l.lang.tr("admin.botpressIsNotLicensed")))},ha={fetchLicensing:Ue,fetchProfile:nt,fetchCurrentVersion:it},va=Object(p.b)(function(e){return{profile:e.user.profile,licensing:e.license.licensing,version:e.version.currentVersion}},ha)(function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1];Object(o.useEffect)(function(){e.fetchLicensing(),e.fetchProfile(),e.version||e.fetchCurrentVersion(),a(setInterval(Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}},e)})),ye))},[]);var s=function(){var e=Object(I.a)(S.a.mark(function e(){var t,n,a,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ce()){e.next=3;break}return e.abrupt("return");case 3:return t=ke(!1),e.next=6,Le.getSecured().get("/auth/refresh");case 6:n=e.sent,a=n.data,(o=a.payload.newToken)!==t.token?(Oe(o),console.log("Token refreshed successfully")):clearInterval(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error validating & refreshing token",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();if(!e.profile)return null;var c=!e.licensing||!e.licensing.isPro||"licensed"===e.licensing.status;return i.a.createElement(o.Fragment,null,i.a.createElement(fa,null),i.a.createElement("div",{className:"bp-sa-wrapper"},i.a.createElement(ca,null),i.a.createElement("div",{className:"bp-sa-content-wrapper"},!c&&i.a.createElement(ga,null),e.children)),i.a.createElement(ma,{version:e.version}))}),ba=function(e){var t=Object(o.useState)(""),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),c=Object(ie.a)(s,2),u=c[0],p=c[1];return i.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onChangePassword(r,u)}},e.email&&i.a.createElement(d.x,{label:l.lang.tr("email")},i.a.createElement(d.M,{tabIndex:-1,value:e.email,disabled:!0,type:"text",id:"email"})),i.a.createElement(d.x,{label:l.lang.tr("admin.newPassword")},i.a.createElement(d.M,{tabIndex:1,value:r,onChange:function(e){return a(e.target.value)},type:"password",name:"newPassword",id:"newPassword",autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.confirmPassword")},i.a.createElement(d.M,{tabIndex:2,value:u,onChange:function(e){return p(e.target.value)},type:"password",name:"confirmPassword",id:"confirmPassword"})),i.a.createElement(d.g,{tabIndex:3,type:"submit",text:l.lang.tr("admin.change"),id:"btn-change",disabled:!r||!u,intent:ne.a.PRIMARY}))},Aa=function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=e.location.state,c=s.email,u=s.password,d=s.loginUrl,p=function(){var t=Object(I.a)(S.a.mark(function t(n,r){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n===r){t.next=2;break}return t.abrupt("return",a(l.lang.tr("admin.passwordsDontMatch")));case 2:return t.prev=2,a(void 0),t.next=6,e.auth.login({email:c,password:u,newPassword:n},d);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),a(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[2,8]])}));return function(e,n){return t.apply(this,arguments)}}(),f=""===u?l.lang.tr("admin.firstTimeYouRun"):l.lang.tr("admin.setANewPassword");return!e.auth.isAuthenticated()&&c&&d?i.a.createElement(O,{subtitle:f,error:r},i.a.createElement(ba,{onChangePassword:p,email:c})):i.a.createElement(g.a,{to:"/"})},Ea=function(e){return e.strategies?i.a.createElement("div",null,e.strategies.map(function(t){var n=t.strategyType,r=t.strategyId,a=t.label,o="saml"===n||"oauth2"===n?l.lang.tr("admin.signInWithSSO",{strategyId:r}):l.lang.tr("admin.signInWithUserPass");return i.a.createElement(d.g,{key:r,id:"btn-".concat(r),text:a?l.lang.tr("admin.signInWithLabel",{label:a}):o,onClick:function(){return e.onStrategySelected(r)}})})):null},ya=function(e){var t=Object(o.useState)(""),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),c=Object(ie.a)(s,2),u=c[0],p=c[1];return i.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onLogin(r,u)}},i.a.createElement(d.x,{label:l.lang.tr("email")},i.a.createElement(d.M,{tabIndex:1,value:r,onChange:function(e){return a(e.target.value)},type:"text",id:"email",autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.password")},i.a.createElement(d.M,{tabIndex:2,value:u,onChange:function(e){return p(e.target.value)},type:"password",id:"password"})),i.a.createElement(d.g,{tabIndex:3,type:"submit",id:"btn-signin",text:l.lang.tr("admin.signIn"),disabled:!r||!u,intent:ne.a.PRIMARY}))},wa=function(e){var t=Object(o.useState)(!0),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=Object(ie.a)(s,2),u=c[0],d=c[1],p=Object(o.useState)(),f=Object(ie.a)(p,2),m=f[0],g=f[1],h=Object(o.useState)(""),v=Object(ie.a)(h,2),b=v[0],A=v[1],E=Object(o.useState)(),y=Object(ie.a)(E,2),w=y[0],k=y[1],C=Object(o.useState)(),x=Object(ie.a)(C,2),R=x[0],T=x[1];Object(o.useEffect)(function(){N()},[e.match.params.strategy,r]),Object(o.useEffect)(function(){j()},[]);var j=function(){var t=Object(I.a)(S.a.mark(function t(){var n,r,a,o,i,s,c;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.match.params.workspace,r=e.location.query,a=r.workspaceId,o=r.botId,i=r.sessionId,s=r.signature,c=r.error,(n||a)&&xe(n||a),o&&i&&s&&Se({botId:o,sessionId:i,signature:s}),c&&T(c),!e.auth.isAuthenticated()){t.next=8;break}return t.next=8,e.auth.afterLoginRedirect();case 8:if(m){t.next=11;break}return t.next=11,D();case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),N=function(){B(e.match.params.strategy),m&&1===m.length&&(L(m[0].strategyId),B(m[0].strategyId)),e.location.state&&k(e.location.state.from)},D=function(){var e=Object(I.a)(S.a.mark(function e(){var t,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getAnonymous().get("/auth/config");case 2:t=e.sent,n=t.data,g(n.payload.strategies),d(n.payload.isFirstUser),a(!1);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(t){return e.history.push({pathname:"/login/".concat(t)})},B=function(t){var n=m&&m.find(function(e){return e.strategyId===t});if(!n)return A("");T(void 0);var r=n.strategyType,a=n.strategyId,o=n.registerUrl;if("saml"===r||"oauth2"===r)return window.location.href="".concat(Le.getApiPath(),"/auth/redirect/").concat(r,"/").concat(a);u?e.history.push({pathname:"/register",state:{registerUrl:o}}):A(n.loginUrl)},P=function(){var t=Object(I.a)(S.a.mark(function t(n,r){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,T(void 0),t.next=4,e.auth.login({email:n,password:r},b,w);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),"PasswordExpiredError"===t.t0.type?e.history.push({pathname:"/changePassword",state:{email:n,password:r,loginUrl:b}}):T(Object(G.get)(t.t0,"response.data.message",t.t0.message));case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e,n){return t.apply(this,arguments)}}();return r||!m?null:i.a.createElement(O,{title:l.lang.tr("admin.login"),error:R,poweredBy:!0},b?i.a.createElement(ya,{onLogin:P}):i.a.createElement(Ea,{strategies:m,onStrategySelected:L}))},ka=function(e){var t=Object(o.useState)(""),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),c=Object(ie.a)(s,2),u=c[0],p=c[1],f=Object(o.useState)(""),m=Object(ie.a)(f,2),g=m[0],h=m[1];return i.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onRegister(r,u,g)}},i.a.createElement(d.x,{label:l.lang.tr("email")},i.a.createElement(d.M,{tabIndex:1,value:r,onChange:function(e){return a(e.target.value)},type:"text",id:"email",autoFocus:!0})),i.a.createElement(d.x,{label:l.lang.tr("admin.password")},i.a.createElement(d.M,{tabIndex:2,value:u,onChange:function(e){return p(e.target.value)},type:"password",id:"password"})),i.a.createElement(d.x,{label:l.lang.tr("admin.confirmPassword")},i.a.createElement(d.M,{tabIndex:3,type:"password",id:"confirmPassword",value:g,onChange:function(e){return h(e.target.value)}})),i.a.createElement(d.g,{tabIndex:4,type:"submit",id:"btn-register",text:l.lang.tr("admin.createAccount"),disabled:!(r.length>4&&u.length>4&&g.length>4),intent:ne.a.PRIMARY}))},Oa=function(e){var t=Object(o.useState)(),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=e.location.state.registerUrl,c=function(){var t=Object(I.a)(S.a.mark(function t(n,r,o){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r===o){t.next=2;break}return t.abrupt("return",a(l.lang.tr("admin.passwordsDontMatch")));case 2:return t.prev=2,a(void 0),t.next=6,e.auth.register({email:n,password:r},s);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),a(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[2,8]])}));return function(e,n,r){return t.apply(this,arguments)}}();return e.auth.isAuthenticated()||!s?i.a.createElement(g.a,{to:"/"}):i.a.createElement(O,{title:l.lang.tr("admin.register"),subtitle:l.lang.tr("admin.createMasterAdminAccount"),error:r},i.a.createElement(ka,{onRegister:c}))},Ca=n(521),xa=n.n(Ca),Ra=(n(1073),n(95)),Sa=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={nodes:void 0,checked:[],expanded:["bp"],persist:!1},n.loadConfiguration=Object(I.a)(S.a.mark(function e(){var t,r,a,o,i,s,c,l,u;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/admin/server/debug");case 2:for(t=e.sent,r=t.data,a={label:"bp",children:[],expandDisabled:!0},o=!0,i=!1,s=void 0,e.prev=8,c=Object.keys(r).sort()[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)u=l.value,n.buildNodeRecursive(a,u.split(":"),0);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),i=!0,s=e.t0;case 16:e.prev=16,e.prev=17,o||null==c.return||c.return();case 19:if(e.prev=19,!i){e.next=22;break}throw s;case 22:return e.finish(19);case 23:return e.finish(16);case 24:n.setState({nodes:a.children,checked:Object.keys(r).filter(function(e){return r[e]})});case 25:case"end":return e.stop()}},e,null,[[8,12,16,24],[17,,19,23]])})),n.saveConfiguration=Object(I.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.checked&&n.state.checked.join(","),e.next=3,Le.getSecured().post("/admin/server/debug",{debugScope:t,persist:n.state.persist});case 3:re(l.lang.tr("admin.debug.confUpdated"));case 4:case"end":return e.stop()}},e)})),n.handlePersistChanged=function(e){return n.setState({persist:e.target.checked})},n}return Object(B.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadConfiguration();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"buildNodeRecursive",value:function(e,t,n){if(n<t.length){var r=t[n],a=e.children.find(function(e){return e.label===r});a||(a={label:r,value:t.slice(0,n+1).join(":"),children:[]},e.children.push(a)),this.buildNodeRecursive(a,t,n+1)}}},{key:"renderTree",value:function(){var e=this;return this.state.nodes?i.a.createElement(xa.a,{nodes:this.state.nodes||[],checked:this.state.checked,expanded:this.state.expanded,onCheck:function(t){return e.setState({checked:t})},onExpand:function(t){return e.setState({expanded:["bp"].concat(Object(Ke.a)(t))})},showExpandAll:!0,icons:{check:i.a.createElement(Ra.a,null),uncheck:i.a.createElement(Ra.i,null),halfCheck:i.a.createElement(Ra.a,{fillOpacity:"0.5"}),expandClose:i.a.createElement(Ra.c,null),expandOpen:i.a.createElement(Ra.b,null),expandAll:i.a.createElement(Ra.h,null),collapseAll:i.a.createElement(Ra.g,null),parentClose:i.a.createElement(Ra.e,{stroke:"blue",fill:"none"}),parentOpen:i.a.createElement(Ra.f,{stroke:"blue",fill:"none"}),leaf:i.a.createElement(Ra.d,{stroke:"blue",fill:"none"})}}):null}},{key:"renderSide",value:function(){return i.a.createElement("div",null,i.a.createElement(d.g,{id:"btn-refresh",onClick:this.loadConfiguration,fill:!0,icon:"refresh",text:l.lang.tr("refresh")}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(d.zb,{content:l.lang.tr("admin.debug.persistChecked")},i.a.createElement(d.k,{id:"chk-persist",checked:this.state.persist,onChange:this.handlePersistChanged,label:l.lang.tr("admin.debug.persist")})),i.a.createElement(d.g,{id:"btn-save",onClick:this.saveConfiguration,intent:ne.a.PRIMARY,fill:!0,icon:"floppy-disk",text:l.lang.tr("save")}))}},{key:"render",value:function(){return i.a.createElement(ht,{title:l.lang.tr("admin.debug.configureDebug"),helpText:l.lang.tr("admin.debug.helpText"),superAdmin:!0},i.a.createElement(jt,{sideMenu:this.renderSide()},this.renderTree()))}}]),t}(i.a.Component),Ia=Object(p.b)(function(e){return Object(T.a)({},e.modules)},{fetchModules:function(){return function(){var e=Object(I.a)(S.a.mark(function e(t){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.getSecured().get("/modules/all");case 2:n=e.sent,r=n.data,t({type:"bots/FETCH_MODULES_RECEIVED",modules:r});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=Object(o.useState)(!1),n=Object(ie.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=Object(ie.a)(s,2),u=c[0],p=c[1];if(Object(o.useEffect)(function(){e.fetchModules()},[]),!e.modules)return null;Object(o.useEffect)(function(){if(u){var e=setInterval(Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.getSecured({toastErrors:!1}).get("/status",{timeout:500,baseURL:"/"});case 3:window.location.reload(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,null,[[0,6]])})),1e3);return function(){return clearInterval(e)}}},[u]);var f=function(){var e=Object(I.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.confirmDialog)("Are you sure? If you have multiple servers, they will all be restarted at the same time.",{acceptLabel:"Restart server(s) now"});case 3:if(!e.sent){e.next=7;break}return e.next=6,Le.getSecured().post("/admin/server/rebootServer");case 6:p(!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ae(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),m=function(){var t=Object(I.a)(S.a.mark(function t(n,r){var o,i;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/modules/".concat(n,"/enabled/").concat(r));case 3:o=t.sent,i=o.data,a(i.rebootRequired),e.fetchModules(),re("Module status updated successfully"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),ae(t.t0.message);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=Object(I.a)(S.a.mark(function t(n){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le.getSecured().post("/modules/".concat(n,"/unpack"));case 3:re("Module unpacked successfully"),e.fetchModules(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ae(t.t0.message);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(ht,{title:"Modules",helpText:i.a.createElement("div",null,"Changing the status of a module will update the module status in botpress.config.json. If cluster mode is disabled and Botpress is not in production mode, the module will be mounted or unmounted"),superAdmin:!0},r&&i.a.createElement(d.i,{intent:ne.a.SUCCESS,style:{marginBottom:20}},"Your Botpress configuration file was updated successfully. The server must be restarted for changes to take effect.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(d.g,{id:"btn-restart",text:u?"Please wait...":"Restart server now",disabled:u,onClick:f,intent:ne.a.PRIMARY,small:!0})),e.modules.map(function(e){return i.a.createElement("div",{className:"moduleItem",key:e.name},i.a.createElement("div",{className:"moduleItemSwitch"},!e.archived&&i.a.createElement(d.qb,{checked:e.enabled,onChange:function(t){return m(e.name,t.currentTarget.checked)},className:"moduleItemSwitch"})),i.a.createElement("div",null,i.a.createElement("strong",null,e.fullName||e.name),i.a.createElement("p",null,e.archived?i.a.createElement("span",null,"This module is compressed. Unpack it to display more informations"," ",i.a.createElement(d.g,{text:"Unpack module",onClick:function(){return g(e.name)}})):e.description||"No description available")))}))}),Ta=n(525),ja=function(e){var t=e.component,n=e.auth,r=e.children,a=Object(Ta.a)(e,["component","auth","children"]);return i.a.createElement(m.a,Object.assign({},a,{render:function(e){return n.isAuthenticated()?i.a.createElement(t,Object.assign({},e,{auth:n}),r):i.a.createElement(g.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Na=function(){var e=new je;return i.a.createElement(p.a,{store:pt},i.a.createElement(h.a,{history:he},i.a.createElement(f.a,null,i.a.createElement(m.a,{path:"/login/:strategy?/:workspace?",render:function(t){return i.a.createElement(wa,Object.assign({auth:e},t))}}),i.a.createElement(m.a,{path:"/register/:strategy?/:workspace?",render:function(t){return i.a.createElement(Oa,Object.assign({auth:e},t))}}),i.a.createElement(m.a,{path:"/setToken",component:function(){var t,n=(t="userToken",("; "+document.cookie).split("; ".concat(t,"=")).pop().split(";").shift());return n&&Oe(n),e.afterLoginRedirect(),null}}),i.a.createElement(m.a,{path:"/changePassword",render:function(t){return i.a.createElement(Aa,Object.assign({auth:e},t))}}),i.a.createElement(m.a,{path:"/noAccess",component:function(){return i.a.createElement(O,{subtitle:i.a.createElement("strong",null,"No access")},i.a.createElement("p",null,"Sorry, you do not have access to any workspace."),i.a.createElement(d.g,{text:"Logout",onClick:e.logout}))}}),i.a.createElement(m.a,{path:"/chatAuthResult",component:C}),i.a.createElement(ja,{path:"/",auth:e,component:va},i.a.createElement(f.a,null,i.a.createElement(m.a,{path:"/checklist",component:Vt}),i.a.createElement(m.a,{path:"/latestReleases",component:pn}),i.a.createElement(m.a,{path:"/server/monitoring",component:Hn}),i.a.createElement(m.a,{path:"/server/version",component:Jn}),i.a.createElement(m.a,{path:"/server/languages",component:tn}),i.a.createElement(m.a,{path:"/server/debug",component:Sa}),i.a.createElement(m.a,{path:"/server/license",component:On}),i.a.createElement(m.a,{path:"/server/alerting",component:Ft}),i.a.createElement(m.a,{path:"/workspace/:workspaceId?/bots/:botId",component:yt}),i.a.createElement(m.a,{path:"/workspace/:workspaceId?/bots",component:gr}),i.a.createElement(m.a,{path:"/workspace/:workspaceId?/users",component:Mr}),i.a.createElement(m.a,{path:"/workspace/:workspaceId?/roles",component:br}),i.a.createElement(m.a,{path:"/workspace/:workspaceId?/logs",component:St}),i.a.createElement(m.a,{path:"/workspaces",component:Xr}),i.a.createElement(m.a,{path:"/debug",component:Sa}),i.a.createElement(m.a,{path:"/modules",component:Ia}),i.a.createElement(m.a,{path:"/",render:function(){return i.a.createElement(g.a,{from:"/",to:"/workspace/".concat(Re(),"/bots")})}}))))))}();window.BlueprintJsCore=r,window.BlueprintJsSelect=a,l.lang.extend(u),l.lang.init(),c.a.render(i.a.createElement("div",null,Na),document.getElementById("root"))},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUserRole="dev",t.defaultAdminRole="admin",t.defaultRoles=[{id:"admin",name:"admin.workspace.roles.default.administrator.name",description:"admin.workspace.roles.default.administrator.description",rules:[{res:"*",op:"+r+w"},{res:"module.code-editor.global.configs",op:"-r-w"}]},{id:"dev",name:"admin.workspace.roles.default.developer.name",description:"admin.workspace.roles.default.developer.description",rules:[{res:"*",op:"+r+w"},{res:"admin.*",op:"+r-w"},{res:"admin.collaborators.*",op:"-r"},{res:"module.code-editor.global.*",op:"+r-w"},{res:"module.code-editor.global.configs",op:"-r-w"}]},{id:"editor",name:"admin.workspace.roles.default.contentEditor.name",description:"admin.workspace.roles.default.contentEditor.description",rules:[{res:"*",op:"+r"},{res:"admin.collaborators.*",op:"-r"},{res:"bot.flows",op:"+r-w"},{res:"bot.content",op:"+r+w"},{res:"module.qna",op:"+r+w"},{res:"module.nlu",op:"+r+w"},{res:"module.code-editor.*",op:"-r-w"}]}],t.defaultPipelines={none:[{id:"prod",label:"Production",action:"promote_copy",reviewers:[],minimumApprovals:0,reviewSequence:"parallel"}],botpress:[{id:"dev",label:"Dev",action:"promote_copy",reviewers:[],minimumApprovals:0,reviewSequence:"parallel"},{id:"review",label:"Review",action:"promote_copy",reviewers:[],minimumApprovals:0,reviewSequence:"parallel"},{id:"prod",label:"Production",action:"promote_copy",reviewers:[],minimumApprovals:0,reviewSequence:"parallel"}]},t.defaultWorkspace={id:"default",name:"Default",audience:"external",bots:[],roles:t.defaultRoles,defaultRole:t.defaultUserRole,adminRole:t.defaultAdminRole,pipeline:t.defaultPipelines.none,rolloutStrategy:"anonymous"},t.CHAT_USER_ROLE={id:"chatuser",name:"Chat User",description:"Chat users have limited access to bots.",rules:[{res:"*",op:"-r-w"},{res:"user.bots",op:"+r"}]},t.BUILTIN_MODULES=["analytics","basic-skills","builtin","builtin","channel-messenger","channel-slack","channel-teams","channel-telegram","channel-web","code-editor","examples","extensions","history","hitl","nlu","qna","testing"]},3:function(e,t,n){var r=n(36),a=n(39),o=n(45),i=n(41),s=n(46),c=n(203);!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t){e.exports=React},function(e,t){e.exports=BlueprintJsCore},function(e,t,n){(function(e,r){var a;(function(){var o,i=200,s="Expected a function",c="__lodash_hash_undefined__",l="__lodash_placeholder__",u=1,d=2,p=4,f=1,m=2,g=1,h=2,v=4,b=8,A=16,E=32,y=64,w=128,k=256,O=512,C=800,x=16,R=1/0,S=9007199254740991,I=1.7976931348623157e308,T=NaN,j=4294967295,N=j-1,D=j>>>1,L=[["ary",w],["bind",g],["bindKey",h],["curry",b],["curryRight",A],["flip",O],["partial",E],["partialRight",y],["rearg",k]],B="[object Arguments]",P="[object Array]",_="[object AsyncFunction]",M="[object Boolean]",F="[object Date]",U="[object DOMException]",z="[object Error]",q="[object Function]",H="[object GeneratorFunction]",W="[object Map]",V="[object Number]",Y="[object Null]",Z="[object Object]",Q="[object Proxy]",G="[object RegExp]",K="[object Set]",X="[object String]",J="[object Symbol]",$="[object Undefined]",ee="[object WeakMap]",te="[object ArrayBuffer]",ne="[object DataView]",re="[object Float32Array]",ae="[object Float64Array]",oe="[object Int8Array]",ie="[object Int16Array]",se="[object Int32Array]",ce="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",de="[object Uint32Array]",pe=/\b__p \+= '';/g,fe=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,he=/[&<>"']/g,ve=RegExp(ge.source),be=RegExp(he.source),Ae=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,ye=/<%=([\s\S]+?)%>/g,we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ke=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/[\\^$.*+?()[\]{}|]/g,xe=RegExp(Ce.source),Re=/^\s+|\s+$/g,Se=/^\s+/,Ie=/\s+$/,Te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /,De=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Le=/\\(\\)?/g,Be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pe=/\w*$/,_e=/^[-+]0x[0-9a-f]+$/i,Me=/^0b[01]+$/i,Fe=/^\[object .+?Constructor\]$/,Ue=/^0o[0-7]+$/i,ze=/^(?:0|[1-9]\d*)$/,qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,He=/($^)/,We=/['\n\r\u2028\u2029\\]/g,Ve="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ye="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ze="["+Ye+"]",Qe="["+Ve+"]",Ge="\\d+",Ke="[a-z\\xdf-\\xf6\\xf8-\\xff]",Xe="[^\\ud800-\\udfff"+Ye+Ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Je="\\ud83c[\\udffb-\\udfff]",$e="[^\\ud800-\\udfff]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",tt="[\\ud800-\\udbff][\\udc00-\\udfff]",nt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rt="(?:"+Ke+"|"+Xe+")",at="(?:"+nt+"|"+Xe+")",ot="(?:"+Qe+"|"+Je+")?",it="[\\ufe0e\\ufe0f]?"+ot+"(?:\\u200d(?:"+[$e,et,tt].join("|")+")[\\ufe0e\\ufe0f]?"+ot+")*",st="(?:"+["[\\u2700-\\u27bf]",et,tt].join("|")+")"+it,ct="(?:"+[$e+Qe+"?",Qe,et,tt,"[\\ud800-\\udfff]"].join("|")+")",lt=RegExp("['\u2019]","g"),ut=RegExp(Qe,"g"),dt=RegExp(Je+"(?="+Je+")|"+ct+it,"g"),pt=RegExp([nt+"?"+Ke+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Ze,nt,"$"].join("|")+")",at+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Ze,nt+rt,"$"].join("|")+")",nt+"?"+rt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",nt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ge,st].join("|"),"g"),ft=RegExp("[\\u200d\\ud800-\\udfff"+Ve+"\\ufe0e\\ufe0f]"),mt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ht=-1,vt={};vt[re]=vt[ae]=vt[oe]=vt[ie]=vt[se]=vt[ce]=vt[le]=vt[ue]=vt[de]=!0,vt[B]=vt[P]=vt[te]=vt[M]=vt[ne]=vt[F]=vt[z]=vt[q]=vt[W]=vt[V]=vt[Z]=vt[G]=vt[K]=vt[X]=vt[ee]=!1;var bt={};bt[B]=bt[P]=bt[te]=bt[ne]=bt[M]=bt[F]=bt[re]=bt[ae]=bt[oe]=bt[ie]=bt[se]=bt[W]=bt[V]=bt[Z]=bt[G]=bt[K]=bt[X]=bt[J]=bt[ce]=bt[le]=bt[ue]=bt[de]=!0,bt[z]=bt[q]=bt[ee]=!1;var At={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Et=parseFloat,yt=parseInt,wt="object"==typeof e&&e&&e.Object===Object&&e,kt="object"==typeof self&&self&&self.Object===Object&&self,Ot=wt||kt||Function("return this")(),Ct="object"==typeof t&&t&&!t.nodeType&&t,xt=Ct&&"object"==typeof r&&r&&!r.nodeType&&r,Rt=xt&&xt.exports===Ct,St=Rt&&wt.process,It=function(){try{return xt&&xt.require&&xt.require("util").types||St&&St.binding&&St.binding("util")}catch(e){}}(),Tt=It&&It.isArrayBuffer,jt=It&&It.isDate,Nt=It&&It.isMap,Dt=It&&It.isRegExp,Lt=It&&It.isSet,Bt=It&&It.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ut(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}function zt(e,t){return!(null==e||!e.length)&&Xt(e,t,0)>-1}function qt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Ht(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Wt(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Vt(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function Yt(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Qt=tn("length");function Gt(e,t,n){var r;return n(e,function(e,n,a){if(t(e,n,a))return r=n,!1}),r}function Kt(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function Xt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Kt(e,$t,n)}function Jt(e,t,n,r){for(var a=n-1,o=e.length;++a<o;)if(r(e[a],t))return a;return-1}function $t(e){return e!=e}function en(e,t){var n=null==e?0:e.length;return n?an(e,t)/n:T}function tn(e){return function(t){return null==t?o:t[e]}}function nn(e){return function(t){return null==e?o:e[t]}}function rn(e,t,n,r,a){return a(e,function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)}),n}function an(e,t){for(var n,r=-1,a=e.length;++r<a;){var i=t(e[r]);i!==o&&(n=n===o?i:n+i)}return n}function on(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function sn(e){return function(t){return e(t)}}function cn(e,t){return Ht(t,function(t){return e[t]})}function ln(e,t){return e.has(t)}function un(e,t){for(var n=-1,r=e.length;++n<r&&Xt(t,e[n],0)>-1;);return n}function dn(e,t){for(var n=e.length;n--&&Xt(t,e[n],0)>-1;);return n}var pn=nn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),fn=nn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function mn(e){return"\\"+At[e]}function gn(e){return ft.test(e)}function hn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function vn(e,t){return function(n){return e(t(n))}}function bn(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];i!==t&&i!==l||(e[n]=l,o[a++]=n)}return o}function An(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function En(e){return gn(e)?function(e){for(var t=dt.lastIndex=0;dt.test(e);)++t;return t}(e):Qt(e)}function yn(e){return gn(e)?function(e){return e.match(dt)||[]}(e):function(e){return e.split("")}(e)}var wn=nn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),kn=function e(t){var n=(t=null==t?Ot:kn.defaults(Ot.Object(),t,kn.pick(Ot,gt))).Array,r=t.Date,a=t.Error,Ve=t.Function,Ye=t.Math,Ze=t.Object,Qe=t.RegExp,Ge=t.String,Ke=t.TypeError,Xe=n.prototype,Je=Ve.prototype,$e=Ze.prototype,et=t["__core-js_shared__"],tt=Je.toString,nt=$e.hasOwnProperty,rt=0,at=function(){var e=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ot=$e.toString,it=tt.call(Ze),st=Ot._,ct=Qe("^"+tt.call(nt).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=Rt?t.Buffer:o,ft=t.Symbol,At=t.Uint8Array,wt=dt?dt.allocUnsafe:o,kt=vn(Ze.getPrototypeOf,Ze),Ct=Ze.create,xt=$e.propertyIsEnumerable,St=Xe.splice,It=ft?ft.isConcatSpreadable:o,Qt=ft?ft.iterator:o,nn=ft?ft.toStringTag:o,On=function(){try{var e=ko(Ze,"defineProperty");return e({},"",{}),e}catch(e){}}(),Cn=t.clearTimeout!==Ot.clearTimeout&&t.clearTimeout,xn=r&&r.now!==Ot.Date.now&&r.now,Rn=t.setTimeout!==Ot.setTimeout&&t.setTimeout,Sn=Ye.ceil,In=Ye.floor,Tn=Ze.getOwnPropertySymbols,jn=dt?dt.isBuffer:o,Nn=t.isFinite,Dn=Xe.join,Ln=vn(Ze.keys,Ze),Bn=Ye.max,Pn=Ye.min,_n=r.now,Mn=t.parseInt,Fn=Ye.random,Un=Xe.reverse,zn=ko(t,"DataView"),qn=ko(t,"Map"),Hn=ko(t,"Promise"),Wn=ko(t,"Set"),Vn=ko(t,"WeakMap"),Yn=ko(Ze,"create"),Zn=Vn&&new Vn,Qn={},Gn=Go(zn),Kn=Go(qn),Xn=Go(Hn),Jn=Go(Wn),$n=Go(Vn),er=ft?ft.prototype:o,tr=er?er.valueOf:o,nr=er?er.toString:o;function rr(e){if(ps(e)&&!ts(e)&&!(e instanceof sr)){if(e instanceof ir)return e;if(nt.call(e,"__wrapped__"))return Ko(e)}return new ir(e)}var ar=function(){function e(){}return function(t){if(!ds(t))return{};if(Ct)return Ct(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function or(){}function ir(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function sr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function cr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function lr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ur(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ur;++t<n;)this.add(e[t])}function pr(e){var t=this.__data__=new lr(e);this.size=t.size}function fr(e,t){var n=ts(e),r=!n&&es(e),a=!n&&!r&&os(e),o=!n&&!r&&!a&&Es(e),i=n||r||a||o,s=i?on(e.length,Ge):[],c=s.length;for(var l in e)!t&&!nt.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||To(l,c))||s.push(l);return s}function mr(e){var t=e.length;return t?e[ca(0,t-1)]:o}function gr(e,t,n){(n===o||Xi(e[t],n))&&(n!==o||t in e)||Er(e,t,n)}function hr(e,t,n){var r=e[t];nt.call(e,t)&&Xi(r,n)&&(n!==o||t in e)||Er(e,t,n)}function vr(e,t){for(var n=e.length;n--;)if(Xi(e[n][0],t))return n;return-1}function br(e,t,n,r){return Rr(e,function(e,a,o){t(r,e,n(e),o)}),r}function Ar(e,t){return e&&za(t,qs(t),e)}function Er(e,t,n){"__proto__"==t&&On?On(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function yr(e,t){for(var r=-1,a=t.length,i=n(a),s=null==e;++r<a;)i[r]=s?o:_s(e,t[r]);return i}function wr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function kr(e,t,n,r,a,i){var s,c=t&u,l=t&d,f=t&p;if(n&&(s=a?n(e,r,a,i):n(e)),s!==o)return s;if(!ds(e))return e;var m=ts(e);if(m){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&nt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Ua(e,s)}else{var g=xo(e),h=g==q||g==H;if(os(e))return La(e,c);if(g==Z||g==B||h&&!a){if(s=l||h?{}:So(e),!c)return l?function(e,t){return za(e,Co(e),t)}(e,function(e,t){return e&&za(t,Hs(t),e)}(s,e)):function(e,t){return za(e,Oo(e),t)}(e,Ar(s,e))}else{if(!bt[g])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case te:return Ba(e);case M:case F:return new r(+e);case ne:return function(e,t){var n=t?Ba(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case re:case ae:case oe:case ie:case se:case ce:case le:case ue:case de:return Pa(e,n);case W:return new r;case V:case X:return new r(e);case G:return function(e){var t=new e.constructor(e.source,Pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case K:return new r;case J:return function(e){return tr?Ze(tr.call(e)):{}}(e)}}(e,g,c)}}i||(i=new pr);var v=i.get(e);if(v)return v;i.set(e,s),vs(e)?e.forEach(function(r){s.add(kr(r,t,n,r,e,i))}):fs(e)&&e.forEach(function(r,a){s.set(a,kr(r,t,n,a,e,i))});var b=m?o:(f?l?ho:go:l?Hs:qs)(e);return Mt(b||e,function(r,a){b&&(r=e[a=r]),hr(s,a,kr(r,t,n,a,e,i))}),s}function Or(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ze(e);r--;){var a=n[r],i=t[a],s=e[a];if(s===o&&!(a in e)||!i(s))return!1}return!0}function Cr(e,t,n){if("function"!=typeof e)throw new Ke(s);return qo(function(){e.apply(o,n)},t)}function xr(e,t,n,r){var a=-1,o=zt,s=!0,c=e.length,l=[],u=t.length;if(!c)return l;n&&(t=Ht(t,sn(n))),r?(o=qt,s=!1):t.length>=i&&(o=ln,s=!1,t=new dr(t));e:for(;++a<c;){var d=e[a],p=null==n?d:n(d);if(d=r||0!==d?d:0,s&&p==p){for(var f=u;f--;)if(t[f]===p)continue e;l.push(d)}else o(t,p,r)||l.push(d)}return l}rr.templateSettings={escape:Ae,evaluate:Ee,interpolate:ye,variable:"",imports:{_:rr}},rr.prototype=or.prototype,rr.prototype.constructor=rr,ir.prototype=ar(or.prototype),ir.prototype.constructor=ir,sr.prototype=ar(or.prototype),sr.prototype.constructor=sr,cr.prototype.clear=function(){this.__data__=Yn?Yn(null):{},this.size=0},cr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},cr.prototype.get=function(e){var t=this.__data__;if(Yn){var n=t[e];return n===c?o:n}return nt.call(t,e)?t[e]:o},cr.prototype.has=function(e){var t=this.__data__;return Yn?t[e]!==o:nt.call(t,e)},cr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yn&&t===o?c:t,this},lr.prototype.clear=function(){this.__data__=[],this.size=0},lr.prototype.delete=function(e){var t=this.__data__,n=vr(t,e);return!(n<0||(n==t.length-1?t.pop():St.call(t,n,1),--this.size,0))},lr.prototype.get=function(e){var t=this.__data__,n=vr(t,e);return n<0?o:t[n][1]},lr.prototype.has=function(e){return vr(this.__data__,e)>-1},lr.prototype.set=function(e,t){var n=this.__data__,r=vr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ur.prototype.clear=function(){this.size=0,this.__data__={hash:new cr,map:new(qn||lr),string:new cr}},ur.prototype.delete=function(e){var t=yo(this,e).delete(e);return this.size-=t?1:0,t},ur.prototype.get=function(e){return yo(this,e).get(e)},ur.prototype.has=function(e){return yo(this,e).has(e)},ur.prototype.set=function(e,t){var n=yo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},dr.prototype.add=dr.prototype.push=function(e){return this.__data__.set(e,c),this},dr.prototype.has=function(e){return this.__data__.has(e)},pr.prototype.clear=function(){this.__data__=new lr,this.size=0},pr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},pr.prototype.get=function(e){return this.__data__.get(e)},pr.prototype.has=function(e){return this.__data__.has(e)},pr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof lr){var r=n.__data__;if(!qn||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ur(r)}return n.set(e,t),this.size=n.size,this};var Rr=Wa(Br),Sr=Wa(Pr,!0);function Ir(e,t){var n=!0;return Rr(e,function(e,r,a){return n=!!t(e,r,a)}),n}function Tr(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],s=t(i);if(null!=s&&(c===o?s==s&&!As(s):n(s,c)))var c=s,l=i}return l}function jr(e,t){var n=[];return Rr(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}function Nr(e,t,n,r,a){var o=-1,i=e.length;for(n||(n=Io),a||(a=[]);++o<i;){var s=e[o];t>0&&n(s)?t>1?Nr(s,t-1,n,r,a):Wt(a,s):r||(a[a.length]=s)}return a}var Dr=Va(),Lr=Va(!0);function Br(e,t){return e&&Dr(e,t,qs)}function Pr(e,t){return e&&Lr(e,t,qs)}function _r(e,t){return Ut(t,function(t){return cs(e[t])})}function Mr(e,t){for(var n=0,r=(t=Ta(t,e)).length;null!=e&&n<r;)e=e[Qo(t[n++])];return n&&n==r?e:o}function Fr(e,t,n){var r=t(e);return ts(e)?r:Wt(r,n(e))}function Ur(e){return null==e?e===o?$:Y:nn&&nn in Ze(e)?function(e){var t=nt.call(e,nn),n=e[nn];try{e[nn]=o;var r=!0}catch(e){}var a=ot.call(e);return r&&(t?e[nn]=n:delete e[nn]),a}(e):function(e){return ot.call(e)}(e)}function zr(e,t){return e>t}function qr(e,t){return null!=e&&nt.call(e,t)}function Hr(e,t){return null!=e&&t in Ze(e)}function Wr(e,t,r){for(var a=r?qt:zt,i=e[0].length,s=e.length,c=s,l=n(s),u=1/0,d=[];c--;){var p=e[c];c&&t&&(p=Ht(p,sn(t))),u=Pn(p.length,u),l[c]=!r&&(t||i>=120&&p.length>=120)?new dr(c&&p):o}p=e[0];var f=-1,m=l[0];e:for(;++f<i&&d.length<u;){var g=p[f],h=t?t(g):g;if(g=r||0!==g?g:0,!(m?ln(m,h):a(d,h,r))){for(c=s;--c;){var v=l[c];if(!(v?ln(v,h):a(e[c],h,r)))continue e}m&&m.push(h),d.push(g)}}return d}function Vr(e,t,n){var r=null==(e=Fo(e,t=Ta(t,e)))?e:e[Qo(si(t))];return null==r?o:Pt(r,e,n)}function Yr(e){return ps(e)&&Ur(e)==B}function Zr(e,t,n,r,a){return e===t||(null==e||null==t||!ps(e)&&!ps(t)?e!=e&&t!=t:function(e,t,n,r,a,i){var s=ts(e),c=ts(t),l=s?P:xo(e),u=c?P:xo(t),d=(l=l==B?Z:l)==Z,p=(u=u==B?Z:u)==Z,g=l==u;if(g&&os(e)){if(!os(t))return!1;s=!0,d=!1}if(g&&!d)return i||(i=new pr),s||Es(e)?fo(e,t,n,r,a,i):function(e,t,n,r,a,o,i){switch(n){case ne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case te:return!(e.byteLength!=t.byteLength||!o(new At(e),new At(t)));case M:case F:case V:return Xi(+e,+t);case z:return e.name==t.name&&e.message==t.message;case G:case X:return e==t+"";case W:var s=hn;case K:var c=r&f;if(s||(s=An),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;r|=m,i.set(e,t);var u=fo(s(e),s(t),r,a,o,i);return i.delete(e),u;case J:if(tr)return tr.call(e)==tr.call(t)}return!1}(e,t,l,n,r,a,i);if(!(n&f)){var h=d&&nt.call(e,"__wrapped__"),v=p&&nt.call(t,"__wrapped__");if(h||v){var b=h?e.value():e,A=v?t.value():t;return i||(i=new pr),a(b,A,n,r,i)}}return!!g&&(i||(i=new pr),function(e,t,n,r,a,i){var s=n&f,c=go(e),l=c.length;if(l!=go(t).length&&!s)return!1;for(var u=l;u--;){var d=c[u];if(!(s?d in t:nt.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var m=!0;i.set(e,t),i.set(t,e);for(var g=s;++u<l;){var h=e[d=c[u]],v=t[d];if(r)var b=s?r(v,h,d,t,e,i):r(h,v,d,e,t,i);if(!(b===o?h===v||a(h,v,n,r,i):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var A=e.constructor,E=t.constructor;A!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof E&&E instanceof E)&&(m=!1)}return i.delete(e),i.delete(t),m}(e,t,n,r,a,i))}(e,t,n,r,Zr,a))}function Qr(e,t,n,r){var a=n.length,i=a,s=!r;if(null==e)return!i;for(e=Ze(e);a--;){var c=n[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<i;){var l=(c=n[a])[0],u=e[l],d=c[1];if(s&&c[2]){if(u===o&&!(l in e))return!1}else{var p=new pr;if(r)var g=r(u,d,l,e,t,p);if(!(g===o?Zr(d,u,f|m,r,p):g))return!1}}return!0}function Gr(e){return!(!ds(e)||function(e){return!!at&&at in e}(e))&&(cs(e)?ct:Fe).test(Go(e))}function Kr(e){return"function"==typeof e?e:null==e?mc:"object"==typeof e?ts(e)?ta(e[0],e[1]):ea(e):kc(e)}function Xr(e){if(!Bo(e))return Ln(e);var t=[];for(var n in Ze(e))nt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Jr(e,t){return e<t}function $r(e,t){var r=-1,a=rs(e)?n(e.length):[];return Rr(e,function(e,n,o){a[++r]=t(e,n,o)}),a}function ea(e){var t=wo(e);return 1==t.length&&t[0][2]?_o(t[0][0],t[0][1]):function(n){return n===e||Qr(n,e,t)}}function ta(e,t){return No(e)&&Po(t)?_o(Qo(e),t):function(n){var r=_s(n,e);return r===o&&r===t?Ms(n,e):Zr(t,r,f|m)}}function na(e,t,n,r,a){e!==t&&Dr(t,function(i,s){if(a||(a=new pr),ds(i))!function(e,t,n,r,a,i,s){var c=Uo(e,n),l=Uo(t,n),u=s.get(l);if(u)gr(e,n,u);else{var d=i?i(c,l,n+"",e,t,s):o,p=d===o;if(p){var f=ts(l),m=!f&&os(l),g=!f&&!m&&Es(l);d=l,f||m||g?ts(c)?d=c:as(c)?d=Ua(c):m?(p=!1,d=La(l,!0)):g?(p=!1,d=Pa(l,!0)):d=[]:gs(l)||es(l)?(d=c,es(c)?d=Ss(c):ds(c)&&!cs(c)||(d=So(l))):p=!1}p&&(s.set(l,d),a(d,l,r,i,s),s.delete(l)),gr(e,n,d)}}(e,t,s,n,na,r,a);else{var c=r?r(Uo(e,s),i,s+"",e,t,a):o;c===o&&(c=i),gr(e,s,c)}},Hs)}function ra(e,t){var n=e.length;if(n)return To(t+=t<0?n:0,n)?e[t]:o}function aa(e,t,n){var r=-1;return t=Ht(t.length?t:[mc],sn(Eo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}($r(e,function(e,n,a){return{criteria:Ht(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,i=a.length,s=n.length;++r<i;){var c=_a(a[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function oa(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var i=t[r],s=Mr(e,i);n(s,i)&&da(o,Ta(i,e),s)}return o}function ia(e,t,n,r){var a=r?Jt:Xt,o=-1,i=t.length,s=e;for(e===t&&(t=Ua(t)),n&&(s=Ht(e,sn(n)));++o<i;)for(var c=0,l=t[o],u=n?n(l):l;(c=a(s,u,c,r))>-1;)s!==e&&St.call(s,c,1),St.call(e,c,1);return e}function sa(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==o){var o=a;To(a)?St.call(e,a,1):wa(e,a)}}return e}function ca(e,t){return e+In(Fn()*(t-e+1))}function la(e,t){var n="";if(!e||t<1||t>S)return n;do{t%2&&(n+=e),(t=In(t/2))&&(e+=e)}while(t);return n}function ua(e,t){return Ho(Mo(e,t,mc),e+"")}function da(e,t,n,r){if(!ds(e))return e;for(var a=-1,i=(t=Ta(t,e)).length,s=i-1,c=e;null!=c&&++a<i;){var l=Qo(t[a]),u=n;if(a!=s){var d=c[l];(u=r?r(d,l,c):o)===o&&(u=ds(d)?d:To(t[a+1])?[]:{})}hr(c,l,u),c=c[l]}return e}var pa=Zn?function(e,t){return Zn.set(e,t),e}:mc,fa=On?function(e,t){return On(e,"toString",{configurable:!0,enumerable:!1,value:dc(t),writable:!0})}:mc;function ma(e,t,r){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=n(o);++a<o;)i[a]=e[a+t];return i}function ga(e,t){var n;return Rr(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}function ha(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=D){for(;r<a;){var o=r+a>>>1,i=e[o];null!==i&&!As(i)&&(n?i<=t:i<t)?r=o+1:a=o}return a}return va(e,t,mc,n)}function va(e,t,n,r){t=n(t);for(var a=0,i=null==e?0:e.length,s=t!=t,c=null===t,l=As(t),u=t===o;a<i;){var d=In((a+i)/2),p=n(e[d]),f=p!==o,m=null===p,g=p==p,h=As(p);if(s)var v=r||g;else v=u?g&&(r||f):c?g&&f&&(r||!m):l?g&&f&&!m&&(r||!h):!m&&!h&&(r?p<=t:p<t);v?a=d+1:i=d}return Pn(i,N)}function ba(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n],s=t?t(i):i;if(!n||!Xi(s,c)){var c=s;o[a++]=0===i?0:i}}return o}function Aa(e){return"number"==typeof e?e:As(e)?T:+e}function Ea(e){if("string"==typeof e)return e;if(ts(e))return Ht(e,Ea)+"";if(As(e))return nr?nr.call(e):"";var t=e+"";return"0"==t&&1/e==-R?"-0":t}function ya(e,t,n){var r=-1,a=zt,o=e.length,s=!0,c=[],l=c;if(n)s=!1,a=qt;else if(o>=i){var u=t?null:io(e);if(u)return An(u);s=!1,a=ln,l=new dr}else l=t?[]:c;e:for(;++r<o;){var d=e[r],p=t?t(d):d;if(d=n||0!==d?d:0,s&&p==p){for(var f=l.length;f--;)if(l[f]===p)continue e;t&&l.push(p),c.push(d)}else a(l,p,n)||(l!==c&&l.push(p),c.push(d))}return c}function wa(e,t){return null==(e=Fo(e,t=Ta(t,e)))||delete e[Qo(si(t))]}function ka(e,t,n,r){return da(e,t,n(Mr(e,t)),r)}function Oa(e,t,n,r){for(var a=e.length,o=r?a:-1;(r?o--:++o<a)&&t(e[o],o,e););return n?ma(e,r?0:o,r?o+1:a):ma(e,r?o+1:0,r?a:o)}function Ca(e,t){var n=e;return n instanceof sr&&(n=n.value()),Vt(t,function(e,t){return t.func.apply(t.thisArg,Wt([e],t.args))},n)}function xa(e,t,r){var a=e.length;if(a<2)return a?ya(e[0]):[];for(var o=-1,i=n(a);++o<a;)for(var s=e[o],c=-1;++c<a;)c!=o&&(i[o]=xr(i[o]||s,e[c],t,r));return ya(Nr(i,1),t,r)}function Ra(e,t,n){for(var r=-1,a=e.length,i=t.length,s={};++r<a;){var c=r<i?t[r]:o;n(s,e[r],c)}return s}function Sa(e){return as(e)?e:[]}function Ia(e){return"function"==typeof e?e:mc}function Ta(e,t){return ts(e)?e:No(e,t)?[e]:Zo(Is(e))}var ja=ua;function Na(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:ma(e,t,n)}var Da=Cn||function(e){return Ot.clearTimeout(e)};function La(e,t){if(t)return e.slice();var n=e.length,r=wt?wt(n):new e.constructor(n);return e.copy(r),r}function Ba(e){var t=new e.constructor(e.byteLength);return new At(t).set(new At(e)),t}function Pa(e,t){var n=t?Ba(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _a(e,t){if(e!==t){var n=e!==o,r=null===e,a=e==e,i=As(e),s=t!==o,c=null===t,l=t==t,u=As(t);if(!c&&!u&&!i&&e>t||i&&s&&l&&!c&&!u||r&&s&&l||!n&&l||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||c&&n&&a||!s&&a||!l)return-1}return 0}function Ma(e,t,r,a){for(var o=-1,i=e.length,s=r.length,c=-1,l=t.length,u=Bn(i-s,0),d=n(l+u),p=!a;++c<l;)d[c]=t[c];for(;++o<s;)(p||o<i)&&(d[r[o]]=e[o]);for(;u--;)d[c++]=e[o++];return d}function Fa(e,t,r,a){for(var o=-1,i=e.length,s=-1,c=r.length,l=-1,u=t.length,d=Bn(i-c,0),p=n(d+u),f=!a;++o<d;)p[o]=e[o];for(var m=o;++l<u;)p[m+l]=t[l];for(;++s<c;)(f||o<i)&&(p[m+r[s]]=e[o++]);return p}function Ua(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function za(e,t,n,r){var a=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var c=t[i],l=r?r(n[c],e[c],c,n,e):o;l===o&&(l=e[c]),a?Er(n,c,l):hr(n,c,l)}return n}function qa(e,t){return function(n,r){var a=ts(n)?_t:br,o=t?t():{};return a(n,e,Eo(r,2),o)}}function Ha(e){return ua(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:o,s=a>2?n[2]:o;for(i=e.length>3&&"function"==typeof i?(a--,i):o,s&&jo(n[0],n[1],s)&&(i=a<3?o:i,a=1),t=Ze(t);++r<a;){var c=n[r];c&&e(t,c,r,i)}return t})}function Wa(e,t){return function(n,r){if(null==n)return n;if(!rs(n))return e(n,r);for(var a=n.length,o=t?a:-1,i=Ze(n);(t?o--:++o<a)&&!1!==r(i[o],o,i););return n}}function Va(e){return function(t,n,r){for(var a=-1,o=Ze(t),i=r(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===n(o[c],c,o))break}return t}}function Ya(e){return function(t){var n=gn(t=Is(t))?yn(t):o,r=n?n[0]:t.charAt(0),a=n?Na(n,1).join(""):t.slice(1);return r[e]()+a}}function Za(e){return function(t){return Vt(cc(ec(t).replace(lt,"")),e,"")}}function Qa(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ar(e.prototype),r=e.apply(n,t);return ds(r)?r:n}}function Ga(e){return function(t,n,r){var a=Ze(t);if(!rs(t)){var i=Eo(n,3);t=qs(t),n=function(e){return i(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[i?t[s]:s]:o}}function Ka(e){return mo(function(t){var n=t.length,r=n,a=ir.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new Ke(s);if(a&&!c&&"wrapper"==bo(i))var c=new ir([],!0)}for(r=c?r:n;++r<n;){var l=bo(i=t[r]),u="wrapper"==l?vo(i):o;c=u&&Do(u[0])&&u[1]==(w|b|E|k)&&!u[4].length&&1==u[9]?c[bo(u[0])].apply(c,u[3]):1==i.length&&Do(i)?c[l]():c.thru(i)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&ts(r))return c.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}})}function Xa(e,t,r,a,i,s,c,l,u,d){var p=t&w,f=t&g,m=t&h,v=t&(b|A),E=t&O,y=m?o:Qa(e);return function g(){for(var h=arguments.length,b=n(h),A=h;A--;)b[A]=arguments[A];if(v)var w=Ao(g),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,w);if(a&&(b=Ma(b,a,i,v)),s&&(b=Fa(b,s,c,v)),h-=k,v&&h<d){var O=bn(b,w);return ao(e,t,Xa,g.placeholder,r,b,O,l,u,d-h)}var C=f?r:this,x=m?C[e]:e;return h=b.length,l?b=function(e,t){for(var n=e.length,r=Pn(t.length,n),a=Ua(e);r--;){var i=t[r];e[r]=To(i,n)?a[i]:o}return e}(b,l):E&&h>1&&b.reverse(),p&&u<h&&(b.length=u),this&&this!==Ot&&this instanceof g&&(x=y||Qa(x)),x.apply(C,b)}}function Ja(e,t){return function(n,r){return function(e,t,n,r){return Br(e,function(e,a,o){t(r,n(e),a,o)}),r}(n,e,t(r),{})}}function $a(e,t){return function(n,r){var a;if(n===o&&r===o)return t;if(n!==o&&(a=n),r!==o){if(a===o)return r;"string"==typeof n||"string"==typeof r?(n=Ea(n),r=Ea(r)):(n=Aa(n),r=Aa(r)),a=e(n,r)}return a}}function eo(e){return mo(function(t){return t=Ht(t,sn(Eo())),ua(function(n){var r=this;return e(t,function(e){return Pt(e,r,n)})})})}function to(e,t){var n=(t=t===o?" ":Ea(t)).length;if(n<2)return n?la(t,e):t;var r=la(t,Sn(e/En(t)));return gn(t)?Na(yn(r),0,e).join(""):r.slice(0,e)}function no(e){return function(t,r,a){return a&&"number"!=typeof a&&jo(t,r,a)&&(r=a=o),t=Os(t),r===o?(r=t,t=0):r=Os(r),function(e,t,r,a){for(var o=-1,i=Bn(Sn((t-e)/(r||1)),0),s=n(i);i--;)s[a?i:++o]=e,e+=r;return s}(t,r,a=a===o?t<r?1:-1:Os(a),e)}}function ro(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Rs(t),n=Rs(n)),e(t,n)}}function ao(e,t,n,r,a,i,s,c,l,u){var d=t&b;t|=d?E:y,(t&=~(d?y:E))&v||(t&=~(g|h));var p=[e,t,a,d?i:o,d?s:o,d?o:i,d?o:s,c,l,u],f=n.apply(o,p);return Do(e)&&zo(f,p),f.placeholder=r,Wo(f,e,t)}function oo(e){var t=Ye[e];return function(e,n){if(e=Rs(e),(n=null==n?0:Pn(Cs(n),292))&&Nn(e)){var r=(Is(e)+"e").split("e");return+((r=(Is(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var io=Wn&&1/An(new Wn([,-0]))[1]==R?function(e){return new Wn(e)}:Ac;function so(e){return function(t){var n=xo(t);return n==W?hn(t):n==K?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return Ht(t,function(t){return[t,e[t]]})}(t,e(t))}}function co(e,t,r,a,i,c,u,d){var p=t&h;if(!p&&"function"!=typeof e)throw new Ke(s);var f=a?a.length:0;if(f||(t&=~(E|y),a=i=o),u=u===o?u:Bn(Cs(u),0),d=d===o?d:Cs(d),f-=i?i.length:0,t&y){var m=a,O=i;a=i=o}var C=p?o:vo(e),x=[e,t,r,a,i,m,O,c,u,d];if(C&&function(e,t){var n=e[1],r=t[1],a=n|r,o=a<(g|h|w),i=r==w&&n==b||r==w&&n==k&&e[7].length<=t[8]||r==(w|k)&&t[7].length<=t[8]&&n==b;if(!o&&!i)return e;r&g&&(e[2]=t[2],a|=n&g?0:v);var s=t[3];if(s){var c=e[3];e[3]=c?Ma(c,s,t[4]):s,e[4]=c?bn(e[3],l):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Fa(c,s,t[6]):s,e[6]=c?bn(e[5],l):t[6]),(s=t[7])&&(e[7]=s),r&w&&(e[8]=null==e[8]?t[8]:Pn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(x,C),e=x[0],t=x[1],r=x[2],a=x[3],i=x[4],!(d=x[9]=x[9]===o?p?0:e.length:Bn(x[9]-f,0))&&t&(b|A)&&(t&=~(b|A)),t&&t!=g)R=t==b||t==A?function(e,t,r){var a=Qa(e);return function i(){for(var s=arguments.length,c=n(s),l=s,u=Ao(i);l--;)c[l]=arguments[l];var d=s<3&&c[0]!==u&&c[s-1]!==u?[]:bn(c,u);return(s-=d.length)<r?ao(e,t,Xa,i.placeholder,o,c,d,o,o,r-s):Pt(this&&this!==Ot&&this instanceof i?a:e,this,c)}}(e,t,d):t!=E&&t!=(g|E)||i.length?Xa.apply(o,x):function(e,t,r,a){var o=t&g,i=Qa(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=a.length,d=n(u+c),p=this&&this!==Ot&&this instanceof t?i:e;++l<u;)d[l]=a[l];for(;c--;)d[l++]=arguments[++s];return Pt(p,o?r:this,d)}}(e,t,r,a);else var R=function(e,t,n){var r=t&g,a=Qa(e);return function t(){return(this&&this!==Ot&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return Wo((C?pa:zo)(R,x),e,t)}function lo(e,t,n,r){return e===o||Xi(e,$e[n])&&!nt.call(r,n)?t:e}function uo(e,t,n,r,a,i){return ds(e)&&ds(t)&&(i.set(t,e),na(e,t,o,uo,i),i.delete(t)),e}function po(e){return gs(e)?o:e}function fo(e,t,n,r,a,i){var s=n&f,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var d=-1,p=!0,g=n&m?new dr:o;for(i.set(e,t),i.set(t,e);++d<c;){var h=e[d],v=t[d];if(r)var b=s?r(v,h,d,t,e,i):r(h,v,d,e,t,i);if(b!==o){if(b)continue;p=!1;break}if(g){if(!Zt(t,function(e,t){if(!ln(g,t)&&(h===e||a(h,e,n,r,i)))return g.push(t)})){p=!1;break}}else if(h!==v&&!a(h,v,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function mo(e){return Ho(Mo(e,o,ni),e+"")}function go(e){return Fr(e,qs,Oo)}function ho(e){return Fr(e,Hs,Co)}var vo=Zn?function(e){return Zn.get(e)}:Ac;function bo(e){for(var t=e.name+"",n=Qn[t],r=nt.call(Qn,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t}function Ao(e){return(nt.call(rr,"placeholder")?rr:e).placeholder}function Eo(){var e=rr.iteratee||gc;return e=e===gc?Kr:e,arguments.length?e(arguments[0],arguments[1]):e}function yo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function wo(e){for(var t=qs(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Po(a)]}return t}function ko(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Gr(n)?n:o}var Oo=Tn?function(e){return null==e?[]:(e=Ze(e),Ut(Tn(e),function(t){return xt.call(e,t)}))}:xc,Co=Tn?function(e){for(var t=[];e;)Wt(t,Oo(e)),e=kt(e);return t}:xc,xo=Ur;function Ro(e,t,n){for(var r=-1,a=(t=Ta(t,e)).length,o=!1;++r<a;){var i=Qo(t[r]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&us(a)&&To(i,a)&&(ts(e)||es(e))}function So(e){return"function"!=typeof e.constructor||Bo(e)?{}:ar(kt(e))}function Io(e){return ts(e)||es(e)||!!(It&&e&&e[It])}function To(e,t){var n=typeof e;return!!(t=null==t?S:t)&&("number"==n||"symbol"!=n&&ze.test(e))&&e>-1&&e%1==0&&e<t}function jo(e,t,n){if(!ds(n))return!1;var r=typeof t;return!!("number"==r?rs(n)&&To(t,n.length):"string"==r&&t in n)&&Xi(n[t],e)}function No(e,t){if(ts(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!As(e))||ke.test(e)||!we.test(e)||null!=t&&e in Ze(t)}function Do(e){var t=bo(e),n=rr[t];if("function"!=typeof n||!(t in sr.prototype))return!1;if(e===n)return!0;var r=vo(n);return!!r&&e===r[0]}(zn&&xo(new zn(new ArrayBuffer(1)))!=ne||qn&&xo(new qn)!=W||Hn&&"[object Promise]"!=xo(Hn.resolve())||Wn&&xo(new Wn)!=K||Vn&&xo(new Vn)!=ee)&&(xo=function(e){var t=Ur(e),n=t==Z?e.constructor:o,r=n?Go(n):"";if(r)switch(r){case Gn:return ne;case Kn:return W;case Xn:return"[object Promise]";case Jn:return K;case $n:return ee}return t});var Lo=et?cs:Rc;function Bo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$e)}function Po(e){return e==e&&!ds(e)}function _o(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Ze(n))}}function Mo(e,t,r){return t=Bn(t===o?e.length-1:t,0),function(){for(var a=arguments,o=-1,i=Bn(a.length-t,0),s=n(i);++o<i;)s[o]=a[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=a[o];return c[t]=r(s),Pt(e,this,c)}}function Fo(e,t){return t.length<2?e:Mr(e,ma(t,0,-1))}function Uo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var zo=Vo(pa),qo=Rn||function(e,t){return Ot.setTimeout(e,t)},Ho=Vo(fa);function Wo(e,t,n){var r=t+"";return Ho(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Te,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Mt(L,function(n){var r="_."+n[0];t&n[1]&&!zt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=r.match(je);return t?t[1].split(Ne):[]}(),n)))}function Vo(e){var t=0,n=0;return function(){var r=_n(),a=x-(r-n);if(n=r,a>0){if(++t>=C)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Yo(e,t){var n=-1,r=e.length,a=r-1;for(t=t===o?r:t;++n<t;){var i=ca(n,a),s=e[i];e[i]=e[n],e[n]=s}return e.length=t,e}var Zo=function(e){var t=Vi(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Oe,function(e,n,r,a){t.push(r?a.replace(Le,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}();function Qo(e){if("string"==typeof e||As(e))return e;var t=e+"";return"0"==t&&1/e==-R?"-0":t}function Go(e){if(null!=e){try{return tt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ko(e){if(e instanceof sr)return e.clone();var t=new ir(e.__wrapped__,e.__chain__);return t.__actions__=Ua(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Xo=ua(function(e,t){return as(e)?xr(e,Nr(t,1,as,!0)):[]}),Jo=ua(function(e,t){var n=si(t);return as(n)&&(n=o),as(e)?xr(e,Nr(t,1,as,!0),Eo(n,2)):[]}),$o=ua(function(e,t){var n=si(t);return as(n)&&(n=o),as(e)?xr(e,Nr(t,1,as,!0),o,n):[]});function ei(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Cs(n);return a<0&&(a=Bn(r+a,0)),Kt(e,Eo(t,3),a)}function ti(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==o&&(a=Cs(n),a=n<0?Bn(r+a,0):Pn(a,r-1)),Kt(e,Eo(t,3),a,!0)}function ni(e){return null!=e&&e.length?Nr(e,1):[]}function ri(e){return e&&e.length?e[0]:o}var ai=ua(function(e){var t=Ht(e,Sa);return t.length&&t[0]===e[0]?Wr(t):[]}),oi=ua(function(e){var t=si(e),n=Ht(e,Sa);return t===si(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Wr(n,Eo(t,2)):[]}),ii=ua(function(e){var t=si(e),n=Ht(e,Sa);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Wr(n,o,t):[]});function si(e){var t=null==e?0:e.length;return t?e[t-1]:o}var ci=ua(li);function li(e,t){return e&&e.length&&t&&t.length?ia(e,t):e}var ui=mo(function(e,t){var n=null==e?0:e.length,r=yr(e,t);return sa(e,Ht(t,function(e){return To(e,n)?+e:e}).sort(_a)),r});function di(e){return null==e?e:Un.call(e)}var pi=ua(function(e){return ya(Nr(e,1,as,!0))}),fi=ua(function(e){var t=si(e);return as(t)&&(t=o),ya(Nr(e,1,as,!0),Eo(t,2))}),mi=ua(function(e){var t=si(e);return t="function"==typeof t?t:o,ya(Nr(e,1,as,!0),o,t)});function gi(e){if(!e||!e.length)return[];var t=0;return e=Ut(e,function(e){if(as(e))return t=Bn(e.length,t),!0}),on(t,function(t){return Ht(e,tn(t))})}function hi(e,t){if(!e||!e.length)return[];var n=gi(e);return null==t?n:Ht(n,function(e){return Pt(t,o,e)})}var vi=ua(function(e,t){return as(e)?xr(e,t):[]}),bi=ua(function(e){return xa(Ut(e,as))}),Ai=ua(function(e){var t=si(e);return as(t)&&(t=o),xa(Ut(e,as),Eo(t,2))}),Ei=ua(function(e){var t=si(e);return t="function"==typeof t?t:o,xa(Ut(e,as),o,t)}),yi=ua(gi),wi=ua(function(e){var t=e.length,n=t>1?e[t-1]:o;return hi(e,n="function"==typeof n?(e.pop(),n):o)});function ki(e){var t=rr(e);return t.__chain__=!0,t}function Oi(e,t){return t(e)}var Ci=mo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return yr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof sr&&To(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Oi,args:[a],thisArg:o}),new ir(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(a)}),xi=qa(function(e,t,n){nt.call(e,n)?++e[n]:Er(e,n,1)}),Ri=Ga(ei),Si=Ga(ti);function Ii(e,t){return(ts(e)?Mt:Rr)(e,Eo(t,3))}function Ti(e,t){return(ts(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:Sr)(e,Eo(t,3))}var ji=qa(function(e,t,n){nt.call(e,n)?e[n].push(t):Er(e,n,[t])}),Ni=ua(function(e,t,r){var a=-1,o="function"==typeof t,i=rs(e)?n(e.length):[];return Rr(e,function(e){i[++a]=o?Pt(t,e,r):Vr(e,t,r)}),i}),Di=qa(function(e,t,n){Er(e,n,t)});function Li(e,t){return(ts(e)?Ht:$r)(e,Eo(t,3))}var Bi=qa(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Pi=ua(function(e,t){if(null==e)return[];var n=t.length;return n>1&&jo(e,t[0],t[1])?t=[]:n>2&&jo(t[0],t[1],t[2])&&(t=[t[0]]),aa(e,Nr(t,1),[])}),_i=xn||function(){return Ot.Date.now()};function Mi(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,co(e,w,o,o,o,o,t)}function Fi(e,t){var n;if("function"!=typeof t)throw new Ke(s);return e=Cs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ui=ua(function(e,t,n){var r=g;if(n.length){var a=bn(n,Ao(Ui));r|=E}return co(e,r,t,n,a)}),zi=ua(function(e,t,n){var r=g|h;if(n.length){var a=bn(n,Ao(zi));r|=E}return co(t,r,e,n,a)});function qi(e,t,n){var r,a,i,c,l,u,d=0,p=!1,f=!1,m=!0;if("function"!=typeof e)throw new Ke(s);function g(t){var n=r,i=a;return r=a=o,d=t,c=e.apply(i,n)}function h(e){var n=e-u;return u===o||n>=t||n<0||f&&e-d>=i}function v(){var e=_i();if(h(e))return b(e);l=qo(v,function(e){var n=t-(e-u);return f?Pn(n,i-(e-d)):n}(e))}function b(e){return l=o,m&&r?g(e):(r=a=o,c)}function A(){var e=_i(),n=h(e);if(r=arguments,a=this,u=e,n){if(l===o)return function(e){return d=e,l=qo(v,t),p?g(e):c}(u);if(f)return Da(l),l=qo(v,t),g(u)}return l===o&&(l=qo(v,t)),c}return t=Rs(t)||0,ds(n)&&(p=!!n.leading,i=(f="maxWait"in n)?Bn(Rs(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),A.cancel=function(){l!==o&&Da(l),d=0,r=u=a=l=o},A.flush=function(){return l===o?c:b(_i())},A}var Hi=ua(function(e,t){return Cr(e,1,t)}),Wi=ua(function(e,t,n){return Cr(e,Rs(t)||0,n)});function Vi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ke(s);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(Vi.Cache||ur),n}function Yi(e){if("function"!=typeof e)throw new Ke(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Vi.Cache=ur;var Zi=ja(function(e,t){var n=(t=1==t.length&&ts(t[0])?Ht(t[0],sn(Eo())):Ht(Nr(t,1),sn(Eo()))).length;return ua(function(r){for(var a=-1,o=Pn(r.length,n);++a<o;)r[a]=t[a].call(this,r[a]);return Pt(e,this,r)})}),Qi=ua(function(e,t){var n=bn(t,Ao(Qi));return co(e,E,o,t,n)}),Gi=ua(function(e,t){var n=bn(t,Ao(Gi));return co(e,y,o,t,n)}),Ki=mo(function(e,t){return co(e,k,o,o,o,t)});function Xi(e,t){return e===t||e!=e&&t!=t}var Ji=ro(zr),$i=ro(function(e,t){return e>=t}),es=Yr(function(){return arguments}())?Yr:function(e){return ps(e)&&nt.call(e,"callee")&&!xt.call(e,"callee")},ts=n.isArray,ns=Tt?sn(Tt):function(e){return ps(e)&&Ur(e)==te};function rs(e){return null!=e&&us(e.length)&&!cs(e)}function as(e){return ps(e)&&rs(e)}var os=jn||Rc,is=jt?sn(jt):function(e){return ps(e)&&Ur(e)==F};function ss(e){if(!ps(e))return!1;var t=Ur(e);return t==z||t==U||"string"==typeof e.message&&"string"==typeof e.name&&!gs(e)}function cs(e){if(!ds(e))return!1;var t=Ur(e);return t==q||t==H||t==_||t==Q}function ls(e){return"number"==typeof e&&e==Cs(e)}function us(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=S}function ds(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ps(e){return null!=e&&"object"==typeof e}var fs=Nt?sn(Nt):function(e){return ps(e)&&xo(e)==W};function ms(e){return"number"==typeof e||ps(e)&&Ur(e)==V}function gs(e){if(!ps(e)||Ur(e)!=Z)return!1;var t=kt(e);if(null===t)return!0;var n=nt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&tt.call(n)==it}var hs=Dt?sn(Dt):function(e){return ps(e)&&Ur(e)==G},vs=Lt?sn(Lt):function(e){return ps(e)&&xo(e)==K};function bs(e){return"string"==typeof e||!ts(e)&&ps(e)&&Ur(e)==X}function As(e){return"symbol"==typeof e||ps(e)&&Ur(e)==J}var Es=Bt?sn(Bt):function(e){return ps(e)&&us(e.length)&&!!vt[Ur(e)]},ys=ro(Jr),ws=ro(function(e,t){return e<=t});function ks(e){if(!e)return[];if(rs(e))return bs(e)?yn(e):Ua(e);if(Qt&&e[Qt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qt]());var t=xo(e);return(t==W?hn:t==K?An:Xs)(e)}function Os(e){return e?(e=Rs(e))===R||e===-R?(e<0?-1:1)*I:e==e?e:0:0===e?e:0}function Cs(e){var t=Os(e),n=t%1;return t==t?n?t-n:t:0}function xs(e){return e?wr(Cs(e),0,j):0}function Rs(e){if("number"==typeof e)return e;if(As(e))return T;if(ds(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ds(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Re,"");var n=Me.test(e);return n||Ue.test(e)?yt(e.slice(2),n?2:8):_e.test(e)?T:+e}function Ss(e){return za(e,Hs(e))}function Is(e){return null==e?"":Ea(e)}var Ts=Ha(function(e,t){if(Bo(t)||rs(t))za(t,qs(t),e);else for(var n in t)nt.call(t,n)&&hr(e,n,t[n])}),js=Ha(function(e,t){za(t,Hs(t),e)}),Ns=Ha(function(e,t,n,r){za(t,Hs(t),e,r)}),Ds=Ha(function(e,t,n,r){za(t,qs(t),e,r)}),Ls=mo(yr),Bs=ua(function(e,t){e=Ze(e);var n=-1,r=t.length,a=r>2?t[2]:o;for(a&&jo(t[0],t[1],a)&&(r=1);++n<r;)for(var i=t[n],s=Hs(i),c=-1,l=s.length;++c<l;){var u=s[c],d=e[u];(d===o||Xi(d,$e[u])&&!nt.call(e,u))&&(e[u]=i[u])}return e}),Ps=ua(function(e){return e.push(o,uo),Pt(Vs,o,e)});function _s(e,t,n){var r=null==e?o:Mr(e,t);return r===o?n:r}function Ms(e,t){return null!=e&&Ro(e,t,Hr)}var Fs=Ja(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ot.call(t)),e[t]=n},dc(mc)),Us=Ja(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ot.call(t)),nt.call(e,t)?e[t].push(n):e[t]=[n]},Eo),zs=ua(Vr);function qs(e){return rs(e)?fr(e):Xr(e)}function Hs(e){return rs(e)?fr(e,!0):function(e){if(!ds(e))return function(e){var t=[];if(null!=e)for(var n in Ze(e))t.push(n);return t}(e);var t=Bo(e),n=[];for(var r in e)("constructor"!=r||!t&&nt.call(e,r))&&n.push(r);return n}(e)}var Ws=Ha(function(e,t,n){na(e,t,n)}),Vs=Ha(function(e,t,n,r){na(e,t,n,r)}),Ys=mo(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ht(t,function(t){return t=Ta(t,e),r||(r=t.length>1),t}),za(e,ho(e),n),r&&(n=kr(n,u|d|p,po));for(var a=t.length;a--;)wa(n,t[a]);return n}),Zs=mo(function(e,t){return null==e?{}:function(e,t){return oa(e,t,function(t,n){return Ms(e,n)})}(e,t)});function Qs(e,t){if(null==e)return{};var n=Ht(ho(e),function(e){return[e]});return t=Eo(t),oa(e,n,function(e,n){return t(e,n[0])})}var Gs=so(qs),Ks=so(Hs);function Xs(e){return null==e?[]:cn(e,qs(e))}var Js=Za(function(e,t,n){return t=t.toLowerCase(),e+(n?$s(t):t)});function $s(e){return sc(Is(e).toLowerCase())}function ec(e){return(e=Is(e))&&e.replace(qe,pn).replace(ut,"")}var tc=Za(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),nc=Za(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),rc=Ya("toLowerCase"),ac=Za(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),oc=Za(function(e,t,n){return e+(n?" ":"")+sc(t)}),ic=Za(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),sc=Ya("toUpperCase");function cc(e,t,n){return e=Is(e),(t=n?o:t)===o?function(e){return mt.test(e)}(e)?function(e){return e.match(pt)||[]}(e):function(e){return e.match(De)||[]}(e):e.match(t)||[]}var lc=ua(function(e,t){try{return Pt(e,o,t)}catch(e){return ss(e)?e:new a(e)}}),uc=mo(function(e,t){return Mt(t,function(t){t=Qo(t),Er(e,t,Ui(e[t],e))}),e});function dc(e){return function(){return e}}var pc=Ka(),fc=Ka(!0);function mc(e){return e}function gc(e){return Kr("function"==typeof e?e:kr(e,u))}var hc=ua(function(e,t){return function(n){return Vr(n,e,t)}}),vc=ua(function(e,t){return function(n){return Vr(e,n,t)}});function bc(e,t,n){var r=qs(t),a=_r(t,r);null!=n||ds(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=_r(t,qs(t)));var o=!(ds(n)&&"chain"in n&&!n.chain),i=cs(e);return Mt(a,function(n){var r=t[n];e[n]=r,i&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ua(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Wt([this.value()],arguments))})}),e}function Ac(){}var Ec=eo(Ht),yc=eo(Ft),wc=eo(Zt);function kc(e){return No(e)?tn(Qo(e)):function(e){return function(t){return Mr(t,e)}}(e)}var Oc=no(),Cc=no(!0);function xc(){return[]}function Rc(){return!1}var Sc=$a(function(e,t){return e+t},0),Ic=oo("ceil"),Tc=$a(function(e,t){return e/t},1),jc=oo("floor"),Nc=$a(function(e,t){return e*t},1),Dc=oo("round"),Lc=$a(function(e,t){return e-t},0);return rr.after=function(e,t){if("function"!=typeof t)throw new Ke(s);return e=Cs(e),function(){if(--e<1)return t.apply(this,arguments)}},rr.ary=Mi,rr.assign=Ts,rr.assignIn=js,rr.assignInWith=Ns,rr.assignWith=Ds,rr.at=Ls,rr.before=Fi,rr.bind=Ui,rr.bindAll=uc,rr.bindKey=zi,rr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ts(e)?e:[e]},rr.chain=ki,rr.chunk=function(e,t,r){t=(r?jo(e,t,r):t===o)?1:Bn(Cs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var i=0,s=0,c=n(Sn(a/t));i<a;)c[s++]=ma(e,i,i+=t);return c},rr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a},rr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Wt(ts(r)?Ua(r):[r],Nr(t,1))},rr.cond=function(e){var t=null==e?0:e.length,n=Eo();return e=t?Ht(e,function(e){if("function"!=typeof e[1])throw new Ke(s);return[n(e[0]),e[1]]}):[],ua(function(n){for(var r=-1;++r<t;){var a=e[r];if(Pt(a[0],this,n))return Pt(a[1],this,n)}})},rr.conforms=function(e){return function(e){var t=qs(e);return function(n){return Or(n,e,t)}}(kr(e,u))},rr.constant=dc,rr.countBy=xi,rr.create=function(e,t){var n=ar(e);return null==t?n:Ar(n,t)},rr.curry=function e(t,n,r){var a=co(t,b,o,o,o,o,o,n=r?o:n);return a.placeholder=e.placeholder,a},rr.curryRight=function e(t,n,r){var a=co(t,A,o,o,o,o,o,n=r?o:n);return a.placeholder=e.placeholder,a},rr.debounce=qi,rr.defaults=Bs,rr.defaultsDeep=Ps,rr.defer=Hi,rr.delay=Wi,rr.difference=Xo,rr.differenceBy=Jo,rr.differenceWith=$o,rr.drop=function(e,t,n){var r=null==e?0:e.length;return r?ma(e,(t=n||t===o?1:Cs(t))<0?0:t,r):[]},rr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ma(e,0,(t=r-(t=n||t===o?1:Cs(t)))<0?0:t):[]},rr.dropRightWhile=function(e,t){return e&&e.length?Oa(e,Eo(t,3),!0,!0):[]},rr.dropWhile=function(e,t){return e&&e.length?Oa(e,Eo(t,3),!0):[]},rr.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&jo(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=Cs(n))<0&&(n=-n>a?0:a+n),(r=r===o||r>a?a:Cs(r))<0&&(r+=a),r=n>r?0:xs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},rr.filter=function(e,t){return(ts(e)?Ut:jr)(e,Eo(t,3))},rr.flatMap=function(e,t){return Nr(Li(e,t),1)},rr.flatMapDeep=function(e,t){return Nr(Li(e,t),R)},rr.flatMapDepth=function(e,t,n){return n=n===o?1:Cs(n),Nr(Li(e,t),n)},rr.flatten=ni,rr.flattenDeep=function(e){return null!=e&&e.length?Nr(e,R):[]},rr.flattenDepth=function(e,t){return null!=e&&e.length?Nr(e,t=t===o?1:Cs(t)):[]},rr.flip=function(e){return co(e,O)},rr.flow=pc,rr.flowRight=fc,rr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},rr.functions=function(e){return null==e?[]:_r(e,qs(e))},rr.functionsIn=function(e){return null==e?[]:_r(e,Hs(e))},rr.groupBy=ji,rr.initial=function(e){return null!=e&&e.length?ma(e,0,-1):[]},rr.intersection=ai,rr.intersectionBy=oi,rr.intersectionWith=ii,rr.invert=Fs,rr.invertBy=Us,rr.invokeMap=Ni,rr.iteratee=gc,rr.keyBy=Di,rr.keys=qs,rr.keysIn=Hs,rr.map=Li,rr.mapKeys=function(e,t){var n={};return t=Eo(t,3),Br(e,function(e,r,a){Er(n,t(e,r,a),e)}),n},rr.mapValues=function(e,t){var n={};return t=Eo(t,3),Br(e,function(e,r,a){Er(n,r,t(e,r,a))}),n},rr.matches=function(e){return ea(kr(e,u))},rr.matchesProperty=function(e,t){return ta(e,kr(t,u))},rr.memoize=Vi,rr.merge=Ws,rr.mergeWith=Vs,rr.method=hc,rr.methodOf=vc,rr.mixin=bc,rr.negate=Yi,rr.nthArg=function(e){return e=Cs(e),ua(function(t){return ra(t,e)})},rr.omit=Ys,rr.omitBy=function(e,t){return Qs(e,Yi(Eo(t)))},rr.once=function(e){return Fi(2,e)},rr.orderBy=function(e,t,n,r){return null==e?[]:(ts(t)||(t=null==t?[]:[t]),ts(n=r?o:n)||(n=null==n?[]:[n]),aa(e,t,n))},rr.over=Ec,rr.overArgs=Zi,rr.overEvery=yc,rr.overSome=wc,rr.partial=Qi,rr.partialRight=Gi,rr.partition=Bi,rr.pick=Zs,rr.pickBy=Qs,rr.property=kc,rr.propertyOf=function(e){return function(t){return null==e?o:Mr(e,t)}},rr.pull=ci,rr.pullAll=li,rr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ia(e,t,Eo(n,2)):e},rr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ia(e,t,o,n):e},rr.pullAt=ui,rr.range=Oc,rr.rangeRight=Cc,rr.rearg=Ki,rr.reject=function(e,t){return(ts(e)?Ut:jr)(e,Yi(Eo(t,3)))},rr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=Eo(t,3);++r<o;){var i=e[r];t(i,r,e)&&(n.push(i),a.push(r))}return sa(e,a),n},rr.rest=function(e,t){if("function"!=typeof e)throw new Ke(s);return ua(e,t=t===o?t:Cs(t))},rr.reverse=di,rr.sampleSize=function(e,t,n){return t=(n?jo(e,t,n):t===o)?1:Cs(t),(ts(e)?function(e,t){return Yo(Ua(e),wr(t,0,e.length))}:function(e,t){var n=Xs(e);return Yo(n,wr(t,0,n.length))})(e,t)},rr.set=function(e,t,n){return null==e?e:da(e,t,n)},rr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:da(e,t,n,r)},rr.shuffle=function(e){return(ts(e)?function(e){return Yo(Ua(e))}:function(e){return Yo(Xs(e))})(e)},rr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&jo(e,t,n)?(t=0,n=r):(t=null==t?0:Cs(t),n=n===o?r:Cs(n)),ma(e,t,n)):[]},rr.sortBy=Pi,rr.sortedUniq=function(e){return e&&e.length?ba(e):[]},rr.sortedUniqBy=function(e,t){return e&&e.length?ba(e,Eo(t,2)):[]},rr.split=function(e,t,n){return n&&"number"!=typeof n&&jo(e,t,n)&&(t=n=o),(n=n===o?j:n>>>0)?(e=Is(e))&&("string"==typeof t||null!=t&&!hs(t))&&!(t=Ea(t))&&gn(e)?Na(yn(e),0,n):e.split(t,n):[]},rr.spread=function(e,t){if("function"!=typeof e)throw new Ke(s);return t=null==t?0:Bn(Cs(t),0),ua(function(n){var r=n[t],a=Na(n,0,t);return r&&Wt(a,r),Pt(e,this,a)})},rr.tail=function(e){var t=null==e?0:e.length;return t?ma(e,1,t):[]},rr.take=function(e,t,n){return e&&e.length?ma(e,0,(t=n||t===o?1:Cs(t))<0?0:t):[]},rr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ma(e,(t=r-(t=n||t===o?1:Cs(t)))<0?0:t,r):[]},rr.takeRightWhile=function(e,t){return e&&e.length?Oa(e,Eo(t,3),!1,!0):[]},rr.takeWhile=function(e,t){return e&&e.length?Oa(e,Eo(t,3)):[]},rr.tap=function(e,t){return t(e),e},rr.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Ke(s);return ds(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),qi(e,t,{leading:r,maxWait:t,trailing:a})},rr.thru=Oi,rr.toArray=ks,rr.toPairs=Gs,rr.toPairsIn=Ks,rr.toPath=function(e){return ts(e)?Ht(e,Qo):As(e)?[e]:Ua(Zo(Is(e)))},rr.toPlainObject=Ss,rr.transform=function(e,t,n){var r=ts(e),a=r||os(e)||Es(e);if(t=Eo(t,4),null==n){var o=e&&e.constructor;n=a?r?new o:[]:ds(e)&&cs(o)?ar(kt(e)):{}}return(a?Mt:Br)(e,function(e,r,a){return t(n,e,r,a)}),n},rr.unary=function(e){return Mi(e,1)},rr.union=pi,rr.unionBy=fi,rr.unionWith=mi,rr.uniq=function(e){return e&&e.length?ya(e):[]},rr.uniqBy=function(e,t){return e&&e.length?ya(e,Eo(t,2)):[]},rr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ya(e,o,t):[]},rr.unset=function(e,t){return null==e||wa(e,t)},rr.unzip=gi,rr.unzipWith=hi,rr.update=function(e,t,n){return null==e?e:ka(e,t,Ia(n))},rr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ka(e,t,Ia(n),r)},rr.values=Xs,rr.valuesIn=function(e){return null==e?[]:cn(e,Hs(e))},rr.without=vi,rr.words=cc,rr.wrap=function(e,t){return Qi(Ia(t),e)},rr.xor=bi,rr.xorBy=Ai,rr.xorWith=Ei,rr.zip=yi,rr.zipObject=function(e,t){return Ra(e||[],t||[],hr)},rr.zipObjectDeep=function(e,t){return Ra(e||[],t||[],da)},rr.zipWith=wi,rr.entries=Gs,rr.entriesIn=Ks,rr.extend=js,rr.extendWith=Ns,bc(rr,rr),rr.add=Sc,rr.attempt=lc,rr.camelCase=Js,rr.capitalize=$s,rr.ceil=Ic,rr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Rs(n))==n?n:0),t!==o&&(t=(t=Rs(t))==t?t:0),wr(Rs(e),t,n)},rr.clone=function(e){return kr(e,p)},rr.cloneDeep=function(e){return kr(e,u|p)},rr.cloneDeepWith=function(e,t){return kr(e,u|p,t="function"==typeof t?t:o)},rr.cloneWith=function(e,t){return kr(e,p,t="function"==typeof t?t:o)},rr.conformsTo=function(e,t){return null==t||Or(e,t,qs(t))},rr.deburr=ec,rr.defaultTo=function(e,t){return null==e||e!=e?t:e},rr.divide=Tc,rr.endsWith=function(e,t,n){e=Is(e),t=Ea(t);var r=e.length,a=n=n===o?r:wr(Cs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},rr.eq=Xi,rr.escape=function(e){return(e=Is(e))&&be.test(e)?e.replace(he,fn):e},rr.escapeRegExp=function(e){return(e=Is(e))&&xe.test(e)?e.replace(Ce,"\\$&"):e},rr.every=function(e,t,n){var r=ts(e)?Ft:Ir;return n&&jo(e,t,n)&&(t=o),r(e,Eo(t,3))},rr.find=Ri,rr.findIndex=ei,rr.findKey=function(e,t){return Gt(e,Eo(t,3),Br)},rr.findLast=Si,rr.findLastIndex=ti,rr.findLastKey=function(e,t){return Gt(e,Eo(t,3),Pr)},rr.floor=jc,rr.forEach=Ii,rr.forEachRight=Ti,rr.forIn=function(e,t){return null==e?e:Dr(e,Eo(t,3),Hs)},rr.forInRight=function(e,t){return null==e?e:Lr(e,Eo(t,3),Hs)},rr.forOwn=function(e,t){return e&&Br(e,Eo(t,3))},rr.forOwnRight=function(e,t){return e&&Pr(e,Eo(t,3))},rr.get=_s,rr.gt=Ji,rr.gte=$i,rr.has=function(e,t){return null!=e&&Ro(e,t,qr)},rr.hasIn=Ms,rr.head=ri,rr.identity=mc,rr.includes=function(e,t,n,r){e=rs(e)?e:Xs(e),n=n&&!r?Cs(n):0;var a=e.length;return n<0&&(n=Bn(a+n,0)),bs(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Xt(e,t,n)>-1},rr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Cs(n);return a<0&&(a=Bn(r+a,0)),Xt(e,t,a)},rr.inRange=function(e,t,n){return t=Os(t),n===o?(n=t,t=0):n=Os(n),function(e,t,n){return e>=Pn(t,n)&&e<Bn(t,n)}(e=Rs(e),t,n)},rr.invoke=zs,rr.isArguments=es,rr.isArray=ts,rr.isArrayBuffer=ns,rr.isArrayLike=rs,rr.isArrayLikeObject=as,rr.isBoolean=function(e){return!0===e||!1===e||ps(e)&&Ur(e)==M},rr.isBuffer=os,rr.isDate=is,rr.isElement=function(e){return ps(e)&&1===e.nodeType&&!gs(e)},rr.isEmpty=function(e){if(null==e)return!0;if(rs(e)&&(ts(e)||"string"==typeof e||"function"==typeof e.splice||os(e)||Es(e)||es(e)))return!e.length;var t=xo(e);if(t==W||t==K)return!e.size;if(Bo(e))return!Xr(e).length;for(var n in e)if(nt.call(e,n))return!1;return!0},rr.isEqual=function(e,t){return Zr(e,t)},rr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Zr(e,t,o,n):!!r},rr.isError=ss,rr.isFinite=function(e){return"number"==typeof e&&Nn(e)},rr.isFunction=cs,rr.isInteger=ls,rr.isLength=us,rr.isMap=fs,rr.isMatch=function(e,t){return e===t||Qr(e,t,wo(t))},rr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Qr(e,t,wo(t),n)},rr.isNaN=function(e){return ms(e)&&e!=+e},rr.isNative=function(e){if(Lo(e))throw new a("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Gr(e)},rr.isNil=function(e){return null==e},rr.isNull=function(e){return null===e},rr.isNumber=ms,rr.isObject=ds,rr.isObjectLike=ps,rr.isPlainObject=gs,rr.isRegExp=hs,rr.isSafeInteger=function(e){return ls(e)&&e>=-S&&e<=S},rr.isSet=vs,rr.isString=bs,rr.isSymbol=As,rr.isTypedArray=Es,rr.isUndefined=function(e){return e===o},rr.isWeakMap=function(e){return ps(e)&&xo(e)==ee},rr.isWeakSet=function(e){return ps(e)&&"[object WeakSet]"==Ur(e)},rr.join=function(e,t){return null==e?"":Dn.call(e,t)},rr.kebabCase=tc,rr.last=si,rr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==o&&(a=(a=Cs(n))<0?Bn(r+a,0):Pn(a,r-1)),t==t?function(e,t,n){for(var r=a+1;r--;)if(e[r]===t)return r;return r}(e,t):Kt(e,$t,a,!0)},rr.lowerCase=nc,rr.lowerFirst=rc,rr.lt=ys,rr.lte=ws,rr.max=function(e){return e&&e.length?Tr(e,mc,zr):o},rr.maxBy=function(e,t){return e&&e.length?Tr(e,Eo(t,2),zr):o},rr.mean=function(e){return en(e,mc)},rr.meanBy=function(e,t){return en(e,Eo(t,2))},rr.min=function(e){return e&&e.length?Tr(e,mc,Jr):o},rr.minBy=function(e,t){return e&&e.length?Tr(e,Eo(t,2),Jr):o},rr.stubArray=xc,rr.stubFalse=Rc,rr.stubObject=function(){return{}},rr.stubString=function(){return""},rr.stubTrue=function(){return!0},rr.multiply=Nc,rr.nth=function(e,t){return e&&e.length?ra(e,Cs(t)):o},rr.noConflict=function(){return Ot._===this&&(Ot._=st),this},rr.noop=Ac,rr.now=_i,rr.pad=function(e,t,n){e=Is(e);var r=(t=Cs(t))?En(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return to(In(a),n)+e+to(Sn(a),n)},rr.padEnd=function(e,t,n){e=Is(e);var r=(t=Cs(t))?En(e):0;return t&&r<t?e+to(t-r,n):e},rr.padStart=function(e,t,n){e=Is(e);var r=(t=Cs(t))?En(e):0;return t&&r<t?to(t-r,n)+e:e},rr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Mn(Is(e).replace(Se,""),t||0)},rr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&jo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Os(e),t===o?(t=e,e=0):t=Os(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Fn();return Pn(e+a*(t-e+Et("1e-"+((a+"").length-1))),t)}return ca(e,t)},rr.reduce=function(e,t,n){var r=ts(e)?Vt:rn,a=arguments.length<3;return r(e,Eo(t,4),n,a,Rr)},rr.reduceRight=function(e,t,n){var r=ts(e)?Yt:rn,a=arguments.length<3;return r(e,Eo(t,4),n,a,Sr)},rr.repeat=function(e,t,n){return t=(n?jo(e,t,n):t===o)?1:Cs(t),la(Is(e),t)},rr.replace=function(){var e=arguments,t=Is(e[0]);return e.length<3?t:t.replace(e[1],e[2])},rr.result=function(e,t,n){var r=-1,a=(t=Ta(t,e)).length;for(a||(a=1,e=o);++r<a;){var i=null==e?o:e[Qo(t[r])];i===o&&(r=a,i=n),e=cs(i)?i.call(e):i}return e},rr.round=Dc,rr.runInContext=e,rr.sample=function(e){return(ts(e)?mr:function(e){return mr(Xs(e))})(e)},rr.size=function(e){if(null==e)return 0;if(rs(e))return bs(e)?En(e):e.length;var t=xo(e);return t==W||t==K?e.size:Xr(e).length},rr.snakeCase=ac,rr.some=function(e,t,n){var r=ts(e)?Zt:ga;return n&&jo(e,t,n)&&(t=o),r(e,Eo(t,3))},rr.sortedIndex=function(e,t){return ha(e,t)},rr.sortedIndexBy=function(e,t,n){return va(e,t,Eo(n,2))},rr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ha(e,t);if(r<n&&Xi(e[r],t))return r}return-1},rr.sortedLastIndex=function(e,t){return ha(e,t,!0)},rr.sortedLastIndexBy=function(e,t,n){return va(e,t,Eo(n,2),!0)},rr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ha(e,t,!0)-1;if(Xi(e[n],t))return n}return-1},rr.startCase=oc,rr.startsWith=function(e,t,n){return e=Is(e),n=null==n?0:wr(Cs(n),0,e.length),t=Ea(t),e.slice(n,n+t.length)==t},rr.subtract=Lc,rr.sum=function(e){return e&&e.length?an(e,mc):0},rr.sumBy=function(e,t){return e&&e.length?an(e,Eo(t,2)):0},rr.template=function(e,t,n){var r=rr.templateSettings;n&&jo(e,t,n)&&(t=o),e=Is(e),t=Ns({},t,r,lo);var a,i,s=Ns({},t.imports,r.imports,lo),c=qs(s),l=cn(s,c),u=0,d=t.interpolate||He,p="__p += '",f=Qe((t.escape||He).source+"|"+d.source+"|"+(d===ye?Be:He).source+"|"+(t.evaluate||He).source+"|$","g"),m="//# sourceURL="+(nt.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++ht+"]")+"\n";e.replace(f,function(t,n,r,o,s,c){return r||(r=o),p+=e.slice(u,c).replace(We,mn),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),s&&(i=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),p+="';\n";var g=nt.call(t,"variable")&&t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(i?p.replace(pe,""):p).replace(fe,"$1").replace(me,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var h=lc(function(){return Ve(c,m+"return "+p).apply(o,l)});if(h.source=p,ss(h))throw h;return h},rr.times=function(e,t){if((e=Cs(e))<1||e>S)return[];var n=j,r=Pn(e,j);t=Eo(t),e-=j;for(var a=on(r,t);++n<e;)t(n);return a},rr.toFinite=Os,rr.toInteger=Cs,rr.toLength=xs,rr.toLower=function(e){return Is(e).toLowerCase()},rr.toNumber=Rs,rr.toSafeInteger=function(e){return e?wr(Cs(e),-S,S):0===e?e:0},rr.toString=Is,rr.toUpper=function(e){return Is(e).toUpperCase()},rr.trim=function(e,t,n){if((e=Is(e))&&(n||t===o))return e.replace(Re,"");if(!e||!(t=Ea(t)))return e;var r=yn(e),a=yn(t);return Na(r,un(r,a),dn(r,a)+1).join("")},rr.trimEnd=function(e,t,n){if((e=Is(e))&&(n||t===o))return e.replace(Ie,"");if(!e||!(t=Ea(t)))return e;var r=yn(e);return Na(r,0,dn(r,yn(t))+1).join("")},rr.trimStart=function(e,t,n){if((e=Is(e))&&(n||t===o))return e.replace(Se,"");if(!e||!(t=Ea(t)))return e;var r=yn(e);return Na(r,un(r,yn(t))).join("")},rr.truncate=function(e,t){var n=30,r="...";if(ds(t)){var a="separator"in t?t.separator:a;n="length"in t?Cs(t.length):n,r="omission"in t?Ea(t.omission):r}var i=(e=Is(e)).length;if(gn(e)){var s=yn(e);i=s.length}if(n>=i)return e;var c=n-En(r);if(c<1)return r;var l=s?Na(s,0,c).join(""):e.slice(0,c);if(a===o)return l+r;if(s&&(c+=l.length-c),hs(a)){if(e.slice(c).search(a)){var u,d=l;for(a.global||(a=Qe(a.source,Is(Pe.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var p=u.index;l=l.slice(0,p===o?c:p)}}else if(e.indexOf(Ea(a),c)!=c){var f=l.lastIndexOf(a);f>-1&&(l=l.slice(0,f))}return l+r},rr.unescape=function(e){return(e=Is(e))&&ve.test(e)?e.replace(ge,wn):e},rr.uniqueId=function(e){var t=++rt;return Is(e)+t},rr.upperCase=ic,rr.upperFirst=sc,rr.each=Ii,rr.eachRight=Ti,rr.first=ri,bc(rr,function(){var e={};return Br(rr,function(t,n){nt.call(rr.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),rr.VERSION="4.17.15",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){rr[e].placeholder=rr}),Mt(["drop","take"],function(e,t){sr.prototype[e]=function(n){n=n===o?1:Bn(Cs(n),0);var r=this.__filtered__&&!t?new sr(this):this.clone();return r.__filtered__?r.__takeCount__=Pn(n,r.__takeCount__):r.__views__.push({size:Pn(n,j),type:e+(r.__dir__<0?"Right":"")}),r},sr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Mt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;sr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Eo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Mt(["head","last"],function(e,t){var n="take"+(t?"Right":"");sr.prototype[e]=function(){return this[n](1).value()[0]}}),Mt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");sr.prototype[e]=function(){return this.__filtered__?new sr(this):this[n](1)}}),sr.prototype.compact=function(){return this.filter(mc)},sr.prototype.find=function(e){return this.filter(e).head()},sr.prototype.findLast=function(e){return this.reverse().find(e)},sr.prototype.invokeMap=ua(function(e,t){return"function"==typeof e?new sr(this):this.map(function(n){return Vr(n,e,t)})}),sr.prototype.reject=function(e){return this.filter(Yi(Eo(e)))},sr.prototype.slice=function(e,t){e=Cs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new sr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Cs(t))<0?n.dropRight(-t):n.take(t-e)),n)},sr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},sr.prototype.toArray=function(){return this.take(j)},Br(sr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=rr[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);a&&(rr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof sr,l=s[0],u=c||ts(t),d=function(e){var t=a.apply(rr,Wt([e],s));return r&&p?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var p=this.__chain__,f=!!this.__actions__.length,m=i&&!p,g=c&&!f;if(!i&&u){t=g?t:new sr(this);var h=e.apply(t,s);return h.__actions__.push({func:Oi,args:[d],thisArg:o}),new ir(h,p)}return m&&g?e.apply(this,s):(h=this.thru(d),m?r?h.value()[0]:h.value():h)})}),Mt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Xe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);rr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(ts(a)?a:[],e)}return this[n](function(n){return t.apply(ts(n)?n:[],e)})}}),Br(sr.prototype,function(e,t){var n=rr[t];if(n){var r=n.name+"";nt.call(Qn,r)||(Qn[r]=[]),Qn[r].push({name:t,func:n})}}),Qn[Xa(o,h).name]=[{name:"wrapper",func:o}],sr.prototype.clone=function(){var e=new sr(this.__wrapped__);return e.__actions__=Ua(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ua(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ua(this.__views__),e},sr.prototype.reverse=function(){if(this.__filtered__){var e=new sr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},sr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ts(e),r=t<0,a=n?e.length:0,o=function(e,t,n){for(var r=-1,a=n.length;++r<a;){var o=n[r],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=Pn(t,e+i);break;case"takeRight":e=Bn(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,s=o.end,c=s-i,l=r?s:i-1,u=this.__iteratees__,d=u.length,p=0,f=Pn(c,this.__takeCount__);if(!n||!r&&a==c&&f==c)return Ca(e,this.__actions__);var m=[];e:for(;c--&&p<f;){for(var g=-1,h=e[l+=t];++g<d;){var v=u[g],b=v.iteratee,A=v.type,E=b(h);if(2==A)h=E;else if(!E){if(1==A)continue e;break e}}m[p++]=h}return m},rr.prototype.at=Ci,rr.prototype.chain=function(){return ki(this)},rr.prototype.commit=function(){return new ir(this.value(),this.__chain__)},rr.prototype.next=function(){this.__values__===o&&(this.__values__=ks(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},rr.prototype.plant=function(e){for(var t,n=this;n instanceof or;){var r=Ko(n);r.__index__=0,r.__values__=o,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},rr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof sr){var t=e;return this.__actions__.length&&(t=new sr(this)),(t=t.reverse()).__actions__.push({func:Oi,args:[di],thisArg:o}),new ir(t,this.__chain__)}return this.thru(di)},rr.prototype.toJSON=rr.prototype.valueOf=rr.prototype.value=function(){return Ca(this.__wrapped__,this.__actions__)},rr.prototype.first=rr.prototype.head,Qt&&(rr.prototype[Qt]=function(){return this}),rr}();Ot._=kn,(a=function(){return kn}.call(t,n,t,r))===o||(r.exports=a)}).call(this)}).call(this,n(20),n(19)(e))},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(var o=0;o<a;o++){var i=n[o];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}},function(e,t,n){"use strict";var r=n(17),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var a=f(n);a&&a!==m&&e(t,a,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var s=c(t),g=c(n),h=0;h<i.length;++h){var v=i[h];if(!(o[v]||r&&r[v]||g&&g[v]||s&&s[v])){var b=p(n,v);try{l(t,v,b)}catch(e){}}}}return t}},function(e,t){var n={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},a=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),o=r(function(){return document.head||document.getElementsByTagName("head")[0]}),i=null,s=0,c=[];function l(e,t){for(var r=0;r<e.length;r++){var a=e[r],o=n[a.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](a.parts[i]);for(;i<a.parts.length;i++)o.parts.push(m(a.parts[i],t))}else{var s=[];for(i=0;i<a.parts.length;i++)s.push(m(a.parts[i],t));n[a.id]={id:a.id,refs:1,parts:s}}}}function u(e){for(var t=[],n={},r=0;r<e.length;r++){var a=e[r],o=a[0],i={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(i):t.push(n[o]={id:o,parts:[i]})}return t}function d(e,t){var n=o(),r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function p(e){e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function f(e){var t=document.createElement("style");return t.type="text/css",d(e,t),t}function m(e,t){var n,r,a;if(t.singleton){var o=s++;n=i||(i=f(t)),r=h.bind(null,n,o,!1),a=h.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",d(e,t),t}(t),r=function(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}.bind(null,n),a=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=a()),void 0===t.insertAt&&(t.insertAt="bottom");var r=u(e);return l(r,t),function(e){for(var a=[],o=0;o<r.length;o++){var i=r[o];(s=n[i.id]).refs--,a.push(s)}for(e&&l(u(e),t),o=0;o<a.length;o++){var s;if(0===(s=a[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete n[s.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function h(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([a]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t){e.exports=BlueprintJsSelect},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.i,r,""]]),n(5)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t){e.exports=ReactDOM},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e){e.exports={action:"Action",actionRequired:"Action Requise",add:"Ajouter",all:"Tout",back:"Pr\xe9c\xe9dant",card:"Carte",cancel:"Annuler",change:"Modifier",chips:"Chips",chooseFile:"Choisir fichier...",close:"Fermer",configuration:"Config",confirmPrompt:"Confirmation Requise",content:"Contenu",copy:"Copier",count:"Quantit\xe9",create:"Cr\xe9er",createdOn:"Cr\xe9\xe9 le",delete:"Supprimer",description:"Description",details:"D\xe9tails",duplicate:"Dupliquer",edit:"Modifier",email:"Adresse courriel",enable:"Activer",enabled:"Activ\xe9",error:"Erreur",execute:"Executer",export:"Exporter",flows:"Flows",general:"G\xe9n\xe9ral",id:"ID",image:"Image",import:"Importer",insert:"Ins\xe9rer",label:"\xc9tiquette",library:"Librairie",line:"Ligne",list:"Liste",listen:"\xc9couter",logs:"Journalisation",message:"Message",modifiedOn:"Modifi\xe9 le",move:"D\xe9placer",name:"Nom",never:"Jamais",next:"Suivant",noRowsFound:"Aucun enregistrement trouv\xe9",of:"de",ok:"OK",options:"Options",overwrite:"\xc9craser",page:"Page",paste:"Coller",pattern:"Expression r\xe9guli\xe8re",pictures:"Images",pleaseWait:"Veuillez patienter...",preview:"Aper\xe7u",previous:"Pr\xe9c\xe9dent",redo:"R\xe9tablir",refresh:"Rafra\xeechir",remove:"Retirer",rename:"Renommer",reset:"R\xe9initialiser",router:"Routeur",rows:"lignes",save:"Sauvegarder",saveChanges:"Sauvegarder les modifications",say:"Dire",search:"Rechercher",skills:"Comp\xe9tence",status:"Statut",split:"S\xe9parer",submit:"Soumettre",subtitle:"Sous-titre",text:"Texte",title:"Titre",tools:"Outils",topics:"Sujets",trigger:"D\xe9clencheur",type:"Type",undo:"Annuler",update:"Actualiser",upload:"T\xe9l\xe9verser",usage:"Utilisation"}},function(e){e.exports={action:"Action",actionRequired:"Action Required",add:"Add",all:"All",back:"Back",card:"Card",cancel:"Cancel",change:"Change",chips:"Chips",chooseFile:"Choose file...",close:"Close",configuration:"Config",confirmPrompt:"Confirmation Required",content:"Content",copy:"Copy",count:"Quantit\xe9",create:"Create",createdOn:"Created On",delete:"Delete",description:"Description",details:"Details",duplicate:"Duplicate",edit:"Edit",email:"E-mail",enable:"Enable",enabled:"Enabled",error:"Error",execute:"Execute",export:"Export",flows:"Flows",general:"General",id:"ID",image:"Image",import:"Import",insert:"Insert",label:"Label",library:"Library",line:"Line",list:"List",listen:"Listen",logs:"Logs",message:"Message",modifiedOn:"Modified On",move:"Move",name:"Name",never:"Never",next:"Next",noRowsFound:"No rows found",of:"of",ok:"OK",options:"Options",overwrite:"Overwrite",page:"Page",paste:"Paste",pattern:"Pattern",pictures:"Pictures",pleaseWait:"Please wait...",preview:"Preview",previous:"Previous",redo:"Redo",refresh:"Refresh",remove:"Remove",rename:"Rename",reset:"Reset",router:"Router",rows:"rows",save:"Save",saveChanges:"Save Changes",say:"Say",search:"Search",skills:"Skills",status:"Status",split:"Split",submit:"Submit",subtitle:"Subtitle",text:"Text",title:"Title",tools:"Tools",topics:"Topics",trigger:"Trigger",type:"Type",undo:"Undo",update:"Update",upload:"Upload",usage:"Usage"}},function(e,t,n){var r=n(21);"string"==typeof r&&(r=[[e.i,r,""]]),n(5)(r,{}),r.locals&&(e.exports=r.locals)},function(e,n,l){"use strict";l.r(n);var u,d=l(13),p=l.n(d),f=l(2),m=l.n(f),g=l(0),h=l.n(g);function v(e){return e.type===u.literal}function b(e){return e.type===u.argument}function A(e){return e.type===u.number}function E(e){return e.type===u.date}function y(e){return e.type===u.time}function w(e){return e.type===u.select}function k(e){return e.type===u.plural}function O(e){return e.type===u.pound}function C(e){return!(!e||"object"!=typeof e||0!==e.type)}function x(e){return!(!e||"object"!=typeof e||1!==e.type)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound"}(u||(u={}));var R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},I=function(e){function t(n,r,a,o){var i=e.call(this)||this;return i.message=n,i.expected=r,i.found=a,i.location=o,i.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return R(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function o(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map(function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)});return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+(t?'"'+r(t)+'"':"end of input")+" found."},t}(Error),T=function(e,t){t=void 0!==t?t:{};var n,r={},a={start:lt},o=lt,i=function(e){return e.join("")},s=function(e){return S({type:u.literal,value:e},Nt())},c="#",l=rt("#",!1),d=function(){return S({type:u.pound},Nt())},p=ot("argumentElement"),f="{",m=rt("{",!1),g="}",h=rt("}",!1),v=function(e){return S({type:u.argument,value:e},Nt())},b=ot("numberSkeletonId"),A=/^['\/{}]/,E=at(["'","/","{","}"],!1,!1),y={type:"any"},w=ot("numberSkeletonTokenOption"),k="/",O=rt("/",!1),C=function(e){return e},x=ot("numberSkeletonToken"),R=function(e,t){return{stem:e,options:t}},T=function(e){return S({type:0,tokens:e},Nt())},j="::",N=rt("::",!1),D=function(e){return e},L=function(){return Tt.push("numberArgStyle"),!0},B=function(e){return Tt.pop(),e.replace(/\s*$/,"")},P=",",_=rt(",",!1),M="number",F=rt("number",!1),U=function(e,t,n){return S({type:"number"===t?u.number:"date"===t?u.date:u.time,style:n&&n[2],value:e},Nt())},z="'",q=rt("'",!1),H=/^[^']/,W=at(["'"],!0,!1),V=/^[^a-zA-Z'{}]/,Y=at([["a","z"],["A","Z"],"'","{","}"],!0,!1),Z=/^[a-zA-Z]/,Q=at([["a","z"],["A","Z"]],!1,!1),G=function(e){return S({type:1,pattern:e},Nt())},K=function(){return Tt.push("dateOrTimeArgStyle"),!0},X="date",J=rt("date",!1),$="time",ee=rt("time",!1),te="plural",ne=rt("plural",!1),re="selectordinal",ae=rt("selectordinal",!1),oe="offset:",ie=rt("offset:",!1),se=function(e,t,n,r){return S({type:u.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:n?n[2]:0,options:r.reduce(function(e,t){var n=t.id,r=t.value,a=t.location;return n in e&&nt('Duplicate option "'+n+'" in plural element: "'+et()+'"',tt()),e[n]={value:r,location:a},e},{})},Nt())},ce="select",le=rt("select",!1),ue=function(e,t){return S({type:u.select,value:e,options:t.reduce(function(e,t){var n=t.id,r=t.value,a=t.location;return n in e&&nt('Duplicate option "'+n+'" in select element: "'+et()+'"',tt()),e[n]={value:r,location:a},e},{})},Nt())},de="=",pe=rt("=",!1),fe=function(e){return Tt.push("select"),!0},me=function(e,t){return Tt.pop(),S({id:e,value:t},Nt())},ge=function(e){return Tt.push("plural"),!0},he=function(e,t){return Tt.pop(),S({id:e,value:t},Nt())},ve=ot("whitespace"),be=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Ae=at([["\t","\r"]," ","\x85","\xa0","\u1680",["\u2000","\u200a"],"\u2028","\u2029","\u202f","\u205f","\u3000"],!1,!1),Ee=ot("syntax pattern"),ye=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,we=at([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xa1","\xa7"],"\xa9","\xab","\xac","\xae","\xb0","\xb1","\xb6","\xbb","\xbf","\xd7","\xf7",["\u2010","\u2027"],["\u2030","\u203e"],["\u2041","\u2053"],["\u2055","\u205e"],["\u2190","\u245f"],["\u2500","\u2775"],["\u2794","\u2bff"],["\u2e00","\u2e7f"],["\u3001","\u3003"],["\u3008","\u3020"],"\u3030","\ufd3e","\ufd3f","\ufe45","\ufe46"],!1,!1),ke=ot("optional whitespace"),Oe=ot("number"),Ce="-",xe=rt("-",!1),Re=function(e,t){return t?e?-t:t:0},Se=(ot("apostrophe"),ot("double apostrophes")),Ie="''",Te=rt("''",!1),je=function(){return"'"},Ne=function(e,t){return e+t.replace("''","'")},De=function(e){return!("{"===e||jt()&&"#"===e||Tt.length>1&&"}"===e)},Le="\n",Be=rt("\n",!1),Pe=function(e){return"{"===e||"}"===e||jt()&&"#"===e},_e=ot("argNameOrNumber"),Me=ot("argNumber"),Fe="0",Ue=rt("0",!1),ze=function(){return 0},qe=/^[1-9]/,He=at([["1","9"]],!1,!1),We=/^[0-9]/,Ve=at([["0","9"]],!1,!1),Ye=function(e){return parseInt(e.join(""),10)},Ze=ot("argName"),Qe=0,Ge=0,Ke=[{line:1,column:1}],Xe=0,Je=[],$e=0;if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=a[t.startRule]}function et(){return e.substring(Ge,Qe)}function tt(){return st(Ge,Qe)}function nt(e,t){throw function(e,t){return new I(e,[],"",t)}(e,t=void 0!==t?t:st(Ge,Qe))}function rt(e,t){return{type:"literal",text:e,ignoreCase:t}}function at(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ot(e){return{type:"other",description:e}}function it(t){var n,r=Ke[t];if(r)return r;for(n=t-1;!Ke[n];)n--;for(r={line:(r=Ke[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Ke[t]=r,r}function st(e,t){var n=it(e),r=it(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function ct(e){Qe<Xe||(Qe>Xe&&(Xe=Qe,Je=[]),Je.push(e))}function lt(){return ut()}function ut(){var e,t;for(e=[],t=dt();t!==r;)e.push(t),t=dt();return e}function dt(){var t;return(t=function(){var e,t;return e=Qe,(t=pt())!==r&&(Ge=e,t=s(t)),t}())===r&&(t=function(){var t,n,a,o;return $e++,t=Qe,123===e.charCodeAt(Qe)?(n=f,Qe++):(n=r,0===$e&&ct(m)),n!==r&&wt()!==r&&(a=Rt())!==r&&wt()!==r?(125===e.charCodeAt(Qe)?(o=g,Qe++):(o=r,0===$e&&ct(h)),o!==r?(Ge=t,t=n=v(a)):(Qe=t,t=r)):(Qe=t,t=r),$e--,t===r&&(n=r,0===$e&&ct(p)),t}())===r&&(t=function(){var t;return(t=function(){var t,n,a,o,i,s,c,l,u;return t=Qe,123===e.charCodeAt(Qe)?(n=f,Qe++):(n=r,0===$e&&ct(m)),n!==r&&wt()!==r&&(a=Rt())!==r&&wt()!==r?(44===e.charCodeAt(Qe)?(o=P,Qe++):(o=r,0===$e&&ct(_)),o!==r&&wt()!==r?(e.substr(Qe,6)===M?(i=M,Qe+=6):(i=r,0===$e&&ct(F)),i!==r&&wt()!==r?(s=Qe,44===e.charCodeAt(Qe)?(c=P,Qe++):(c=r,0===$e&&ct(_)),c!==r&&(l=wt())!==r&&(u=function(){var t,n,a;return t=Qe,e.substr(Qe,2)===j?(n=j,Qe+=2):(n=r,0===$e&&ct(N)),n!==r&&(a=function(){var e,t,n;if(e=Qe,t=[],(n=gt())!==r)for(;n!==r;)t.push(n),n=gt();else t=r;return t!==r&&(Ge=e,t=T(t)),t}())!==r?(Ge=t,t=n=D(a)):(Qe=t,t=r),t===r&&(t=Qe,Ge=Qe,(n=(n=L())?void 0:r)!==r&&(a=pt())!==r?(Ge=t,t=n=B(a)):(Qe=t,t=r)),t}())!==r?s=c=[c,l,u]:(Qe=s,s=r),s===r&&(s=null),s!==r&&(c=wt())!==r?(125===e.charCodeAt(Qe)?(l=g,Qe++):(l=r,0===$e&&ct(h)),l!==r?(Ge=t,t=n=U(a,i,s)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r),t}())===r&&(t=function(){var t,n,a,o,i,s,c,l,u;return t=Qe,123===e.charCodeAt(Qe)?(n=f,Qe++):(n=r,0===$e&&ct(m)),n!==r&&wt()!==r&&(a=Rt())!==r&&wt()!==r?(44===e.charCodeAt(Qe)?(o=P,Qe++):(o=r,0===$e&&ct(_)),o!==r&&wt()!==r?(e.substr(Qe,4)===X?(i=X,Qe+=4):(i=r,0===$e&&ct(J)),i===r&&(e.substr(Qe,4)===$?(i=$,Qe+=4):(i=r,0===$e&&ct(ee))),i!==r&&wt()!==r?(s=Qe,44===e.charCodeAt(Qe)?(c=P,Qe++):(c=r,0===$e&&ct(_)),c!==r&&(l=wt())!==r&&(u=function(){var t,n,a;return t=Qe,e.substr(Qe,2)===j?(n=j,Qe+=2):(n=r,0===$e&&ct(N)),n!==r&&(a=function(){var t,n,a,o;if(t=Qe,n=Qe,a=[],(o=ht())===r&&(o=vt()),o!==r)for(;o!==r;)a.push(o),(o=ht())===r&&(o=vt());else a=r;return(n=a!==r?e.substring(n,Qe):a)!==r&&(Ge=t,n=G(n)),n}())!==r?(Ge=t,t=n=D(a)):(Qe=t,t=r),t===r&&(t=Qe,Ge=Qe,(n=(n=K())?void 0:r)!==r&&(a=pt())!==r?(Ge=t,t=n=B(a)):(Qe=t,t=r)),t}())!==r?s=c=[c,l,u]:(Qe=s,s=r),s===r&&(s=null),s!==r&&(c=wt())!==r?(125===e.charCodeAt(Qe)?(l=g,Qe++):(l=r,0===$e&&ct(h)),l!==r?(Ge=t,t=n=U(a,i,s)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r),t}()),t}())===r&&(t=function(){var t,n,a,o,i,s,c,l,u,d,p;if(t=Qe,123===e.charCodeAt(Qe)?(n=f,Qe++):(n=r,0===$e&&ct(m)),n!==r)if(wt()!==r)if((a=Rt())!==r)if(wt()!==r)if(44===e.charCodeAt(Qe)?(o=P,Qe++):(o=r,0===$e&&ct(_)),o!==r)if(wt()!==r)if(e.substr(Qe,6)===te?(i=te,Qe+=6):(i=r,0===$e&&ct(ne)),i===r&&(e.substr(Qe,13)===re?(i=re,Qe+=13):(i=r,0===$e&&ct(ae))),i!==r)if(wt()!==r)if(44===e.charCodeAt(Qe)?(s=P,Qe++):(s=r,0===$e&&ct(_)),s!==r)if(wt()!==r)if(c=Qe,e.substr(Qe,7)===oe?(l=oe,Qe+=7):(l=r,0===$e&&ct(ie)),l!==r&&(u=wt())!==r&&(d=kt())!==r?c=l=[l,u,d]:(Qe=c,c=r),c===r&&(c=null),c!==r)if((l=wt())!==r){if(u=[],(d=At())!==r)for(;d!==r;)u.push(d),d=At();else u=r;u!==r&&(d=wt())!==r?(125===e.charCodeAt(Qe)?(p=g,Qe++):(p=r,0===$e&&ct(h)),p!==r?(Ge=t,t=n=se(a,i,c,u)):(Qe=t,t=r)):(Qe=t,t=r)}else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;return t}())===r&&(t=function(){var t,n,a,o,i,s,c,l,u;if(t=Qe,123===e.charCodeAt(Qe)?(n=f,Qe++):(n=r,0===$e&&ct(m)),n!==r)if(wt()!==r)if((a=Rt())!==r)if(wt()!==r)if(44===e.charCodeAt(Qe)?(o=P,Qe++):(o=r,0===$e&&ct(_)),o!==r)if(wt()!==r)if(e.substr(Qe,6)===ce?(i=ce,Qe+=6):(i=r,0===$e&&ct(le)),i!==r)if(wt()!==r)if(44===e.charCodeAt(Qe)?(s=P,Qe++):(s=r,0===$e&&ct(_)),s!==r)if(wt()!==r){if(c=[],(l=bt())!==r)for(;l!==r;)c.push(l),l=bt();else c=r;c!==r&&(l=wt())!==r?(125===e.charCodeAt(Qe)?(u=g,Qe++):(u=r,0===$e&&ct(h)),u!==r?(Ge=t,t=n=ue(a,c)):(Qe=t,t=r)):(Qe=t,t=r)}else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;else Qe=t,t=r;return t}())===r&&(t=function(){var t,n;return t=Qe,35===e.charCodeAt(Qe)?(n=c,Qe++):(n=r,0===$e&&ct(l)),n!==r&&(Ge=t,n=d()),n}()),t}function pt(){var e,t,n;if(e=Qe,t=[],(n=Ot())===r&&(n=Ct())===r&&(n=xt()),n!==r)for(;n!==r;)t.push(n),(n=Ot())===r&&(n=Ct())===r&&(n=xt());else t=r;return t!==r&&(Ge=e,t=i(t)),t}function ft(){var t,n,a,o,i;if($e++,t=Qe,n=[],a=Qe,o=Qe,$e++,(i=Et())===r&&(A.test(e.charAt(Qe))?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(E))),$e--,i===r?o=void 0:(Qe=o,o=r),o!==r?(e.length>Qe?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(y)),i!==r?a=o=[o,i]:(Qe=a,a=r)):(Qe=a,a=r),a!==r)for(;a!==r;)n.push(a),a=Qe,o=Qe,$e++,(i=Et())===r&&(A.test(e.charAt(Qe))?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(E))),$e--,i===r?o=void 0:(Qe=o,o=r),o!==r?(e.length>Qe?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(y)),i!==r?a=o=[o,i]:(Qe=a,a=r)):(Qe=a,a=r);else n=r;return t=n!==r?e.substring(t,Qe):n,$e--,t===r&&(n=r,0===$e&&ct(b)),t}function mt(){var t,n,a;return $e++,t=Qe,47===e.charCodeAt(Qe)?(n=k,Qe++):(n=r,0===$e&&ct(O)),n!==r&&(a=ft())!==r?(Ge=t,t=n=C(a)):(Qe=t,t=r),$e--,t===r&&(n=r,0===$e&&ct(w)),t}function gt(){var e,t,n,a;if($e++,e=Qe,wt()!==r)if((t=ft())!==r){for(n=[],a=mt();a!==r;)n.push(a),a=mt();n!==r?(Ge=e,e=R(t,n)):(Qe=e,e=r)}else Qe=e,e=r;else Qe=e,e=r;return $e--,e===r&&0===$e&&ct(x),e}function ht(){var t,n,a,o;if(t=Qe,39===e.charCodeAt(Qe)?(n=z,Qe++):(n=r,0===$e&&ct(q)),n!==r){if(a=[],(o=Ot())===r&&(H.test(e.charAt(Qe))?(o=e.charAt(Qe),Qe++):(o=r,0===$e&&ct(W))),o!==r)for(;o!==r;)a.push(o),(o=Ot())===r&&(H.test(e.charAt(Qe))?(o=e.charAt(Qe),Qe++):(o=r,0===$e&&ct(W)));else a=r;a!==r?(39===e.charCodeAt(Qe)?(o=z,Qe++):(o=r,0===$e&&ct(q)),o!==r?t=n=[n,a,o]:(Qe=t,t=r)):(Qe=t,t=r)}else Qe=t,t=r;if(t===r)if(t=[],(n=Ot())===r&&(V.test(e.charAt(Qe))?(n=e.charAt(Qe),Qe++):(n=r,0===$e&&ct(Y))),n!==r)for(;n!==r;)t.push(n),(n=Ot())===r&&(V.test(e.charAt(Qe))?(n=e.charAt(Qe),Qe++):(n=r,0===$e&&ct(Y)));else t=r;return t}function vt(){var t,n;if(t=[],Z.test(e.charAt(Qe))?(n=e.charAt(Qe),Qe++):(n=r,0===$e&&ct(Q)),n!==r)for(;n!==r;)t.push(n),Z.test(e.charAt(Qe))?(n=e.charAt(Qe),Qe++):(n=r,0===$e&&ct(Q));else t=r;return t}function bt(){var t,n,a,o,i;return t=Qe,wt()!==r&&(n=It())!==r&&wt()!==r?(123===e.charCodeAt(Qe)?(a=f,Qe++):(a=r,0===$e&&ct(m)),a!==r?(Ge=Qe,(fe(n)?void 0:r)!==r&&(o=ut())!==r?(125===e.charCodeAt(Qe)?(i=g,Qe++):(i=r,0===$e&&ct(h)),i!==r?(Ge=t,t=me(n,o)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r),t}function At(){var t,n,a,o,i;return t=Qe,wt()!==r&&(n=function(){var t,n,a,o;return t=Qe,n=Qe,61===e.charCodeAt(Qe)?(a=de,Qe++):(a=r,0===$e&&ct(pe)),a!==r&&(o=kt())!==r?n=a=[a,o]:(Qe=n,n=r),(t=n!==r?e.substring(t,Qe):n)===r&&(t=It()),t}())!==r&&wt()!==r?(123===e.charCodeAt(Qe)?(a=f,Qe++):(a=r,0===$e&&ct(m)),a!==r?(Ge=Qe,(ge(n)?void 0:r)!==r&&(o=ut())!==r?(125===e.charCodeAt(Qe)?(i=g,Qe++):(i=r,0===$e&&ct(h)),i!==r?(Ge=t,t=he(n,o)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r)):(Qe=t,t=r),t}function Et(){var t;return $e++,be.test(e.charAt(Qe))?(t=e.charAt(Qe),Qe++):(t=r,0===$e&&ct(Ae)),$e--,t===r&&0===$e&&ct(ve),t}function yt(){var t;return $e++,ye.test(e.charAt(Qe))?(t=e.charAt(Qe),Qe++):(t=r,0===$e&&ct(we)),$e--,t===r&&0===$e&&ct(Ee),t}function wt(){var t,n,a;for($e++,t=Qe,n=[],a=Et();a!==r;)n.push(a),a=Et();return t=n!==r?e.substring(t,Qe):n,$e--,t===r&&(n=r,0===$e&&ct(ke)),t}function kt(){var t,n,a;return $e++,t=Qe,45===e.charCodeAt(Qe)?(n=Ce,Qe++):(n=r,0===$e&&ct(xe)),n===r&&(n=null),n!==r&&(a=St())!==r?(Ge=t,t=n=Re(n,a)):(Qe=t,t=r),$e--,t===r&&(n=r,0===$e&&ct(Oe)),t}function Ot(){var t,n;return $e++,t=Qe,e.substr(Qe,2)===Ie?(n=Ie,Qe+=2):(n=r,0===$e&&ct(Te)),n!==r&&(Ge=t,n=je()),$e--,(t=n)===r&&(n=r,0===$e&&ct(Se)),t}function Ct(){var t,n,a,o,i,s;if(t=Qe,39===e.charCodeAt(Qe)?(n=z,Qe++):(n=r,0===$e&&ct(q)),n!==r)if((a=function(){var t,n,a,o;return t=Qe,n=Qe,e.length>Qe?(a=e.charAt(Qe),Qe++):(a=r,0===$e&&ct(y)),a!==r?(Ge=Qe,(o=(o=Pe(a))?void 0:r)!==r?n=a=[a,o]:(Qe=n,n=r)):(Qe=n,n=r),n!==r?e.substring(t,Qe):n}())!==r){for(o=Qe,i=[],e.substr(Qe,2)===Ie?(s=Ie,Qe+=2):(s=r,0===$e&&ct(Te)),s===r&&(H.test(e.charAt(Qe))?(s=e.charAt(Qe),Qe++):(s=r,0===$e&&ct(W)));s!==r;)i.push(s),e.substr(Qe,2)===Ie?(s=Ie,Qe+=2):(s=r,0===$e&&ct(Te)),s===r&&(H.test(e.charAt(Qe))?(s=e.charAt(Qe),Qe++):(s=r,0===$e&&ct(W)));(o=i!==r?e.substring(o,Qe):i)!==r?(39===e.charCodeAt(Qe)?(i=z,Qe++):(i=r,0===$e&&ct(q)),i===r&&(i=null),i!==r?(Ge=t,t=n=Ne(a,o)):(Qe=t,t=r)):(Qe=t,t=r)}else Qe=t,t=r;else Qe=t,t=r;return t}function xt(){var t,n,a,o;return t=Qe,n=Qe,e.length>Qe?(a=e.charAt(Qe),Qe++):(a=r,0===$e&&ct(y)),a!==r?(Ge=Qe,(o=(o=De(a))?void 0:r)!==r?n=a=[a,o]:(Qe=n,n=r)):(Qe=n,n=r),n===r&&(10===e.charCodeAt(Qe)?(n=Le,Qe++):(n=r,0===$e&&ct(Be))),n!==r?e.substring(t,Qe):n}function Rt(){var t,n;return $e++,t=Qe,(n=St())===r&&(n=It()),t=n!==r?e.substring(t,Qe):n,$e--,t===r&&(n=r,0===$e&&ct(_e)),t}function St(){var t,n,a,o,i;if($e++,t=Qe,48===e.charCodeAt(Qe)?(n=Fe,Qe++):(n=r,0===$e&&ct(Ue)),n!==r&&(Ge=t,n=ze()),(t=n)===r){if(t=Qe,n=Qe,qe.test(e.charAt(Qe))?(a=e.charAt(Qe),Qe++):(a=r,0===$e&&ct(He)),a!==r){for(o=[],We.test(e.charAt(Qe))?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(Ve));i!==r;)o.push(i),We.test(e.charAt(Qe))?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(Ve));o!==r?n=a=[a,o]:(Qe=n,n=r)}else Qe=n,n=r;n!==r&&(Ge=t,n=Ye(n)),t=n}return $e--,t===r&&(n=r,0===$e&&ct(Me)),t}function It(){var t,n,a,o,i;if($e++,t=Qe,n=[],a=Qe,o=Qe,$e++,(i=Et())===r&&(i=yt()),$e--,i===r?o=void 0:(Qe=o,o=r),o!==r?(e.length>Qe?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(y)),i!==r?a=o=[o,i]:(Qe=a,a=r)):(Qe=a,a=r),a!==r)for(;a!==r;)n.push(a),a=Qe,o=Qe,$e++,(i=Et())===r&&(i=yt()),$e--,i===r?o=void 0:(Qe=o,o=r),o!==r?(e.length>Qe?(i=e.charAt(Qe),Qe++):(i=r,0===$e&&ct(y)),i!==r?a=o=[o,i]:(Qe=a,a=r)):(Qe=a,a=r);else n=r;return t=n!==r?e.substring(t,Qe):n,$e--,t===r&&(n=r,0===$e&&ct(Ze)),t}var Tt=["root"];function jt(){return"plural"===Tt[Tt.length-1]}function Nt(){return t&&t.captureLocation?{location:tt()}:{}}if((n=o())!==r&&Qe===e.length)return n;throw n!==r&&Qe<e.length&&ct({type:"end"}),function(e,t,n){return new I(I.buildMessage(e,t),e,t,n)}(Je,Xe<e.length?e.charAt(Xe):null,Xe<e.length?st(Xe,Xe+1):st(Xe,Xe))},j=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r},N=/(^|[^\\])#/g;function D(e,t){var n=T(e,t);return t&&!1===t.normalizeHashtagInPlural||function e(t){t.forEach(function(t){(k(t)||w(t))&&Object.keys(t.options).forEach(function(n){for(var r,a=t.options[n],o=-1,i=void 0,s=0;s<a.value.length;s++){var c=a.value[s];if(v(c)&&N.test(c.value)){o=s,i=c;break}}if(i){var l=i.value.replace(N,"$1{"+t.value+", number}"),u=T(l);(r=a.value).splice.apply(r,j([o,1],u))}e(a.value)})})}(n),n}var L=function(e,t){return void 0===t&&(t={}),function(){for(var n,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=function(e){return JSON.stringify(e.map(function(e){return e&&"object"==typeof e?function(e){return Object.keys(e).sort().map(function(t){var n;return(n={})[t]=e[t],n})}(e):e}))}(r),i=o&&t[o];return i||(i=new((n=e).bind.apply(n,function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r}([void 0],r))),o&&(t[o]=i)),i}},B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},P=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function _(e){var t={};return e.replace(P,function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""}),t}function M(e){return e.replace(/^(.*?)-/,"")}var F=/^\.(?:(0+)(\+|#+)?)?$/g,U=/^(@+)?(\+|#+)?$/g;function z(e){var t={};return e.replace(U,function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""}),t}function q(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function H(e){return q(e)||{}}function W(e){for(var t={},n=0,r=e;n<r.length;n++){var a=r[n];switch(a.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=M(a.options[0]);continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=B(B(B({},t),{notation:"scientific"}),a.options.reduce(function(e,t){return B(B({},e),H(t))},{}));continue;case"engineering":t=B(B(B({},t),{notation:"engineering"}),a.options.reduce(function(e,t){return B(B({},e),H(t))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(F.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(F,function(e,n,r){return"."===e?t.maximumFractionDigits=0:"+"===r?t.minimumFractionDigits=r.length:"#"===n[0]?t.maximumFractionDigits=n.length:(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length+("string"==typeof r?r.length:0)),""}),a.options.length&&(t=B(B({},t),z(a.options[0])))}else if(U.test(a.stem))t=B(B({},t),z(a.stem));else{var o=q(a.stem);o&&(t=B(B({},t),o))}}return t}var V,Y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r},Q=function(e){function t(t,n){var r=e.call(this,t)||this;return r.variableId=n,r}return Y(t,e),t}(Error);function G(e,t,n,r,a,o,i){if(1===e.length&&v(e[0]))return[{type:0,value:e[0].value}];for(var s=[],c=0,l=e;c<l.length;c++){var u=l[c];if(v(u))s.push({type:0,value:u.value});else if(O(u))"number"==typeof o&&s.push({type:0,value:n.getNumberFormat(t).format(o)});else{var d=u.value;if(!(a&&d in a))throw new Q('The intl string context variable "'+d+'" was not provided to the string "'+i+'"');var p=a[d];if(b(u))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),s.push({type:1,value:p});else if(E(u)){var f="string"==typeof u.style?r.date[u.style]:void 0;s.push({type:0,value:n.getDateTimeFormat(t,f).format(p)})}else if(y(u))f="string"==typeof u.style?r.time[u.style]:x(u.style)?_(u.style.pattern):void 0,s.push({type:0,value:n.getDateTimeFormat(t,f).format(p)});else if(A(u))f="string"==typeof u.style?r.number[u.style]:C(u.style)?W(u.style.tokens):void 0,s.push({type:0,value:n.getNumberFormat(t,f).format(p)});else if(w(u)){if(!(m=u.options[p]||u.options.other))throw new RangeError('Invalid values for "'+u.value+'": "'+p+'". Options are "'+Object.keys(u.options).join('", "')+'"');s.push.apply(s,G(m.value,t,n,r,a))}else if(k(u)){var m;if(!(m=u.options["="+p])){if(!Intl.PluralRules)throw new Q('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n');var g=n.getPluralRules(t,{type:u.pluralType}).select(p-(u.offset||0));m=u.options[g]||u.options.other}if(!m)throw new RangeError('Invalid values for "'+u.value+'": "'+p+'". Options are "'+Object.keys(u.options).join('", "')+'"');s.push.apply(s,G(m.value,t,n,r,a,p-(u.offset||0)))}}}return function(e){return e.length<2?e:e.reduce(function(e,t){var n=e[e.length-1];return n&&0===n.type&&0===t.type?n.value+=t.value:e.push(t),e},[])}(s)}var K="@@",X=/@@(\d+_\d+)@@/g,J=0;function $(e,t){return e.split(X).filter(Boolean).map(function(e){return null!=t[e]?t[e]:e}).reduce(function(e,t){return e.length&&"string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e},[])}var ee=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,te=Date.now()+"@@",ne=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];var re=function(){return(re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var ae=function(){function e(t,n,r,a){var o=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){return function(e,t,n,r,a,o){var i=G(e,t,n,r,a,void 0,o);return 1===i.length?i[0].value:i.reduce(function(e,t){return e+t.value},"")}(o.ast,o.locales,o.formatters,o.formats,e,o.message)},this.formatToParts=function(e){return G(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.formatHTMLMessage=function(e){return function(e,t,n,r,a,o){var i={},s=G(e,t,n,r,a,void 0,o).reduce(function(e,t){if(0===t.type)return e+t.value;var n=Date.now()+"_"+ ++J;return i[n]=t.value,e+""+K+n+K},"");if(!ee.test(s))return $(s,i);if(!a)throw new Q("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new Q("Cannot format XML message without DOMParser");V||(V=new DOMParser);var c=V.parseFromString('<formatted-message id="'+te+'">'+s+"</formatted-message>","text/html").getElementById(te);if(!c)throw new Q("Malformed HTML message "+s);var l=Object.keys(a).filter(function(e){return!!c.getElementsByTagName(e).length});if(!l.length)return $(s,i);var u=l.filter(function(e){return e!==e.toLowerCase()});if(u.length)throw new Q("HTML tag must be lowercased but the following tags are not: "+u.join(", "));return Array.prototype.slice.call(c.childNodes).reduce(function(e,t){return e.concat(function e(t,n,r){var a=t.tagName,o=t.outerHTML,i=t.textContent,s=t.childNodes;if(!a)return $(i||"",n);a=a.toLowerCase();var c=~ne.indexOf(a),l=r[a];if(l&&c)throw new Q(a+" is a self-closing tag and can not be used, please use another tag name.");if(!s.length)return[o];var u=Array.prototype.slice.call(s).reduce(function(t,a){return t.concat(e(a,n,r))},[]);return l?"function"==typeof l?[l.apply(void 0,u)]:[l]:Z(["<"+a+">"],u,["</"+a+">"])}(t,i,a))},[])}(o.ast,o.locales,o.formatters,o.formats,e,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=function(e,t){return t?Object.keys(e).reduce(function(n,r){return n[r]=function(e,t){return t?re(re(re({},e||{}),t||{}),Object.keys(e).reduce(function(n,r){return n[r]=re(re({},e[r]),t[r]||{}),n},{})):e}(e[r],t[r]),n},re({},e)):e}(e.formats,r),this.locales=n,this.formatters=a&&a.formatters||function(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:L(Intl.NumberFormat,e.number),getDateTimeFormat:L(Intl.DateTimeFormat,e.dateTime),getPluralRules:L(Intl.PluralRules,e.pluralRules)}}(this.formatterCache)}return e.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,e.__parse=D,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();function oe(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}var ie={38:"&amp;",62:"&gt;",60:"&lt;",34:"&quot;",39:"&#x27;"},se=/[&><"']/g;function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t},{})}function le(e,t){return"[React Intl] ".concat(e).concat(t?"\n".concat(t.stack):"")}var ue={formats:{},messages:{},timeZone:void 0,textComponent:g.Fragment,defaultLocale:"en",defaultFormats:{},onError:function(e){}};function de(e,t,n,r){var a,o=e&&e[t];if(o&&(a=o[n]),a)return a;r(le("No ".concat(t," format named: ").concat(n)))}var pe=l(4);l.n(pe).a;var fe=g.createContext(null),me=(fe.Consumer,fe.Provider),ge=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function he(e,t){var n=e.locale,r=e.formats,a=e.onError,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.format,s=i&&de(r,"number",i,a)||{};return t(n,ce(o,ge,s))}var ve=["numeric","style"];function be(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r||(r="second"),Intl.RelativeTimeFormat||e.onError(le('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n'));try{return function(e,t){var n=e.locale,r=e.formats,a=e.onError,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.format,s=!!i&&de(r,"relative",i,a)||{};return t(n,ce(o,ve,s))}(e,t,a).format(n,r)}catch(t){e.onError(le("Error formatting relative time.",t))}return String(n)}var Ae=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ee(e,t,n){var r=e.locale,a=e.formats,o=e.onError,i=e.timeZone,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=s.format,l=Object.assign(Object.assign({},i&&{timeZone:i}),c&&de(a,t,c,o)),u=ce(s,Ae,l);return"time"!==t||u.hour||u.minute||u.second||(u=Object.assign(Object.assign({},u),{hour:"numeric",minute:"numeric"})),n(r,u)}var ye=["localeMatcher","type"];function we(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=Object.assign({timeZone:t},e[r]),n},{})}function ke(e,t){return Object.keys(Object.assign(Object.assign({},e),t)).reduce(function(n,r){return n[r]=Object.assign(Object.assign({},e[r]||{}),t[r]||{}),n},{})}function Oe(e,t){if(!t)return e;var n=ae.formats;return Object.assign(Object.assign(Object.assign({},n),e),{date:ke(we(n.date,t),we(e.date||{},t)),time:ke(we(n.time,t),we(e.time||{},t))})}var Ce=function(e){return g.createElement.apply(g,[g.Fragment,null].concat(c(e)))};function xe(e,t){var n=e.locale,r=e.formats,a=e.messages,o=e.defaultLocale,i=e.defaultFormats,s=e.onError,c=e.timeZone,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:""},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=l.id,p=l.defaultMessage;oe(!!d,"[React Intl] An `id` must be provided to format a message.");var f=a&&a[String(d)];r=Oe(r,c),i=Oe(i,c);var m=[];if(f)try{m=t.getMessageFormat(f,n,r,{formatters:t}).formatHTMLMessage(u)}catch(r){s(le('Error formatting message: "'.concat(d,'" for locale: "').concat(n,'"')+(p?", using default message as fallback.":""),r))}else(!p||n&&n.toLowerCase()!==o.toLowerCase())&&s(le('Missing message: "'.concat(d,'" for locale: "').concat(n,'"')+(p?", using default message as fallback.":"")));if(!m.length&&p)try{m=t.getMessageFormat(p,o,i).formatHTMLMessage(u)}catch(n){s(le('Error formatting the default message for: "'.concat(d,'"'),n))}return m.length?1===m.length&&"string"==typeof m[0]?m[0]||p||String(d):Ce(m):(s(le('Cannot format message: "'.concat(d,'", ')+"using message ".concat(f||p?"source":"id"," as fallback."))),"string"==typeof f?f||p||String(d):p||String(d))}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:""},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xe(e,t,n,Object.keys(r).reduce(function(e,t){var n=r[t];return e[t]="string"==typeof n?(""+n).replace(se,function(e){return ie[e.charCodeAt(0)]}):n,e},{}))}var Se=l(3),Ie=l.n(Se),Te=["localeMatcher","type","style"],je=Date.now();function Ne(e,t,n){var r=e.locale,a=e.onError,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Intl.ListFormat||a(le('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n'));var i=ce(o,Te);try{var s={},c=n.map(function(e,t){if("object"==typeof e){var n=function(e){return"".concat(je,"_").concat(e,"_").concat(je)}(t);return s[n]=e,n}return String(e)});return Object.keys(s).length?t(r,i).formatToParts(c).reduce(function(e,t){var n=t.value;return s[n]?e.push(s[n]):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e},[]):t(r,i).format(c)}catch(r){a(le("Error formatting list.",r))}return n}var De=["localeMatcher","style","type","fallback"],Le=Ie.a||Se;function Be(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError}}function Pe(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames;return{getDateTimeFormat:L(Intl.DateTimeFormat,e.dateTime),getNumberFormat:L(Intl.NumberFormat,e.number),getMessageFormat:L(ae,e.message),getRelativeTimeFormat:L(t,e.relativeTime),getPluralRules:L(Intl.PluralRules,e.pluralRules),getListFormat:L(n,e.list),getDisplayNames:L(r,e.displayNames)}}(t),r=Object.assign(Object.assign({},ue),e),a=r.locale,o=r.defaultLocale,i=r.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&i?i(le('Missing locale data for locale: "'.concat(a,'" in Intl.NumberFormat. Using default locale: "').concat(o,'" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&i&&i(le('Missing locale data for locale: "'.concat(a,'" in Intl.DateTimeFormat. Using default locale: "').concat(o,'" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details'))):(i&&i(le('"locale" was not configured, using "'.concat(o,'" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/API.md#intlshape for more details'))),r.locale=r.defaultLocale||"en"),Object.assign(Object.assign({},r),{formatters:n,formatNumber:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{return he(e,t,r).format(n)}catch(t){e.onError(le("Error formatting number.",t))}return String(n)}.bind(null,r,n.getNumberFormat),formatNumberToParts:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{return he(e,t,r).formatToParts(n)}catch(t){e.onError(le("Error formatting number.",t))}return[]}.bind(null,r,n.getNumberFormat),formatRelativeTime:be.bind(null,r,n.getRelativeTimeFormat),formatDate:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="string"==typeof n?new Date(n||0):n;try{return Ee(e,"date",t,r).format(a)}catch(t){e.onError(le("Error formatting date.",t))}return String(a)}.bind(null,r,n.getDateTimeFormat),formatDateToParts:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="string"==typeof n?new Date(n||0):n;try{return Ee(e,"date",t,r).formatToParts(a)}catch(t){e.onError(le("Error formatting date.",t))}return[]}.bind(null,r,n.getDateTimeFormat),formatTime:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="string"==typeof n?new Date(n||0):n;try{return Ee(e,"time",t,r).format(a)}catch(t){e.onError(le("Error formatting time.",t))}return String(a)}.bind(null,r,n.getDateTimeFormat),formatTimeToParts:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="string"==typeof n?new Date(n||0):n;try{return Ee(e,"time",t,r).formatToParts(a)}catch(t){e.onError(le("Error formatting time.",t))}return[]}.bind(null,r,n.getDateTimeFormat),formatPlural:function(e,t,n){var r=e.locale,a=e.onError,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Intl.PluralRules||a(le('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n'));var i=ce(o,ye);try{return t(r,i).select(n)}catch(r){a(le("Error formatting plural.",r))}return"other"}.bind(null,r,n.getPluralRules),formatMessage:xe.bind(null,r,n),formatHTMLMessage:Re.bind(null,r,n),formatList:Ne.bind(null,r,n.getListFormat),formatDisplayName:function(e,t,n){var r=e.locale,a=e.onError,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Intl.DisplayNames||a(le('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n'));var i=ce(o,De);try{return t(r,i).of(n)}catch(r){a(le("Error formatting display name.",r))}}.bind(null,r,n.getDisplayNames)})}var _e=function(e){function t(){var e;return r(this,t),(e=o(this,i(t).apply(this,arguments))).cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},e.state={cache:e.cache,intl:Pe(Be(e.props),e.cache),prevConfig:Be(e.props)},e}return s(t,e),a(t,[{key:"render",value:function(){return oe(this.state.intl,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry."),g.createElement(me,{value:this.state.intl},this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevConfig,r=t.cache,a=Be(e);return Le(n,a)?null:{intl:Pe(a,r),prevConfig:a}}}]),t}(g.PureComponent);_e.displayName="IntlProvider",_e.defaultProps=ue;var Me,Fe,Ue=l(12),ze=l(11),qe={},He={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},We=!1;document.addEventListener("keydown",function(e){e.ctrlKey&&"q"===e.key&&(We=!We,localStorage.setItem("langdebug",We?"true":"false"),window.location.reload())});var Ve=function e(t,n,r){void 0===n&&(n={}),void 0===r&&(r="");for(var a=0,o=Object.entries(t);a<o.length;a++){var i=o[a],s=i[0],c=i[1];"object"==typeof c&&null!==c?e(c,n,r+s+"."):n[r+s]=c}return n},Ye=function(e,t){return e?"object"==typeof e?e[Me]||e.en||"":We?e:Fe.formatMessage({id:e},t):""},Ze=l(1),Qe=l(10),Ge=l.n(Qe),Ke=function(){return(Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Xe=function(e){var t=500;return"md"===e.size?t=700:"lg"===e.size&&(t=900),h.a.createElement(Ze.Dialog,Ke({transitionDuration:0,canOutsideClickClose:!1,enforceFocus:!1,style:{width:t}},e),e.onSubmit?h.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},e.children):e.children)},Je=function(e){var t=e.children;return h.a.createElement("div",{className:Ge()(Ze.Classes.DIALOG_BODY,Ze.Classes.UI_TEXT)},t)},$e=function(e){var t=e.children;return h.a.createElement("div",{className:Ze.Classes.DIALOG_FOOTER},h.a.createElement("div",{className:Ze.Classes.DIALOG_FOOTER_ACTIONS},t))},et=l(9),tt=l.n(et),nt=l(8),rt=l.n(nt),at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ot=function(e){var t=function(){var t,n;it(),null===(n=(t=e).decline)||void 0===n||n.call(t),e.resolve(!1)};return h.a.createElement(Xe,{title:e.title||Ye("confirmPrompt"),icon:"warning-sign",usePortal:!1,isOpen:!0,onClose:t},h.a.createElement(Je,null,e.message),h.a.createElement($e,null,h.a.createElement(Ze.Button,{id:"confirm-dialog-decline",className:Ze.Classes.BUTTON,type:"button",onClick:t,text:e.declineLabel||Ye("cancel"),tabIndex:2,intent:Ze.Intent.NONE}),h.a.createElement(Ze.Button,{id:"confirm-dialog-accept",className:Ze.Classes.BUTTON,type:"button",onClick:function(){var t,n;it(),null===(n=(t=e).accept)||void 0===n||n.call(t),e.resolve(!0)},text:e.acceptLabel||Ye("ok"),tabIndex:3,intent:Ze.Intent.PRIMARY})))};function it(){var e=document.getElementById("confirmDialog-container");document.getElementsByTagName("body")[0].removeChild(e)}var st,ct=l(7),lt=function(e,t){var n=t.modifiers,r=t.handleClick;return n.matchesPredicate?h.a.createElement(Ze.MenuItem,{className:Ze.Classes.SMALL,active:n.active,disabled:n.disabled,key:e.label||e,onClick:r,text:e.label||e}):null};!function(e){e[e.SHORT=1e3]="SHORT",e[e.MEDIUM=3e3]="MEDIUM",e[e.LONG=5e3]="LONG"}(st||(st={}));var ut=function(){return(ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function dt(e,t,n,r){for(var a=e.split("/"),o=a[a.length-1],i=[],s=[],c=0,l=a.slice(0,a.length-1);c<l.length;c++){var u=l[c];s.push(u);var d=r(u),p=d.label,f=d.icon;i.push({id:u,label:p,icon:f||mt,fullPath:s.join("/"),type:"folder",childNodes:void 0})}s.push(o);var m=s.join("/"),g=n(t);return{folders:i,leafNode:{id:m,label:g.label,icon:g.icon||gt,fullPath:m,type:"node"}}}function pt(e,t){if(e)for(var n=0,r=e;n<r.length;n++){var a=r[n];t(a),pt(a.childNodes,t)}}function ft(e,t,n,r){for(var a,o,i=function(t){var n=m.a.find(e.childNodes,function(e){return e.id===t.id});n||(n=ut(ut({},t),{parent:e,childNodes:[]}),null===(a=e.childNodes)||void 0===a||a.push(n)),e=n},s=0,c=t;s<c.length;s++)i(c[s]);null===(o=e.childNodes)||void 0===o||o.push(ut(ut(ut({},n),{parent:e}),r))}var mt="folder-close",gt="document",ht=h.a.memo(function(e){var t=Object(g.useState)([]),n=t[0],r=t[1],a=Object(g.useState)(e.expandedPaths||[]),o=a[0],i=a[1],s=Object(g.useReducer)(function(e){return e+1},0)[1],c=e.elements,l=e.filterText,u=e.filterProps,d=e.nodeRenderer,p=e.folderRenderer,f=e.postProcessing,m=e.pathProps;Object(g.useEffect)(function(){if(c){var t=function(e){var t,n,r=e.elements,a=e.filterText,o=e.nodeRenderer,i=void 0===o?function(e){return{label:e.label,icon:e.icon}}:o,s=e.folderRenderer,c=void 0===s?function(e){return{label:e}}:s,l=e.postProcessing,u=e.filterProps,d=void 0===u?"path":u,p=e.pathProps,f=void 0===p?"path":p;if(!r)return[];for(var m={id:"root",label:"<root>",type:"root",fullPath:"",childNodes:[]},g=null===(t=a)||void 0===t?void 0:t.toLowerCase(),h=0,v=r;h<v.length;h++){var b=v[h],A=b[f];if(!A)return console.error("Invalid path"),[];var E=dt(A,b,i,c),y=E.folders,w=E.leafNode;(!a||(null===(n=b[d])||void 0===n?void 0:n.toLowerCase().includes(g)))&&ft(m,y,w,{nodeData:b})}return function e(t){t.childNodes&&(t.childNodes.sort(function(e,t){return e.type===t.type?e.name<t.name?-1:1:"folder"===e.type?-1:1}),t.childNodes.forEach(e))}(m),l?l(m.childNodes):m.childNodes}({elements:c,filterText:l,filterProps:u,nodeRenderer:d,folderRenderer:p,postProcessing:f,pathProps:m});pt(t,function(t){var n;(null===(n=e.visibleElements)||void 0===n?void 0:n.find(function(e){var n;return(null===(n=t.nodeData)||void 0===n?void 0:n[e.field])===e.value}))&&(v(t.parent,!0),t.parent.isExpanded=!0,t.isSelected=!0),(l||o.find(function(e){return e===t.fullPath}))&&(t.isExpanded=!0)}),r(t)}},[c,l]),Object(g.useEffect)(function(){e.nodes&&r(e.nodes)},[e.nodes]),Object(g.useEffect)(function(){i(e.expandedPaths||[])},[e.expandedPaths]);var v=function e(t,n){b(t,n),t.parent&&e(t.parent,n)},b=function(t,n){var r,a;i(n?function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r}(o,[t.fullPath]):o.filter(function(e){return e!==t.fullPath})),t.isExpanded=n,null===(a=(r=e).onExpandToggle)||void 0===a||a.call(r,t,n)};return n?h.a.createElement(Ze.Tree,{contents:n,onNodeClick:function(t){var r,a,o,i;(t.nodeData?null===(a=(r=e).onClick)||void 0===a?void 0:a.call(r,t.nodeData,"document"):null===(i=(o=e).onClick)||void 0===i?void 0:i.call(o,t.fullPath,"folder"))||(pt(n,function(n){n===t?((e.highlightFolders||!e.highlightFolders&&"folder"!==n.type)&&(n.isSelected=!0),n.nodeData||b(n,!n.isExpanded)):n.isSelected=!1}),s())},onNodeContextMenu:function(t,n,r){var a,o,i,s,c=t.nodeData?null===(o=(a=e).onContextMenu)||void 0===o?void 0:o.call(a,t.nodeData,"document"):null===(s=(i=e).onContextMenu)||void 0===s?void 0:s.call(i,t.fullPath,"folder");c&&(r.preventDefault(),Ze.ContextMenu.show(c,{left:r.clientX,top:r.clientY}))},onNodeDoubleClick:function(t){var n,r,a,o;t.nodeData?null===(r=(n=e).onDoubleClick)||void 0===r||r.call(n,t.nodeData,"document"):null===(o=(a=e).onDoubleClick)||void 0===o||o.call(a,t.fullPath,"folder")},onNodeCollapse:function(e){return b(e,!1)},onNodeExpand:function(e){return b(e,!0)},className:Ze.Classes.ELEVATION_0}):null});t.BaseDialog=Xe,t.DialogFooter=$e,t.DialogBody=Je,t.confirmDialog=function(e,t){return new Promise(function(n,r){!function(e,t){var n=document.getElementsByTagName("body")[0],r=document.createElement("div");r.setAttribute("id","confirmDialog-container"),r.setAttribute("class",rt.a.ConfirmDialogContainer),n.appendChild(r),tt.a.render(h.a.createElement(ot,at({},e,{resolve:t})),r)}(at({message:e},t),n)})},t.style={TooltipStyle:p.a},t.TreeView=ht,t.lang={tr:Ye,init:function(){Me=function(){var e=function(e){return e.split("-")[0]},t=e(navigator.language||navigator.userLanguage||""),n=e(localStorage.getItem("uiLanguage")||"");return qe[n]?n:qe[t]?t:"en"}(),We="true"===localStorage.getItem("langdebug");var e=Ve(qe[Me]),t=Ve(qe.en);for(var n in t)e[n]||(e[n]=t[n]);Fe=Pe({locale:Me,messages:e,defaultLocale:"en"},He)},extend:function(e){Object(f.isEmpty)(qe)&&(qe={en:Ue,fr:ze});for(var t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],a=r[0],o=r[1];qe[a]?Object(f.merge)(qe[a],o):qe[a]=o}},getLocale:function(){return Me},getAvailable:function(){return Object.keys(qe)}},t.toastFailure=function(e,t,n){void 0===n&&(n={delayed:!1,timeout:st.MEDIUM}),function(e,t,n,r,a){var o,i=function(){Ze.Toaster.create({className:"recipe-toaster",position:Ze.Position.TOP_RIGHT}).show({message:e,intent:t,timeout:n,onDismiss:r})};(null===(o=a)||void 0===o?void 0:o.delayed)?setTimeout(function(){i()},500):i()}(Ye(e,{details:t}),Ze.Intent.DANGER,n.timeout,n.onDismiss,n)},t.Dropdown=function(e){var t=Object(g.useState)(e.defaultItem),n=t[0],r=t[1],a=ct.Select.ofType();return h.a.createElement(a,{items:e.items,activeItem:n,popoverProps:{minimal:!0},itemRenderer:lt,onItemSelect:function(t){e.onChange(t),r(t)}},h.a.createElement(Ze.Button,{text:e.small?h.a.createElement("small",null,n&&n.label):n&&n.label,icon:e.icon,rightIcon:e.rightIcon||"double-caret-vertical",small:e.small,style:{margin:e.spaced?"0 5px 0 5px":0}}))}},function(e,t,n){(t=e.exports=n(6)(!1)).push([e.i,".style__ConfirmDialogContainer___2-7Ji > div {\n  z-index: 9999; }\n",""]),t.locals={ConfirmDialogContainer:"style__ConfirmDialogContainer___2-7Ji"}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,A=r?Symbol.for("react.fundamental"):60117,E=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case p:case i:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case h:case l:return e;default:return t}}case o:return t}}}function k(e){return w(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=a,t.ForwardRef=f,t.Fragment=i,t.Lazy=v,t.Memo=h,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return k(e)||w(e)===d},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===c},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===c||e===s||e===m||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===A||e.$$typeof===E||e.$$typeof===y||e.$$typeof===b)},t.typeOf=w},function(e,t,n){"use strict";e.exports=n(16)},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(t=e.exports=n(6)(!1)).push([e.i,'.tooltip__botpressTooltip___2yHNr {\n  position: relative; }\n\n/*== common styles for both parts of tool tip ==*/\n.tooltip__botpressTooltip___2yHNr::before,\n.tooltip__botpressTooltip___2yHNr::after {\n  left: 50%;\n  opacity: 0;\n  position: absolute;\n  transform: translate(-50%, 0);\n  transition: opacity .3s, visibility .3s;\n  visibility: hidden;\n  z-index: 99999; }\n\n.tooltip__botpressTooltip___2yHNr:hover::before,\n.tooltip__botpressTooltip___2yHNr:focus::before,\n.tooltip__botpressTooltip___2yHNr:hover::after,\n.tooltip__botpressTooltip___2yHNr:focus::after {\n  opacity: 1;\n  visibility: visible; }\n\n/*== pointer tip ==*/\n.tooltip__botpressTooltip___2yHNr::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-top: 10px solid #3E474F;\n  bottom: 100%;\n  content: "";\n  height: 0;\n  width: 0; }\n\n/*== speech bubble ==*/\n.tooltip__botpressTooltip___2yHNr::after {\n  background: #3E474F;\n  border-radius: 3px;\n  bottom: 100%;\n  color: #EDEFF0;\n  content: attr(data-tooltip);\n  margin-bottom: 10px;\n  padding: 10px 20px;\n  width: auto; }\n\n@media (max-width: 760px) {\n  .tooltip__botpressTooltip___2yHNr::after {\n    font-size: .75em;\n    margin-left: -5em;\n    width: 10em; } }\n',""]),t.locals={botpressTooltip:"tooltip__botpressTooltip___2yHNr"}},function(e,t,n){e.exports=n(14)}])},493:function(e){e.exports={langCodes:{fr:"Fran\xe7ais",en:"English"},admin:{botpressIsNotLicensed:"Botpress is currently not licensed. Please update your license to re-enable all features.",pageRestrictedToAdmins:"This page is restricted to Super Admins",signInWithSSO:"Sign in with SSO ({strategyId})",signInWithUserPass:"Sign in with user/pass",signInWithLabel:"Sign in with {label}",passwordsDontMatch:"Passwords don't match",updateProfile:"Update Profile",changePassword:"Change Password",logout:"Logout",firstTimeYouRun:"This is the first time you run Botpress. Please pick a password.",setANewPassword:"Your password has expired or was temporary. Please set a new password.",newPassword:"New Password",confirmPassword:"Confirm Password",change:"Change",login:"Login",password:"Password",signIn:"Sign In",createMasterAdminAccount:"This is the first time you run Botpress. Please create the master admin account.",register:"Register",createAccount:"Create Account",successfullyAuthenticated:"Successfully authenticated. You can close this window.",authenticationFailed:"Authentication failed",poweredBy:"Powered by",passwordUpdatedSuccessfully:"Password updated successfully",errorUpdatingPassword:"Error while updating password: {msg}",changeYourPassword:"Change your password",currentPassword:"Current password",profileUpdatedSuccessfully:"Profile updated successfully",errorUpdatingProfile:"Error while updating profile: {msg}",updateYourProfile:"Update your profile",firstName:"First Name",lastName:"Last Name",workspaceName:"Workspace: {name}",signedInAs:"Signed in as {name}",changeLanguage:"Change language",uiLanguage:"Language of the user interface",uiLanguageHelper:"This settings only affects the user interface of Botpress and does not change the language of your bots.",sideMenu:{workspace:"Workspace",bots:"Bots",collaborators:"Collaborators",roles:"Roles",logs:"Logs",management:"Management",sourceControl:"Source Control",serverLicense:"Server License",languages:"Languages",productionChecklist:"Production Checklist",health:"Health",monitoring:"Monitoring",alerting:"Alerting",debug:"Debug",announcements:"Announcements",latestReleases:"Latest Releases"},logs:{rowLimitReached:"Row limit reached. Choose a different time range",dateTimeRange:"Date Time Range",onlyBotsFromThisWorkspace:"Only bots from this workspace",rangeLabel:"{start} to {end} - {timespan}",refreshed:"Logs refreshed",level:{all:"All",info:"Info",warning:"Warning",error:"Error",critical:"Critical",everything:"Everything"},column:{date:"Date",hostname:"Hostname",botId:"Bot Id",level:"Level",scope:"Scope",message:"Message"},timespan:{last15m:"Last 15 minutes",last60m:"Last 60 minutes",last4h:"Last 4 hours",last24h:"Last 24 hours",today:"Today",yesterday:"Yesterday",thisWeek:"This week",lastWeek:"Last week",last30d:"Last 30 days"}},monitoring:{serverControl:"Server Control",youAreAboutToRestart:"You are about to restart the Botpress server hosted on",areYouSure:"Are you sure?",restartInProgress:"Server restart in progress. To know when the server is back up, watch the uptime for that server in the Overview. You can close this window safely.",restartNow:"Restart server now",restart:"Restart server",column:{rule:"Rule",host:"Host",startTime:"Start Time",endTime:"End Time",triggerValue:"Trigger Value",uptime:"Uptime",peakCpuUsage:"Peak CPU Usage",peakMemUsage:"Peak Mem Usage",requests:"Requests",eventsIn:"Events In",eventsOut:"Events Out",warnings:"Warnings",errors:"Errors",criticals:"Criticals"}},requirements:{confUpdated:"Configuration updated successfully! Restart Botpress for changes to take effect",confNotUpdated:"Could not update configuration: {msg}",missing:"Missing requirements",alsoRequired:"To use this feature, these features are also required:",pro:"Botpress Pro must be enabled with a valid license",redis:"Redis must be enabled and correctly configured",monitoring:"Monitoring must be enabled",featureDisabled:"Feature disabled",toUseRestart:"To use this feature, click on the button below. A server restart will be required for changes to take effect.",enableFeature:"Enable this feature"},license:{enterYourLicense:"Enter your license key",newLicenseKey:"New License Key",validateChange:"Validate & Change",enterLicenseKey:"Enter license key",policy:{admins:"Admins",nodes:"Nodes",version:"Version",startDate:"Start Date",endDate:"End Date",fingerprint:"Server Fingerprint"},status:{areYouSure:"Are you sure?",waitWhileReboot:"Please wait while the server reboots, this may take a couple of seconds.",licensed:"Licensed",unlicensed:"Unlicensed",underLimits:"Under Limits",limitsBreached:"Limits Breached",clusterFingerprint:"Cluster fingerprint",copyToClipboard:"Copy to clipboard",fingerprintNoMatch:"Your license fingerprint doesn't match your machine/cluster fingerprints.",friendlyName:"Friendly Name",renewDate:"Renew Date",support:"Support",thisIsSupport:"This is the support offered by Botpress",allowedNodes:"Allowed Nodes",policies:"Policies",enablePro:"Enable Botpress Professional",useOfficial:"Make you use an {officialBinary}, you won't be able to activate pro otherwise.",officialBinary:"official botpress binary or docker image",method1:"Method 1",enableMethod1:"You can enable Botpress Pro by manually editing the file {file} and setting the value {field} to true.",method2:"Method 2",enabledMethod2:"Click on the button below. This will enable the required configuration and will automatically reboot the server. Please note: Rebooting the server this way will prevent you from reading the logs on screen (except if you output logs to the file system).",enabledAndReboot:"Enable Pro & Reboot Server",unofficialBuild:"Unofficial Botpress Build",unofficialBuildText:"We noticed that you are running a custom build of Botpress, which doesn't contain the Botpress Professional extensions. Make you use an {official}. You won't be able to activate {pro} otherwise.",official:"official botpress binary or docker image",pro:"Pro"}},languages:{languageManagement:"Language Management",cannotBeEdited:"Languages cannot be edited as Language Server is read only",loading:"loading...",usingLangServerAt:"Using lang server at",runOwnLanguageServer:"To run your own language server, follow the instructions",inDocumentation:"in the documentation",confirmDelete:"Are you sure that you want to delete {language} from the server?",addLanguages:"Add Languages",installedLanguages:"Installed Languages",noLanguagesYet:"No languages yet"},versioning:{archiveReady:"Archive ready",pleaseWait:"Please wait...",downloadArchive:"Download archive",sourceControl:"Source Control",pullToFileSystem:"Pull remote to file system",useThisCommand:"Use this command to copy the remote data on your local file system.",clickToCopy:"Click to copy to clipboard",pushLocal:"Push local to this server",pushLocalNeedsBFFS:'Pushing local changes to a remote server is only possible when using the BPFS Storage "Database".',checkOutThe:"Check out the",documentation:"documentation",forMorInfo:"for more information.",youCanPushWithThisCommand:"If you are using the database storage for BPFS, you can also push your local changes to the database using this command:",changesPushed:"Changes pushed successfully!",serverArchive:"Server Archive",selectArchivedExported:"Select an archive exported from another server. If there are conflicts, you will be able to review them before pushing.",pushChanges:"Push changes",conflictWarning:"Conflict warning",conflictMessage:'Remote has changes that are not synced to your environment. Backup your changes and use "pull" to get those changes on your file system. If you still want to overwrite remote changes, turn on the switch "Force push my changes" then press the button',forcePush:"Force push my changes",uploadArchive:"Upload archive"},alerting:{alertingAndIncidents:"Alerting & Incidents",activeIncidents:"Active Incidents",resolvedIncidents:"Resolved Incidents",notEnabled:"Alerting is not enabled or there is no statistics.",makeSureEnabled:"Make sure that alerting is enabled in your Botpress Config (and that you have restarted the server if you just made the change).",timeFrame:"Time Frame",autoRefresh:"Auto-Refresh",timespanHour:"1 hour",timespanHours:"{nb} hours"},debug:{configureDebug:"Configure Debug",helpText:"This page allows you to enable or disable some debug scopes while using Botpress. This list is populated while features are being used, so some items may be missing",persist:"Persist",persistChecked:"When checked, the selected debug options will be enabled after each server restart",confUpdated:"Debug configuration updated successfully!"},workspace:{roles:{title:"Roles",helpText:"To change roles, please see \u201croles\u201d in the workspaces.json file.",default:{administrator:{name:"Administrator",description:"Administrators have full access to the workspace including adding members, creating bots and synchronizing changes."},developer:{name:"Developer",description:"Developers have full read/write access to bots, including flows, content, NLU and actions"},contentEditor:{name:"Content Editor",description:"Content Editors have read/write access to content and NLU, and read-only access to flows and actions."}}},bots:{confirmDelete:"Are you sure you want to delete this bot? This can't be undone.",remounted:"Bot remounted successfully",couldNotMount:"Could not mount bot. Check server logs for details",new:"New Bot",importExisting:"Import Existing",promoted:"Bot promoted to next stage",approvedPromotion:"Approved bot promotion to next stage",revisionsCreated:"Revisions created",rollbackSuccess:"Rollback success",filter:"Filter bots",extraFilters:"Extra filters",needYourApproval:"Need your approval",noBotMatches:"No bot matches your query",noBotYet:"This workspace has no bots, yet",alwaysAssignedToWorkspace:"In Botpress, bots are always assigned to a workspace.",createYourFirstBot:"Create your first bot to start building.",noSpecifiedLanguage:"You have bots without specified language. Default language is mandatory since Botpress 11.8. Please set bot language in the bot config page.",bots:"Bots",createBot:"Create Bot",item:{reload:"Reload",config:"Config",openChat:"Open Chat",editInStudio:"Edit in Studio",copyLinkToClipboard:"Copy link to clipboard",copyToClipboard:"Copy to clipboard",viewLogs:"View Logs",createRevision:"Create Revision",rollback:"Rollback",export:"Export",delete:"Delete",languageIsMissing:"Bot language is missing. Please set it in bot config.",promoteToNextStage:"Promote to next stage",needsYourReview:"Needs your review",approved:"Approved",disabled:"disabled",private:"private",error:"error",approve:"Approve",requestedBy:"Requested by {requester}",onDate:"on {date}"},create:{newBot:"Create a new bot",name:"Bot Name",nameHelper:"It will be displayed to your visitors. You can change it anytime.",namePlaceholder:"The name of your bot",id:"Bot Id",idHelper:"This ID cannot be changed, so choose wisely. It will be displayed in the URL and your visitors can see it. Special characters are not allowed. Minimum length: 4",idPlaceholder:"The ID of your bot (must be unique)",template:"Bot Template",category:"Bot Category",create:"Create Bot"},edit:{approvalsRequired:"Number of approvals required",couldNotFindPipeline:"Could not find the pipeline to save",stageSaved:"Stage saved successfully",errorUpdatingPipeline:"Error while updating pipeline: {message}",reviewers:"Reviewers",approvalOrder:"Approval Order",serial:"Serial",parallel:"Parallel"},import:{fromArchive:"Import bot from archive",alreadyInUse:"Already in use",archive:"Bot Archive",overwrite:"Overwrite existing bot",import:"Import Bot"},rollback:{error:"Error while rollbacking to a previous version: {msg}",rollbackBot:"Rollback bot {bot}",confirm:"Are you sure you want to rollback the bot to that revision? All existing content, flows, questions, etc. will be overwritten. This can't be undone.",confirmYes:"Yes, rollback the bot to that version",rollback:"Rollback",selectRevision:"Select revision"}},users:{chatUsers:"Chat Users",chatUsersHelp:"Chat users are only allowed to talk with bots. They can see a list of all the bots in the workspace",addChatUser:"Add chat user",configureRollout:"Configure Rollout",currentStrategy:"Current Strategy",inviteCode:"Invite Code",unlimitedUsage:"unlimited usage",usageLeft:"{allowedUsages} usage left",collaborators:{collaborators:"Collaborators",help:"Create, delete users or update their role.",add:"Add collaborator",noCollaboratorsYet:"This workspace has no collaborators, yet",filterUsers:"Filter users",noMatch:"No user matches your query",created:"Created",lastLogin:"Last Login",passwordResetConfirm:"Are you sure you want to reset {user}'s password?",passwordResetSuccess:"Password reset successful",passwordResetFail:"Could not reset password: {msg}",deleteAccountConfirm:"Are you sure you want to delete {user}'s account?",deleteAccountSuccess:"User {user} was deleted successfully",deleteAccountFail:"Could not delete user: {msg}",removeConfirm:"Are you sure you want to remove {user} from this workspace?",removeSucess:"User {user} was removed from workspace successfully",removeFail:"Could not remove user from workspace: {msg}",roleUpdateSuccess:"Role updated successfully",roleUpdateFail:"Could not update role: {msg}",action:"Action",resetPassword:"Reset Password",changeRole:"Change Role",removeFromWorkspace:"Remove from workspace",inviteExistingUser:"Invite an existing user, or type his e-mail address and press Enter",authStrategy:"Authentication Strategy",chooseRole:"Choose a role for that user",createAccount:"Create account",addToWorkspace:"Add to workspace",accountReady:"Your botpress account is ready!",signInHere:"Sign-in here: {link}",showEmail:"Email: {email}",showPassword:"Password: {password}",passwordBeenReset:"Your password has been reset.",accountCreated:"Account Created",passwordReset:"Password Reset",copiedToClipboard:"Copied to clipboard",copyMessageToClipboard:"Copy message to clipboard",copyPasswordToClipboard:"Copy password to clipboard"}}}}}},494:function(e){e.exports={admin:{botpressIsNotLicensed:"La licence ne semble pas valide. Veuillez mettre \xe0 jour votre licence pour r\xe9activer toutes les fonctionnalit\xe9s.",pageRestrictedToAdmins:"Cette page est r\xe9serv\xe9e aux super-administrateurs",signInWithSSO:"Connectez-vous avec SSO ({strategyId})",signInWithUserPass:"Connectez-vous avec usager/mot de passe",signInWithLabel:"Connectez-vous avec {label}",passwordsDontMatch:"Les mots de passe ne correspondent pas",updateProfile:"Mettre \xe0 jour le profil",changePassword:"Changer le mot de passe",logout:"Se d\xe9connecter",firstTimeYouRun:"C'est la premi\xe8re fois que vous ex\xe9cutez Botpress. Veuillez choisir un mot de passe.",setANewPassword:"Votre mot de passe a expir\xe9 ou \xe9tait temporaire. Veuillez d\xe9finir un nouveau mot de passe.",newPassword:"Nouveau mot de passe",confirmPassword:"Confirmez le mot de passe",change:"Changement",login:"Authentification",password:"Mot de passe",signIn:"Se connecter",createMasterAdminAccount:"C'est la premi\xe8re fois que vous ex\xe9cutez Botpress. Veuillez cr\xe9er le compte administrateur principal.",register:"S'inscrire",createAccount:"Cr\xe9er un compte",successfullyAuthenticated:"Authentification r\xe9ussie. Vous pouvez fermer cette fen\xeatre.",authenticationFailed:"Authentification \xe9chou\xe9e",poweredBy:"Propuls\xe9 par",passwordUpdatedSuccessfully:"Mot de passe mis \xe0 jour avec succ\xe8s",errorUpdatingPassword:"Erreur lors de la mise \xe0 jour du mot de passe: {msg}",changeYourPassword:"Changez votre mot de passe",currentPassword:"Mot de passe actuel",profileUpdatedSuccessfully:"Mise \xe0 jour du profil r\xe9ussie",errorUpdatingProfile:"Erreur lors de la mise \xe0 jour du profil: {msg}",updateYourProfile:"Mettre \xe0 jour votre profil",firstName:"Pr\xe9nom",lastName:"Nom de famille",workspaceName:"Espace de travail: {name}",signedInAs:"Connect\xe9 en tant que {name}",changeLanguage:"Changer la langue",uiLanguage:"Langue de l'interface utilisateur",uiLanguageHelper:"Ce param\xe8tre affecte seulement l'interface utilisateur de Botpress et n'a pas d'impact sur la langue de vos bots.",sideMenu:{workspace:"Espace de travail",bots:"Bots",collaborators:"Collaborateurs",roles:"R\xf4les",logs:"Journaux",management:"Gestion",sourceControl:"Contr\xf4le de source",serverLicense:"Licence de serveur",languages:"Langues",productionChecklist:"Liste de contr\xf4le de production",health:"Sant\xe9",monitoring:"Surveillance",alerting:"Alertes et incidents",debug:"D\xe9bogage",announcements:"Annonces",latestReleases:"Derni\xe8res nouveaut\xe9s"},logs:{rowLimitReached:"Limite de ligne atteinte. Choisissez une plage de temps diff\xe9rente",dateTimeRange:"Plage de date et d'heure",onlyBotsFromThisWorkspace:"Seuls les bots de cet espace de travail",rangeLabel:"{start} \xe0 {end} - {timespan}",refreshed:"Journaux rafra\xeechis",level:{all:"Tout",info:"Info",warning:"Avertissement",error:"Erreur",critical:"Critique",everything:"Tout"},column:{date:"Date",hostname:"Nom d'h\xf4te",botId:"ID du bot",level:"Niveau",scope:"Port\xe9e",message:"Message"},timespan:{last15m:"15 derni\xe8res minutes",last60m:"60 derni\xe8res minutes",last4h:"4 derni\xe8res heures",last24h:"24 derni\xe8res heures",today:"Aujourd'hui",yesterday:"Hier",thisWeek:"Cette semaine",lastWeek:"Semaine derni\xe8re",last30d:"30 derniers jours"}},monitoring:{serverControl:"Contr\xf4le du serveur",youAreAboutToRestart:"Vous \xeates sur le point de red\xe9marrer le serveur Botpress h\xe9berg\xe9 sur",areYouSure:"\xcates-vous s\xfbr?",restartInProgress:"Red\xe9marrage du serveur en cours. Pour savoir quand le serveur est de nouveau disponible, surveillez la disponibilit\xe9 de ce serveur dans la vue d'ensemble. Vous pouvez fermer cette fen\xeatre en toute s\xe9curit\xe9.",restartNow:"Red\xe9marrez le serveur maintenant",restart:"Red\xe9marrez le serveur",column:{rule:"R\xe8gle",host:"H\xf4te",startTime:"Heure de d\xe9but",endTime:"Heure de fin",triggerValue:"Valeur de d\xe9clenchement",uptime:"Uptime",peakCpuUsage:"Utilisation maximale du processeur",peakMemUsage:"Utilisation maximale de la m\xe9moire",requests:"Demandes",eventsIn:"\xc9v\xe9nements en",eventsOut:"\xc9v\xe9nements sortis",warnings:"Avertissements",errors:"Erreurs",criticals:"Critiques"}},requirements:{confUpdated:"Configuration mise \xe0 jour avec succ\xe8s! Red\xe9marrez Botpress pour que les modifications prennent effet",confNotUpdated:"Impossible de mettre \xe0 jour la configuration: {msg}",missing:"Exigences manquantes",alsoRequired:"Pour utiliser cette fonctionnalit\xe9, ces fonctionnalit\xe9s sont \xe9galement requises:",pro:"Botpress Pro doit \xeatre activ\xe9 avec une licence valide",redis:"Redis doit \xeatre activ\xe9 et correctement configur\xe9",monitoring:"La surveillance doit \xeatre activ\xe9e",featureDisabled:"Fonction d\xe9sactiv\xe9e",toUseRestart:"Pour utiliser cette fonction, cliquez sur le bouton ci-dessous. Un red\xe9marrage du serveur sera n\xe9cessaire pour que les modifications prennent effet.",enableFeature:"Activer cette fonctionnalit\xe9"},license:{enterYourLicense:"Entrez votre cl\xe9 de licence",newLicenseKey:"Nouvelle cl\xe9 de licence",validateChange:"Valider et modifier",enterLicenseKey:"Entrez la cl\xe9 de licence",policy:{admins:"Administrateurs",nodes:"Noeuds",version:"Version",startDate:"Date de d\xe9but",endDate:"Date de fin",fingerprint:"Empreinte digitale du serveur"},status:{areYouSure:"\xcates-vous s\xfbr?",waitWhileReboot:"Veuillez patienter pendant le red\xe9marrage du serveur, cela peut prendre quelques secondes.",licensed:"Licenci\xe9",unlicensed:"Aucun licence valide",underLimits:"Les limites ne sont pas atteintes.",limitsBreached:"Limites franchises",clusterFingerprint:"Empreinte digitale du cluster",copyToClipboard:"Copier dans le presse-papier",fingerprintNoMatch:"L'empreinte de votre licence ne correspond pas aux empreintes de votre machine / cluster.",friendlyName:"Nom familier",renewDate:"Date de renouvellement",support:"Soutien",thisIsSupport:"Ceci est le support offert par Botpress",allowedNodes:"Noeuds autoris\xe9s",policies:"Strat\xe9gies",enablePro:"Activer Botpress Professional",useOfficial:"Vous devez utilisez le {officialBinary}, vous ne pourrez pas activer pro autrement.",officialBinary:"binaire botpress ou l'image docker officielle",method1:"M\xe9thode 1",enableMethod1:"Vous pouvez activer Botpress Pro en modifiant manuellement le fichier {file} et en d\xe9finissant la valeur {field} \xe0 true.",method2:"Method 2",enabledMethod2:"Cliquez sur le bouton ci-dessous. Cela activera la configuration requise et red\xe9marrera automatiquement le serveur. Remarque: le red\xe9marrage du serveur de cette fa\xe7on vous emp\xeachera de lire les journaux \xe0 l'\xe9cran (sauf si vous envoyez des journaux au syst\xe8me de fichiers).",enabledAndReboot:"Activer pro & red\xe9marrer serveur",unofficialBuild:"Build non officiel de Botpress",unofficialBuildText:"Nous avons remarqu\xe9 que vous ex\xe9cutez une version personnalis\xe9e de Botpress, qui ne contient pas les extensions Botpress Professional. Vous devez utiliser le {officiel}. Sinon, vous ne pourrez pas activer {pro}.",official:"binaire botpress ou l'image docker officielle",pro:"Pro"}},languages:{languageManagement:"Gestion des langues",cannotBeEdited:"Les langues ne peuvent pas \xeatre modifi\xe9es car le serveur de langues est en lecture seule",loading:"chargement...",usingLangServerAt:"Utilisation du serveur lang sur",runOwnLanguageServer:"Pour ex\xe9cuter votre propre serveur de langues, suivez les instructions",inDocumentation:"dans la documentation",confirmDelete:"Voulez-vous vraiment supprimer {language} du serveur?",addLanguages:"Ajouter des langues",installedLanguages:"Langues install\xe9es",noLanguagesYet:"Pas encore de langues"},versioning:{archiveReady:"Pr\xeat pour l'archivage",pleaseWait:"Veuillez patienter...",downloadArchive:"T\xe9l\xe9charger l'archive",sourceControl:"Contr\xf4le de source",pullToFileSystem:"R\xe9cup\xe9rer les changements distants",useThisCommand:"Utilisez cette commande pour copier les donn\xe9es distantes sur votre syst\xe8me de fichiers local.",clickToCopy:"Cliquez pour copier dans le presse-papiers",pushLocal:"Pousser les changements locaux sur ce serveur",pushLocalNeedsBFFS:'Pousser les modifications locales vers un serveur distant n\'est possible que lorsque vous utilisez le stockage BPFS "Base de donn\xe9es".',checkOutThe:"Consultez la",documentation:"documentation",forMorInfo:"pour plus d'informations.",youCanPushWithThisCommand:"Si vous utilisez le stockage de base de donn\xe9es pour BPFS, vous pouvez \xe9galement envoyer vos modifications locales \xe0 la base de donn\xe9es \xe0 l'aide de cette commande:",changesPushed:"Changements envoy\xe9s avec succ\xe8s!",serverArchive:"Archive du serveur",selectArchivedExported:"S\xe9lectionnez une archive export\xe9e depuis un autre serveur. S'il y a des conflits, vous pourrez les revoir avant de pousser.",pushChanges:"Pousser les changements",conflictWarning:"Avertissement de conflit",conflictMessage:'Distant pr\xe9sente des modifications qui ne sont pas synchronis\xe9es avec votre environnement. Sauvegardez vos modifications et utilisez "pull" pour obtenir ces modifications sur votre syst\xe8me de fichiers. Si vous souhaitez toujours \xe9craser les modifications \xe0 distance, activez l\'interrupteur "Forcer \xe0 pousser mes changements" puis appuyez sur le bouton',forcePush:"Forcer \xe0 pousser mes changements",uploadArchive:"T\xe9l\xe9verser une archive"},alerting:{alertingAndIncidents:"Alertes et incidents",activeIncidents:"Incidents actifs",resolvedIncidents:"Incidents r\xe9solus",notEnabled:"L'alertage n'est pas activ\xe9e ou il n'y a pas de statistiques.",makeSureEnabled:"Assurez-vous que l'alerte est activ\xe9e dans votre configuration Botpress (et que vous avez red\xe9marr\xe9 le serveur si vous venez d'effectuer la modification).",timeFrame:"Plage de temps",autoRefresh:"Actualisation automatique",timespanHour:"1 heure",timespanHours:"{nb} heures"},debug:{configureDebug:"Configurer le d\xe9bogage",helpText:"Cette page vous permet d'activer ou de d\xe9sactiver certains \xe9l\xe9ments de d\xe9bogage lors de l'utilisation de Botpress. Cette liste est popul\xe9e pendant que les fonctionnalit\xe9s sont utilis\xe9es, donc certains \xe9l\xe9ments peuvent \xeatre manquants.",persist:"Persister",persistChecked:"Lorsqu'elle est coch\xe9e, les options de d\xe9bogage s\xe9lectionn\xe9es seront activ\xe9es apr\xe8s chaque red\xe9marrage du serveur",confUpdated:"La configuration de d\xe9bogage a \xe9t\xe9 mise \xe0 jour avec succ\xe8s!"},workspace:{roles:{title:"R\xf4les",helpText:"Pour modifier les r\xf4les, veuillez consulter \xabr\xf4les\xbb dans le fichier workspaces.json.",default:{administrator:{name:"Administrateur",description:"Les administrateur ont un acc\xe8s complet \xe0 l'espace de travail, incluant l'ajout de membres et la cr\xe9ation de bots."},developer:{name:"D\xe9veloppeur",description:"Les d\xe9veloppeurs ont un acc\xe8s complet en lecture et en \xe9criture aux bots, incluant les flows, le contenu, le NLU et les actions"},contentEditor:{name:"\xc9diteur de contenu",description:"Les \xe9diteur de contenu ont un acc\xe8s en lecture et \xe9criture au contenu et au NLU, et un acc\xe8s en lecture seulement aux flows et aux actions."}}},bots:{confirmDelete:"Voulez-vous vraiment supprimer ce bot? Cela ne peut pas \xeatre annul\xe9.",remounted:"Bot remont\xe9 avec succ\xe8s",couldNotMount:"Impossible de monter le bot. Consultez les journaux du serveur pour plus de d\xe9tails",new:"Nouveau Bot",importExisting:"Importer existant",promoted:"Bot promu \xe0 l'\xe9tape suivante",approvedPromotion:"Promotion du bot approuv\xe9e \xe0 l'\xe9tape suivante",revisionsCreated:"R\xe9visions cr\xe9\xe9es",rollbackSuccess:"Retour en arriere r\xe9ussi",filter:"Filtrer les bots",extraFilters:"Filtres suppl\xe9mentaires",needYourApproval:"Besoin de votre approbation",noBotMatches:"Aucun bot ne correspond \xe0 votre requ\xeate",noBotYet:"Cet espace de travail n'a pas encore de bots",alwaysAssignedToWorkspace:"Dans Botpress, les bots sont toujours affect\xe9s \xe0 un espace de travail.",createYourFirstBot:"Cr\xe9ez votre premier bot pour commencer \xe0 construire.",noSpecifiedLanguage:"Vous avez des robots sans langue sp\xe9cifi\xe9e. La langue par d\xe9faut est obligatoire depuis Botpress 11.8. Veuillez d\xe9finir la langue du bot dans la page de configuration du bot.",bots:"Bots",createBot:"Cr\xe9er un bot",item:{reload:"Recharger",config:"Config",openChat:"Ouvrir le chat",editInStudio:"Modifier dans Studio",copyLinkToClipboard:"Copier le lien dans le presse-papiers",copyToClipboard:"Copier dans le presse-papier",viewLogs:"Regardes les connexions",createRevision:"Cr\xe9er une r\xe9vision",rollback:"Retour en arriere",export:"Exportation",delete:"Supprimer",languageIsMissing:"La langue du bot est manquante. Veuillez le d\xe9finir dans la configuration du bot.",promoteToNextStage:"Passer \xe0 l'\xe9tape suivante",needsYourReview:"A besoin de votre avis",approved:"Approuv\xe9",disabled:"d\xe9sactiv\xe9",private:"priv\xe9",error:"erreur",approve:"Approuver",requestedBy:"Demand\xe9 par {requester}",onDate:"le {date}"},create:{newBot:"Cr\xe9er un nouveau bot",name:"Nom du bot",nameHelper:"Il sera affich\xe9 \xe0 vos visiteurs. Vous pouvez le modifier \xe0 tout moment.",namePlaceholder:"Le nom de votre bot",id:"Id du bot",idHelper:"Cet ID ne peut pas \xeatre modifi\xe9, alors choisissez judicieusement. Il sera affich\xe9 dans l'URL et vos visiteurs pourront le voir. Les caract\xe8res sp\xe9ciaux ne sont pas autoris\xe9s. Longueur minimum: 4",idPlaceholder:"L'identifiant de votre bot (doit \xeatre unique)",template:"Mod\xe8le de bot",category:"Cat\xe9gorie de bot",create:"Cr\xe9er un bot"},edit:{approvalsRequired:"Nombre d'approbations requises",couldNotFindPipeline:"Impossible de trouver le pipeline \xe0 enregistrer",stageSaved:"\xc9tape enregistr\xe9e avec succ\xe8s",errorUpdatingPipeline:"Erreur lors de la mise \xe0 jour du pipeline: {message}",reviewers:"R\xe9viseurs",approvalOrder:"Ordonnance d'approbation",serial:"En s\xe9rie",parallel:"En parall\xe8le"},import:{fromArchive:"Importer le bot depuis l'archive",alreadyInUse:"D\xe9j\xe0 utilis\xe9",archive:"Archive de Bot",overwrite:"Remplacer le bot existant",import:"Importer un bot"},rollback:{error:"Erreur lors de la restauration d'une version pr\xe9c\xe9dente: {msg}",rollbackBot:"Rollback le bot {bot}",confirm:"Voulez-vous vraiment restaurer le bot \xe0 cette r\xe9vision? Tous les contenus, flux, questions, etc. existants seront \xe9cras\xe9s. Cela ne peut pas \xeatre annul\xe9.",confirmYes:"Oui, ramenez le bot \xe0 cette version",rollback:"Rollback",selectRevision:"S\xe9lectionnez la r\xe9vision"}},users:{chatUsers:"Utilisateurs de chat",chatUsersHelp:"Les utilisateurs de chat ne sont autoris\xe9s \xe0 parler qu'avec des bots. Ils peuvent voir une liste de tous les bots dans l'espace de travail",addChatUser:"Ajouter un utilisateur de chat",configureRollout:"Configurer le d\xe9ploiement",currentStrategy:"Strat\xe9gie actuelle",inviteCode:"Code d'invitation",unlimitedUsage:"utilisation illimit\xe9e",usageLeft:"{allowedUsages} utilisation restante",collaborators:{collaborators:"Collaborateurs",help:"Cr\xe9ez, supprimez des utilisateurs ou mettez \xe0 jour leur r\xf4le.",add:"Ajouter un collaborateur",noCollaboratorsYet:"Cet espace de travail n'a pas encore de collaborateurs",filterUsers:"Filtrer les utilisateurs",noMatch:"Aucun utilisateur ne correspond \xe0 votre requ\xeate",created:"Cr\xe9\xe9",lastLogin:"Derni\xe8re connexion",passwordResetConfirm:"Voulez-vous vraiment r\xe9initialiser le mot de passe de {user}?",passwordResetSuccess:"R\xe9initialisation du mot de passe r\xe9ussie",passwordResetFail:"Impossible de r\xe9initialiser le mot de passe: {msg}",deleteAccountConfirm:"Voulez-vous vraiment supprimer le compte de {user}?",deleteAccountSuccess:"L'utilisateur {user} a \xe9t\xe9 supprim\xe9 avec succ\xe8s",deleteAccountFail:"Impossible de supprimer l'utilisateur: {msg}",removeConfirm:"Voulez-vous vraiment supprimer {user} de cet espace de travail?",removeSucess:"L'utilisateur {user} a \xe9t\xe9 supprim\xe9 de l'espace de travail avec succ\xe8s",removeFail:"Impossible de supprimer l'utilisateur de l'espace de travail: {msg}",roleUpdateSuccess:"R\xf4le mis \xe0 jour avec succ\xe8s",roleUpdateFail:"mpossible de mettre \xe0 jour le r\xf4le: {msg}",action:"Action",resetPassword:"R\xe9initialiser le mot de passe",changeRole:"Changer de r\xf4le",removeFromWorkspace:"Supprimer de l'espace de travail",inviteExistingUser:"Invitez un utilisateur existant ou saisissez son adresse e-mail et appuyez sur Entr\xe9e",authStrategy:"Strat\xe9gie d'authentification",chooseRole:"Choisissez un r\xf4le pour cet utilisateur",createAccount:"Cr\xe9er un compte",addToWorkspace:"Ajouter \xe0 l'espace de travail",accountReady:"Votre compte botpress est pr\xeat!",signInHere:"Se connecter ici: {link}",showEmail:"Email: {email}",showPassword:"Mot de passe: {password}",passwordBeenReset:"Votre mot de passe a \xe9t\xe9 r\xe9initialis\xe9.",accountCreated:"Compte cr\xe9\xe9",passwordReset:"Mot de passe r\xe9initialis\xe9",copiedToClipboard:"Copi\xe9 dans le presse-papier",copyMessageToClipboard:"Copier le message dans le presse-papiers",copyPasswordToClipboard:"Copier le mot de passe dans le presse-papiers"}}}}}},498:function(e,t){e.exports="data:image/png;base64,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"},499:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(384)),o=n(155);t.BOTID_REGEX=/^[A-Z0-9]+[A-Z0-9_-]{1,}[A-Z0-9]+$/i,t.WORKSPACEID_REGEX=/[A-Z0-9-_\/]/i,t.isValidBotId=function(e){return t.BOTID_REGEX.test(e)},t.BotCreationSchema=a.default.object().keys({id:a.default.string().regex(t.BOTID_REGEX).required(),name:a.default.string().max(50).allow("").optional(),category:a.default.string().allow(null),description:a.default.string().max(500).allow(""),pipeline_status:{current_stage:{promoted_by:a.default.string(),promoted_on:a.default.date(),id:a.default.string()}},locked:a.default.bool()}),t.BotEditSchema=a.default.object().keys({name:a.default.string().allow("").max(50),category:a.default.string().allow(null),description:a.default.string().max(500).allow(""),disabled:a.default.bool(),private:a.default.bool(),defaultLanguage:a.default.string().min(2).max(3),languages:a.default.array().items(a.default.string().min(2).max(3)),details:{website:a.default.string().uri().optional().allow(""),termsConditions:a.default.string().uri().optional().allow(""),privacyPolicy:a.default.string().uri().optional().allow(""),phoneNumber:a.default.string().max(20).optional().allow(""),emailAddress:a.default.string().email().optional().allow(""),avatarUrl:a.default.string().optional().allow(""),coverPictureUrl:a.default.string().optional().allow("")}}),t.WorkspaceCreationSchema=a.default.object().keys({id:a.default.string().regex(t.WORKSPACEID_REGEX).required(),name:a.default.string().max(50).required(),description:a.default.string().max(500).allow(""),audience:a.default.string().valid(["internal","external"]).default("external").required(),pipelineId:a.default.string().valid(Object.keys(o.defaultPipelines)).default("none")}),t.PipelineSchema=a.default.array().items({id:a.default.string().required(),label:a.default.string().required(),action:a.default.string().required(),reviewers:a.default.array().items({email:a.default.string(),strategy:a.default.string()}),minimumApprovals:a.default.number(),reviewSequence:a.default.string().valid(["serial","parallel"])})},502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resourceMatches=function(e,t){var n=/[\/\.]/;(e=e||"").indexOf("*")<0&&(e+=".*");for(var r=e.split(n),a=t.split(n),o=!0,i=0;o&&i<r.length;i++)"*"!==r[i]&&(o=i<a.length&&r[i].toLowerCase()===a[i].toLowerCase());return o};var r={read:"r",write:"w"},a=["r","w"];t.checkRule=function(e,n,o){if(!e)return!1;if(n=n.toLowerCase(),n=r[n]||n,!a.includes(n))throw new Error("Invalid rule operation: ".concat(n));var i=!1,s=!0,c=!1,l=void 0;try{for(var u,d=e[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value,f=p.op;if(!f||f.length<2||f.length>4)throw new Error("Invalid rule operation: ".concat(f));t.resourceMatches(p.res,o)&&(4===f.length?i=f[1]===n?"+"===f[0]:f[3]===n&&"+"===f[2]:3===f.length?i="+"===f[0]:2===f.length&&f[1]===n&&(i="+"===f[0]))}}catch(m){c=!0,l=m}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}return i},t.checkMultipleRoles=function(e,n,r){if(!e)return!1;for(var a in e)if(t.checkRule(e[a],n,r))return!0;return!1}},505:function(e,t,n){e.exports=n.p+"static/media/loading-circle.eb332664.svg"},507:function(e,t,n){e.exports=n.p+"static/media/linux.f8aa693f.png"},508:function(e,t){e.exports="data:image/png;base64,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"},509:function(e,t){e.exports="data:image/png;base64,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"},520:function(e,t){e.exports="data:image/png;base64,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"},546:function(e,t,n){e.exports=n(1074)},63:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=r(n(933)),i=r(n(934));!function(e){e.Requests="requests.count",e.EventsIn="eventsIn.count",e.EventsOut="eventsOut.count",e.Warnings="warnings.count",e.Errors="errors.count",e.Criticals="criticals.count"}(a=t.Metric||(t.Metric={}));var s=["cpu.usage","mem.usage"],c=[a.Requests,a.Errors,a.Criticals,a.Warnings,a.EventsIn,a.EventsOut];t.groupEntriesByTime=function(e,t){if(e&&e.length){var n=i.default(t),r=e[0].ts;return o.default.groupBy(e,function(e){return e.ts-r<=n?r:r=e.ts})}},t.mergeEntriesByTime=function(e,t){return o.default.values(o.default.mapValues(e,function(e,n){return l(e,n,t)}))};var l=function(e,t,n){var r={},a={},i=!0,l=!1,u=void 0;try{for(var d,p=function(){var t=d.value;r[t]=r[t]||{};var n=o.default.filter(e,function(e){return e.host===t});s.forEach(function(e){var i=o.default.sumBy(n,e);o.default.set(r[t],e,o.default.round(i/n.length,2)),o.default.set(a,e,o.default.get(a,e,0)+i)}),c.forEach(function(e){var i=o.default.sumBy(n,e);o.default.set(r[t],e,i),o.default.set(a,e,o.default.get(a,e,0)+i)})},f=n[Symbol.iterator]();!(i=(d=f.next()).done);i=!0)p()}catch(m){l=!0,u=m}finally{try{i||null==f.return||f.return()}finally{if(l)throw u}}return s.forEach(function(t){return o.default.set(a,t,o.default.round(o.default.get(a,t)/e.length,2))}),{ts:+t,hosts:r,summary:a}};t.calculateOverviewForHost=function(e){var t={};return s.forEach(function(n){return o.default.set(t,n,o.default.get(o.default.maxBy(e,n),n))}),c.forEach(function(n){return o.default.set(t,n,o.default.sumBy(e,n))}),t}},732:function(e,t,n){},751:function(e,t){},753:function(e,t){},787:function(e,t){},788:function(e,t){},913:function(e,t,n){var r={"./ar.svg":914,"./de.svg":915,"./en.svg":916,"./es.svg":917,"./fr.svg":918,"./he.svg":919,"./hi.svg":920,"./it.svg":921,"./ja.svg":922,"./ko.svg":923,"./missing.svg":924,"./nl.svg":925,"./pl.svg":926,"./pt.svg":927,"./ru.svg":928,"./zh.svg":929};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=913},914:function(e,t,n){e.exports=n.p+"static/media/ar.516d1901.svg"},915:function(e,t,n){e.exports=n.p+"static/media/de.3e726c2b.svg"},916:function(e,t,n){e.exports=n.p+"static/media/en.4f1b7af5.svg"},917:function(e,t,n){e.exports=n.p+"static/media/es.cc1b41b0.svg"},918:function(e,t,n){e.exports=n.p+"static/media/fr.b1156355.svg"},919:function(e,t,n){e.exports=n.p+"static/media/he.f62b32f0.svg"},920:function(e,t,n){e.exports=n.p+"static/media/hi.e4ab7bd0.svg"},921:function(e,t,n){e.exports=n.p+"static/media/it.8d15de04.svg"},922:function(e,t,n){e.exports=n.p+"static/media/ja.8608025c.svg"},923:function(e,t,n){e.exports=n.p+"static/media/ko.6d3d963f.svg"},924:function(e,t,n){e.exports=n.p+"static/media/missing.068a3f6b.svg"},925:function(e,t,n){e.exports=n.p+"static/media/nl.c5faaf5a.svg"},926:function(e,t,n){e.exports=n.p+"static/media/pl.dfb064d1.svg"},927:function(e,t,n){e.exports=n.p+"static/media/pt.284babb6.svg"},928:function(e,t,n){e.exports=n.p+"static/media/ru.7a8b3a7d.svg"},929:function(e,t,n){e.exports=n.p+"static/media/zh.02c229de.svg"}},[[546,1,2]]]);